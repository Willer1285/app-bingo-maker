var P;P=function(){var P,A,E,L,et;function showHide(P,A){null==A||1==A?$("#loading").show().css("z-index",100):(P&&P.prop("disabled",!1),$("#loading").hide().css("z-index",-1))}function removeError(P){var A,E;P.closest(".uk-form-row").hasClass("formRowError")&&(A=P.closest(".uk-form-row"),P.removeClass("uk-form-danger"),A.removeClass("formRowError"),P.unbind("change"),void 0!==$("#tooltip")&&void 0!==(E=A.children(".uk-tooltip"))&&E.hide(150,(function(){E.remove()})))}function addError(P,A){var E,L;return(E=P.closest(".uk-form-row")).hasClass("formRowError")||(E.addClass("formRowError"),E.find("input,select,textarea").addClass("uk-form-danger"),void 0!==$("#tooltip")&&(void 0!==E.children(".uk-tooltip")&&E.children(".uk-tooltip").remove(),(L=$("#tooltip").clone().removeAttr("id").appendTo(E)).children("div.uk-tooltip-inner").text(A),L.css("left",P.position().left+P.width()+20).show(150))),P.unbind("change"),P.bind("change",(function(){removeError(P)})),!0}function regexCheck(P,A,E){var L=[];return L.cpostal=/^[0-9]{5}-[0-9]{4}$|^[0-9]{5}$|^[A-Z][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,L.notempty=/.+/,L.tel=/^(\([0-9]{3}\)|\d{3}-??)[0-9]{3}\-??[0-9]{4}$/,L.name=/^([\p{L}a-zA-Z0-9]*)$/i,L.email=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,L.UPC=/^[0-9]{5}$/i,L.URL=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,!!L[A].test(P)}function validForm(P,A,E){var L,et=!1,nt=(E=void 0===E||!0===E,$("body").hasClass("en")?"en":"fr");if($("#"+P).children(".formRowError").each((function(){void 0!==$(".uk-tooltip")&&$(this).children(".uk-tooltip").remove(),$(this).removeClass("formRowError")})),$("#"+P+" .required").each((function(){$(this).val().trim()||(L="en"===nt?"This field is required.":"Ce champs est requis.",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .min1").each((function(){parseInt($(this).val().trim())<=0&&(L="en"===nt?"This field is required.":"Ce champs est requis.",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .wysiwygRequired").each((function(){""===$(this).ckeditor().val()?(L="en"===nt?"This field is required.":"Ce champs est requis.",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L)):removeError($(this))})),$("#"+P+" .selRequired").each((function(){$(this).val()||(L="en"===nt?"Please choose an option.":"Veuillez sélectionner une option.",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .mselRequired").each((function(){$(this).selectedIndex<0&&(L="en"===nt?"Please choose at least one option.":"Veuillez sélectionner au moins une option.",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .validName").each((function(){$(this).val().trim()&&regexCheck($(this).val(),"name")&&(L="en"===nt?"Please enter a valid name.":"Veuillez entrer un nom valide (ex. : Prénom Nom).",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .validMail").each((function(){$(this).val().trim()&&!regexCheck($(this).val(),"email")&&(L="en"===nt?"Please enter a valid email address (ex.: email@domain.com)":"Veuillez entrer une adresse courriel valide (ex. : courriel@domaine.com).",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .validTel").each((function(){$(this).val().trim()&&!regexCheck($(this).val(),"tel")&&(L="en"===nt?"Please enter a valid phone number.":"Veuillez entrer un numéro valide (ex. : 418-999-9999).",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .validCPostal").each((function(){$(this).val().trim()&&!regexCheck($(this).val().toUpperCase(),"notempty")&&(L="en"===nt?"Please enter a valid postal code.":"Veuillez entrer un code postal valide (ex. : G7X 9X9).",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .validFile").each((function(){var P=$(this).val().toLowerCase();!$(this).val().trim()||P.contains("pdf")||P.contains("doc")||P.contains("zip")||P.contains("rar")||(L="en"===nt?"Accepted formats are : pdf, doc, zip and rar.":"Les formats de fichiers acceptés sont : pdf, doc, zip et rar.",et=addError($(this),L))})),$("#"+P+" .validURL").each((function(){var P=encodeURI($(this).val().trim());P&&!regexCheck(P.toUpperCase(),"URL")&&(L="en"===nt?"Please enter a valid URL.":"Veuillez entrer une URL valide.",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .validCheckbox").each((function(){var P=!1;$(this).children("input").each((function(A){!0===A.checked&&(P=!0)})),!1===P&&(L="en"===nt?"Please select at least on option.":"Veuillez sélectionner au moins une option.",et=addError($(this),L))})),$("#"+P+" .ifCheckRequired").each((function(){$(this).parent().children("input.checkbox").checked&&!$(this).val().trim()&&(L="en"===nt?"Please check this box.":"Veuillez cocher cette case.",et=addError($(this),$(this).attr("title")?$(this).attr("title"):L))})),$("#"+P+" .validPassword").each((function(){var P=$(this).val().trim(),A=$(this).attr("id"),E=A.charAt(0).toUpperCase()+A.slice(1);$(this).hasClass("notrequired")?P.length>0&&P.length<6&&(L="en"===nt?"The password must have at least six (6) characters.":"Le mot de passe doit comporter au moins six (6) caractères",et=addError($(this),L)):(!P||P.length<6)&&(L="en"===nt?"The password must have at least six (6) characters.":"Le mot de passe doit comporter au moins six (6) caractères.",et=addError($(this),L)),void 0!==$("#confirm"+E)&&$("#confirm"+E).val().trim()!==P&&(L="en"===nt?"The password does not match.":"Le mot de passe ne correspond pas.",et=addError($("#confirm"+E),L))})),$("#"+P+" .validLink").each((function(){var P=$("#sourceId option:selected").text().toLowerCase();$(this).val().indexOf(P)<0&&(L="en"===nt?"This URL does not seem to correspond with the selected source.":"Cette url ne semble pas correspondre avec la source sélectionnée.",et=addError($(this),L))})),!E)return!et||($("#"+P).find(".formRowError").eq(0).find("input,select,textarea").eq(0).focus(),!1);et?(showHide(A,!1),$("#"+P).find(".formRowError").eq(0).find("input,select,textarea").eq(0).focus()):(showHide(A,!0),document.getElementById(P).submit())}
/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */function getDefaultExportFromCjs(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}P=function(P){var A,E,L,et,nt,dt,ut,pt,mt,gt,vt,wt,_t,yt,bt,$t,Dt,St,It,Pt,Mt,At,Ot,Ut,Ft,Wt,Yt,jt,Bt,Nt,qt,Gt,Vt,Jt,Xt,Kt,te,ee,ie,ne,ae,oe,re,se,le,de,ue,ce,he,pe,fe,$,me,ge,ve,we,_e,ye,ke,be,$e,Ce,xe,Te,De,Se,Ie,Pe,Me,Ae,Ee,Oe,Ue,Fe,Le,Re,ze,He,We,Ye,je,Be,Ne,qe,Ge,Ve;return mt=(dt="smallipop")+"-hint",vt=dt+"-instance",pt=dt+"-content",wt=dt+"-left",_t=dt+"-right",ut=dt+"-bottom",et=dt+"-align-left",nt=dt+"-align-right",gt=dt+"-initialized",yt=dt+"-theme-",St=(bt=dt+"-tour")+"-content",Mt=bt+"-overlay",It=bt+"-footer",Dt=bt+"-close-icon",Ot=bt+"-progress",$t=bt+"-close",At=bt+"-prev",Pt=bt+"-next",ne="focus."+dt,ie="click."+dt,ee="blur."+dt,oe="mouseout."+dt,re="mouseover."+dt,de="touchend."+dt,se="resize."+dt,le="scroll."+dt,ae="keyup."+dt,Kt=dt+"OriginalZIndex",Wt=dt+"BeingShown",qt=dt+"HideDelayTimer",Gt=dt+"ShowDelayTimer",Vt=dt+"TriggerHovered",jt=dt+"PopupHovered",Nt=dt+"Shown",Bt=dt+"Position",Jt=dt+"XDistance",Xt=dt+"YDistance",Yt=dt+"IsTour",Ie=new RegExp(dt+"-(align|bottom)w*","g"),Pe=new RegExp(dt+"w+","g"),A=P(document),L=P(window),E=null,ye={},qe={},Ft=null,$e=1,Ce=1,Ue=null,Ae=null,De="<div class='"+vt+"'><div class='"+pt+"'/></div>",P.smallipop=He={version:"0.6.2",defaults:{autoscrollPadding:200,contentAnimationSpeed:150,cssAnimations:{enabled:!1,show:"animated fadeIn",hide:"animated fadeOut"},funcEase:"easeInOutQuad",handleInputs:!0,hideDelay:500,hideTrigger:!1,hideOnPopupClick:!0,hideOnTriggerClick:!0,infoClass:mt,invertAnimation:!1,popupId:"",popupOffset:31,popupYOffset:0,popupDistance:20,popupDelay:100,popupAnimationSpeed:200,preferredPosition:"top",referencedContent:null,theme:"default",touchSupport:!0,tourHighlight:!1,tourHighlightColor:"#222",tourHighlightFadeDuration:200,tourHighlightOpacity:.5,tourHighlightZIndex:9997,tourNavigationEnabled:!0,triggerAnimationSpeed:150,triggerOnClick:!1,onAfterHide:null,onAfterShow:null,onBeforeHide:null,onBeforeShow:null,onTourClose:null,onTourNext:null,onTourPrev:null,windowPadding:30,labels:{prev:"Prev",next:"Next",close:"Close",of:"of"}}},P.easing.easeInOutQuad||(P.easing.easeInOutQuad=function(P,A,E,L,et){return(A/=et/2)<1?L/2*A*A+E:-L/2*(--A*(A-2)-1)+E}),Ee=function(){var P,A,E,L,et;for(E in et=[],qe)A=qe[E],et.push(function(){var E,et,nt;for(nt=[],E=0,et=A.length;et>E;E++)P=A[E],L=P.trigger,nt.push(L.data(Kt)?L.css("zIndex",L.data(Kt)):void 0);return nt}());return et},We="undefined"!=typeof Modernizr&&null!==Modernizr?Modernizr.touch:void 0,Ut="undefined"!=typeof Modernizr&&null!==Modernizr?Modernizr.cssanimations:void 0,ve=function(A){return P("."+(dt+A))},ge=function(){return E||(E=P("<div id='"+Mt+"'/>").appendTo(P("body")).fadeOut(0)),E},_e=function(P){return ge().fadeOut(P.tourHighlightFadeDuration),Ee()},we=function(A){var E,L,et,nt,ut,pt,mt,gt,vt,wt,_t,yt,bt,$t,Dt,St,It,Pt;for(pt in clearTimeout(Ue),gt=(null!=A?A.target:void 0)?P(A.target):A,Pt=[],ye)(mt=(ut=(nt=ye[pt]).data())[Nt])&&(_t=(vt=ve(mt)).is(gt),wt=vt.data(dt),yt=wt.options||He.defaults,(!ut[Yt]&&!wt.isFormElement||nt.is(gt)||_t&&nt.is(yt.popupInstance))&&(ut[Yt]&&(Ft=null,null!=(St=vt.data(dt))&&"function"==typeof(Dt=St.options).onTourClose&&Dt.onTourClose(),_e(yt)),et=!yt.hideOnTriggerClick&&_t,L=!yt.hideOnPopupClick&&nt.find(gt).length,(!gt||!vt.length||"click"!==(It=null!=A?A.type:void 0)&&"touchend"!==It||!et&&!L)&&(mt&&yt.hideTrigger&&vt.stop(!0).fadeTo(yt.triggerAnimationSpeed,1),nt.data(qt,null).data(Wt,!1),yt.cssAnimations.enabled?(nt.removeClass(yt.cssAnimations.show).addClass(yt.cssAnimations.hide).data(Nt,""),Pt.push(yt.onAfterHide?window.setTimeout(yt.onAfterHide,yt.popupAnimationSpeed):void 0)):(E=yt.invertAnimation?-1:1,bt=ut[Jt]*E,$t=ut[Xt]*E,Pt.push(nt.stop(!0).animate({top:"-="+$t,left:"+="+bt,opacity:0},yt.popupAnimationSpeed,yt.funcEase,(function(){var A;return(A=P(this)).data(Wt)||A.css("display","none").data(Nt,""),"function"==typeof yt.onAfterHide?yt.onAfterHide():void 0})))))));return Pt},Re=function(A){var E,L;return(E=P(this).data(dt))?(E.popupInstance.data(Nt)===E.id||"checkbox"!==(L=!E.type)&&"radio"!==L||null!=A&&A.preventDefault(),Ve.call(this)):void 0},be=function(P){return clearTimeout(P.data(qt)),clearTimeout(P.data(Gt))},Se=function(P){return null==P&&(P=50),clearTimeout(Ae),Ae=setTimeout(Me,P)},fe=function(P,A){return P?(P.match(A)||[]).join(" "):void 0},he=function(P,A){return fe(A,Ie)},pe=function(P,A){return fe(A,Pe)},Me=function(A){var E,L,pt,mt,gt,bt,$t,Dt,St,It,Pt,Mt,At,Ot,Ut,Ft,Yt,jt,qt,Gt,Vt,Kt,te,ee,ie,ne,ae,oe,re,se,le,de,ce,pe,$,fe,me;for(At in null==A&&(A=!0),me=[],ye)(Kt=($t=(gt=ye[At]).data())[Nt])&&(mt=(ee=ve(Kt)).data(dt).options,gt.removeClass(he),A&&(te=yt+mt.theme.split(" ").join(" "+yt),gt.attr("class",vt+" "+te)),ie=P(window),le=pe=mt.popupDistance,de=mt.popupOffset,$=mt.popupYOffset,E="fixed"===gt.data(Bt),Mt=gt.outerHeight(),bt=(Ft=gt.outerWidth())/2,re=ie.width(),ne=ie.height(),oe=ie.scrollTop(),ae=ie.scrollLeft(),se=mt.windowPadding,L=ee.offset(),Gt=ee.outerWidth(),qt=ee.outerHeight(),Vt=L.top-oe,Ot=L.left+Gt/2,Ut=L.top-Mt+$,Pt=Vt-(Yt=Mt+mt.popupDistance-$),Dt=ne-Vt-qt-Yt,St=L.left-Ft-de,It=re-L.left-Gt-Ft,"left"===(jt=mt.preferredPosition)||"right"===jt?(pe=0,Ut+=qt/2+Mt/2,"right"===jt&&It>se||se>St?(gt.addClass(_t),Ot=L.left+Gt+de):(gt.addClass(wt),Ot=L.left-Ft-de,le=-le)):(le=0,Ot+bt>re-se?(Ot-=2*bt-de,gt.addClass(et)):se>Ot-bt?(Ot-=de,gt.addClass(nt)):Ot-=bt,se>Ot&&(Ot=se),("bottom"===jt&&Dt>se||se>Pt)&&(pe=-pe,Ut+=Mt+qt-2*$,gt.addClass(ut))),qt>Mt&&(fe=Ut+Mt+se-pe+$-oe-ne)>0&&(Ut=Math.max(Ut-fe-se,L.top+$+se+pe)),Gt>Ft&&(ce=Ot+Ft+se+le+de-ae-re)>0&&(Ot=Math.max(Ot-ce+se,L.left+de+se-le)),mt.hideTrigger&&ee.stop(!0).fadeTo(mt.triggerAnimationSpeed,0),pt=0,(!$t[Wt]||mt.cssAnimations.enabled)&&(Ut-=pe,Ot+=le,le=pe=0,pt=1),E&&(Ot-=ae,Ut-=oe),gt.data(Jt,le).data(Xt,pe).css({top:Ut,left:Ot,display:"block",opacity:pt}),me.push(ue(gt,{top:"-="+pe,left:"+="+le,opacity:1})));return me},$=function(){return Me(!1)},ue=function(P,A){var E,L;return(E=(null!=(L=ve(P.data(Nt)).data(dt))?L.options:void 0)||He.defaults).cssAnimations.enabled?(P.addClass(E.cssAnimations.show),window.setTimeout((function(){return ce(P,E)}),E.popupAnimationSpeed)):P.stop(!0).animate(A,E.popupAnimationSpeed,E.funcEase,(function(){return ce(P,E)}))},ce=function(P,A){var E;return(E=P.data())[Wt]?(P.data(Wt,!1),"function"==typeof A.onAfterShow?A.onAfterShow(ve(E[Nt])):void 0):void 0},Le=function(A,L){var et,nt,ut,mt,gt,vt,wt,_t,yt;return null==L&&(L=""),yt=(_t=A.data(dt)).options,(ut=_t.popupInstance).data(Vt)?((vt=ut.data(Nt))&&(et=ve(vt)).length&&(nt=et.data(dt).options||He.defaults).hideTrigger&&et.stop(!0).fadeTo(nt.fadeSpeed,1),yt.tourHighlight&&yt.tourIndex?(wt=ge().css({backgroundColor:yt.tourHighlightColor,zIndex:yt.tourHighlightZIndex}),Ee(),"static"===A.css("position")&&A.css("position","relative"),A.data(Kt)||A.data(Kt,A.css("zIndex")),A.css("zIndex",yt.tourHighlightZIndex+1),wt.fadeTo(yt.tourHighlightFadeDuration,yt.tourHighlightOpacity)):E&&_e(yt),mt=L||_t.hint,yt.referencedContent&&!L&&(mt=P(yt.referencedContent).clone(!0,!0)||mt),gt=ke(A)?"fixed":"absolute",vt!==_t.id&&ut.hide(0),ut.data(Wt,!0).data(Nt,_t.id).data(Bt,gt).find("."+pt).empty().append(mt),ut.css("position",gt),Se(0)):void 0},ke=function(P){var A;for(A=P;A.length&&"HTML"!==A[0].nodeName.toUpperCase();){if("fixed"===A.css("position"))return!0;A=A.parent()}return!1},Ve=function(){var A,E,L,et,nt;return(A=(L=E=P(this)).hasClass(gt))||(L=ve(E.data(Nt))),L.length?(E=(et=L.data(dt)).popupInstance.data(A?Vt:jt,!0),be(E),E.data(Nt)!==et.id||0===E.css("opacity")?("function"==typeof(nt=et.options).onBeforeShow&&nt.onBeforeShow(L),E.data(Gt,setTimeout((function(){return Le(L)}),et.options.popupDelay))):void 0):void 0},Ge=function(){var A,E,L,et,nt,ut;return(A=(et=E=P(this)).hasClass(gt))||(et=ve(E.data(Nt))),et.length?(nt=et.data(dt),E=nt.popupInstance.data(A?Vt:jt,!1),be(E),(L=E.data())[jt]||L[Vt]?void 0:("function"==typeof(ut=nt.options).onBeforeHide&&ut.onBeforeHide(et),E.data(qt,setTimeout((function(){return we(E)}),nt.options.hideDelay)))):void 0},Te=function(){return clearTimeout(Ue),Ue=setTimeout($,250)},Fe=function(A,E){var L,et,nt;if(null!=A?A.length:void 0)return L=(nt=A.data(dt)).tourTitle,(et=nt.popupInstance.find(L?"."+St:"."+pt)).html()!==E?et.stop(!0).fadeTo(nt.options.contentAnimationSpeed,0,(function(){return P(this).html(E).fadeTo(nt.options.contentAnimationSpeed,1),Me()})):void 0},Oe=function(P,A){var E,L,et,nt,ut,pt;if((et=null!=(nt=P.data(dt))?nt.tourTitle:void 0)&&qe[et])for(qe[et].sort((function(P,A){return P.index-A.index})),"number"!=typeof A||A%1!=0?A=-1:A-=1,Ft=et,L=ut=0,pt=(E=qe[et]).length-1;pt>=0?pt>=ut:ut>=pt;L=pt>=0?++ut:--ut)if(A>=0&&L===A||0>A&&E[L].id===nt.id)return Ne(et,L)},Ne=function(A,E){var L,et,nt,ut,pt,mt,gt;return(nt=qe[A])?(ut="",(pt=(mt=(gt=(et=nt[E].trigger).data(dt)).options).tourNavigationEnabled)&&(ut+="<div class='"+Ot+"'>"+(E+1)+" "+mt.labels.of+" "+nt.length+"</div>",E>0&&(ut+="<a href='#' class='"+At+"'>"+mt.labels.prev+"</a>"),E<nt.length-1&&(ut+="<a href='#' class='"+Pt+"'>"+mt.labels.next+"</a>")),pt&&E!==nt.length-1||(ut+="<a href='#' class='"+$t+"'>"+mt.labels.close+"</a>"),(L=P("<div class='"+St+"'/><a href='#' class='"+Dt+"'>&Chi;</a><div class='"+It+"'>"+ut+"</div>")).eq(0).append(gt.hint),be(gt.popupInstance),gt.popupInstance.data(Vt,!0),ze(et,L)):void 0},ze=function(E,et){var nt,ut,pt,mt;return nt=(ut=E.offset().top)-A.scrollTop(),mt=L.height(),pt=E.data(dt).options,!ke(E)&&(nt<pt.autoscrollPadding||nt>mt-pt.autoscrollPadding)?P("html, body").animate({scrollTop:ut-mt/2},800,"swing",(function(){return Le(E,et)})):Le(E,et)},je=function(P){var A,E,L,et,nt,ut;if(null!=P&&P.preventDefault(),A=qe[Ft])for(L=A[0].popupInstance.data(Nt)||A[0].id,E=nt=0,ut=A.length-2;ut>=0?ut>=nt:nt>=ut;E=ut>=0?++nt:--nt)if(A[E].id===L&&(et=A[E].trigger.data(dt).options).tourNavigationEnabled)return"function"==typeof et.onTourNext&&et.onTourNext(A[E+1].trigger),Ne(Ft,E+1)},Be=function(P){var A,E,L,et,nt,ut;if(null!=P&&P.preventDefault(),A=qe[Ft])for(L=A[0].popupInstance.data(Nt)||A[0].id,E=nt=1,ut=A.length-1;ut>=1?ut>=nt:nt>=ut;E=ut>=1?++nt:--nt)if(A[E].id===L&&(et=A[E].trigger.data(dt).options).tourNavigationEnabled)return"function"==typeof et.onTourPrev&&et.onTourPrev(A[E-1].trigger),Ne(Ft,E-1)},Ye=function(A){var E;return null!=A&&A.preventDefault(),E=P(A.target).closest("."+vt),we(E)},te=function(A){return A.each((function(){var A;return(A=P(this)).data(dt)?A.unbind("."+dt).data(dt,{}).removeClass(pe):void 0}))},xe=function(P){var A,E,L,et,nt;switch(L="input"===(et=null!=P?P.target.tagName.toLowerCase():void 0)||"textarea"===et,P.which){case 27:for(E in nt=[],ye)A=ye[E],nt.push(we(A));return nt;case 37:if(!L)return Be();break;case 39:if(!L)return je()}},me=function(E,et){var nt;return null==E&&(E="default"),null==et&&(et=!1),ye[E]?ye[E]:(nt=P(De).css("opacity",0).attr("id",""+(dt+Ce++)).addClass(vt).data(Jt,0).data(Xt,0).data(Yt,et).bind(re,Ve).bind(oe,Ge),P("body").append(nt),et?nt.delegate("."+At,ie,Be).delegate("."+Pt,ie,je).delegate("."+$t+", ."+Dt,ie,Ye):nt.delegate("a",ie,we),2===Ce&&(A.bind(ie+" "+de,we),L.bind(se,Se).bind(le,Te).bind(ae,xe)),ye[E]=nt)},P.fn.smallipop=function(A,E){var L;if(null==A&&(A={}),null==E&&(E=""),0===this.length)return this;if("string"==typeof A){switch(A.toLowerCase()){case"show":Re.call(this.first().get(0));break;case"hide":we(this.first().get(0));break;case"destroy":te(this);break;case"tour":Oe(this.first(),E);break;case"update":Fe(this.first(),E)}return this}return A=P.extend(!0,{},He.defaults,A),Ut||(A.cssAnimations.enabled=!1),L=me(A.popupId),this.each((function(){var et,nt,ut,pt,mt,vt,wt,_t,yt,bt,$t,Dt,St,It,Pt,Mt;if(_t=(nt=P(this))[0].tagName.toLowerCase(),Pt=nt.attr("type"),$t=nt.data(),mt=E||nt.attr("title"),(et=P("> ."+A.infoClass+":first",nt)).length&&(mt=et.clone(!0,!0).removeClass(A.infoClass)),mt&&!nt.hasClass(gt)){for(vt in pt=$e++,Dt={},It=L,St=P.extend(!0,{},A),"object"==typeof $t[dt]&&P.extend(!0,St,$t[dt]),$t)Mt=$t[vt],vt.indexOf(dt)>=0&&(wt=vt.replace(dt,""))&&(St[wt=wt.substr(0,1).toLowerCase()+wt.substr(1)]=Mt);if(ut=St.handleInputs&&("input"===_t||"select"===_t||"textarea"===_t),St.tourIndex?(bt=St.tourTitle||"defaultTour",St.hideOnTriggerClick=St.hideOnPopupClick=!1,It=me(bt,!0),qe[bt]||(qe[bt]=[]),qe[bt].push({index:St.tourIndex||0,id:pt,trigger:nt,popupInstance:It})):(yt=St.touchSupport&&We,ut?(St.hideOnTriggerClick=!1,Dt[ne]=Ve,Dt[ee]=Ge):yt||(Dt[oe]=Ge),St.triggerOnClick||yt?Dt[ie]=Re:(Dt[ie]=Ge,Dt[re]=Ve)),nt.addClass(gt+" "+dt+pt).attr("title","").data(dt,{id:pt,hint:mt,options:St,tagName:_t,type:Pt,tourTitle:bt,popupInstance:It,isFormElement:ut}).bind(Dt),!St.hideOnTriggerClick)return nt.delegate("a",ie,we)}}))}},"function"==typeof define&&define.amd?define(["jquery"],P):P(jQuery),function(P,A){if(P){var E=function(){function t(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function i(P,A,E,L){if(!(A>=1)){for(var et=P.width,nt=P.height,dt=Math.max(L.width,Math.min(E.width,Math.round(P.width*A))),ut=Math.max(L.height,Math.min(E.height,Math.round(P.height*A))),pt=P;et>dt&&nt>ut;){var mt=document.createElement("canvas");(et=Math.round(.5*pt.width))<dt&&(et=dt),(nt=Math.round(.5*pt.height))<ut&&(nt=ut),mt.width=et,mt.height=nt,mt.getContext("2d").drawImage(pt,0,0,et,nt),y(pt),pt=mt,mt=null}P.width=dt,P.height=ut,P.getContext("2d").drawImage(pt,0,0,dt,ut),pt!==P&&y(pt)}}!function(){function t(P,E){E=E||{bubbles:!1,cancelable:!1,detail:A};var L=document.createEvent("CustomEvent");return L.initCustomEvent(P,E.bubbles,E.cancelable,E.detail),L}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}();var n=function(P,A,E){var L,et,nt=document.createElement("img");if(nt.onerror=A,nt.onload=function(){!et||E&&E.noRevoke||n.revokeObjectURL(et),A&&A(n.scale(nt,E))},n.isInstanceOf("Blob",P)||n.isInstanceOf("File",P))L=et=n.createObjectURL(P),nt._type=P.type;else{if("string"!=typeof P)return!1;L=P,E&&E.crossOrigin&&(nt.crossOrigin=E.crossOrigin)}return L?(nt.src=L,nt):n.readFile(P,(function(P){var E=P.target;E&&E.result?nt.src=E.result:A&&A(P)}))},P=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;n.isInstanceOf=function(P,A){return Object.prototype.toString.call(A)==="[object "+P+"]"},n.transformCoordinates=function(){},n.getTransformedOptions=function(P,A){var E,L,et,nt,dt=A.aspectRatio;if(!dt)return A;for(L in E={},A)A.hasOwnProperty(L)&&(E[L]=A[L]);return E.crop=!0,(et=P.naturalWidth||P.width)/(nt=P.naturalHeight||P.height)>dt?(E.maxWidth=nt*dt,E.maxHeight=nt):(E.maxWidth=et,E.maxHeight=et/dt),E},n.renderImageToCanvas=function(P,A,E,L,et,nt,dt,ut,pt,mt){return P.getContext("2d").drawImage(A,E,L,et,nt,dt,ut,pt,mt),P},n.hasCanvasOption=function(P){return P.canvas||P.crop||!!P.aspectRatio},n.scale=function(P,E){function o(){var P=Math.max((nt||St)/St,(dt||It)/It);P>1&&(St*=P,It*=P)}function a(){var P=Math.min((L||St)/St,(et||It)/It);P<1&&(St*=P,It*=P)}E=E||{};var L,et,nt,dt,ut,pt,mt,gt,vt,wt,_t,yt=document.createElement("canvas"),bt=P.getContext||n.hasCanvasOption(E)&&yt.getContext,$t=P.naturalWidth||P.width,Dt=P.naturalHeight||P.height,St=$t,It=Dt;if(bt&&(mt=(E=n.getTransformedOptions(P,E)).left||0,gt=E.top||0,E.sourceWidth?(ut=E.sourceWidth,E.right!==A&&E.left===A&&(mt=$t-ut-E.right)):ut=$t-mt-(E.right||0),E.sourceHeight?(pt=E.sourceHeight,E.bottom!==A&&E.top===A&&(gt=Dt-pt-E.bottom)):pt=Dt-gt-(E.bottom||0),St=ut,It=pt),L=E.maxWidth,et=E.maxHeight,nt=E.minWidth,dt=E.minHeight,bt&&L&&et&&E.crop?(St=L,It=et,(_t=ut/pt-L/et)<0?(pt=et*ut/L,E.top===A&&E.bottom===A&&(gt=(Dt-pt)/2)):_t>0&&(ut=L*pt/et,E.left===A&&E.right===A&&(mt=($t-ut)/2))):((E.contain||E.cover)&&(nt=L=L||nt,dt=et=et||dt),E.cover?(a(),o()):(o(),a())),bt){if((vt=E.pixelRatio)>1&&(yt.style.width=St+"px",yt.style.height=It+"px",St*=vt,It*=vt,yt.getContext("2d").scale(vt,vt)),(wt=E.downsamplingRatio)>0&&wt<1&&St<ut&&It<pt)for(;ut*wt>St;)yt.width=ut*wt,yt.height=pt*wt,n.renderImageToCanvas(yt,P,mt,gt,ut,pt,0,0,yt.width,yt.height),ut=yt.width,pt=yt.height,(P=document.createElement("canvas")).width=ut,P.height=pt,n.renderImageToCanvas(P,yt,0,0,ut,pt,0,0,ut,pt);return yt.width=St,yt.height=It,n.transformCoordinates(yt,E),n.renderImageToCanvas(yt,P,mt,gt,ut,pt,0,0,St,It)}return P.width=St,P.height=It,P},n.createObjectURL=function(A){return!!P&&P.createObjectURL(A)},n.revokeObjectURL=function(A){return!!P&&P.revokeObjectURL(A)},n.readFile=function(P,A,E){if(window.FileReader){var L=new FileReader;if(L.onload=L.onerror=A,L[E=E||"readAsDataURL"])return L[E](P),L}return!1};var E=n.hasCanvasOption,L=n.transformCoordinates,et=n.getTransformedOptions;n.hasCanvasOption=function(P){return!!P.orientation||E.call(n,P)},n.transformCoordinates=function(P,A){L.call(n,P,A);var E=P.getContext("2d"),et=P.width,nt=P.height,dt=P.style.width,ut=P.style.height,pt=A.orientation;if(pt&&!(pt>8))switch(pt>4&&(P.width=nt,P.height=et,P.style.width=ut,P.style.height=dt),pt){case 2:E.translate(et,0),E.scale(-1,1);break;case 3:E.translate(et,nt),E.rotate(Math.PI);break;case 4:E.translate(0,nt),E.scale(1,-1);break;case 5:E.rotate(.5*Math.PI),E.scale(1,-1);break;case 6:E.rotate(.5*Math.PI),E.translate(0,-nt);break;case 7:E.rotate(.5*Math.PI),E.translate(et,-nt),E.scale(-1,1);break;case 8:E.rotate(-.5*Math.PI),E.translate(-et,0)}},n.getTransformedOptions=function(P,A){var E,L,nt=et.call(n,P,A),dt=nt.orientation;if(!dt||dt>8||1===dt)return nt;for(L in E={},nt)nt.hasOwnProperty(L)&&(E[L]=nt[L]);switch(nt.orientation){case 2:E.left=nt.right,E.right=nt.left;break;case 3:E.left=nt.right,E.top=nt.bottom,E.right=nt.left,E.bottom=nt.top;break;case 4:E.top=nt.bottom,E.bottom=nt.top;break;case 5:E.left=nt.top,E.top=nt.left,E.right=nt.bottom,E.bottom=nt.right;break;case 6:E.left=nt.top,E.top=nt.right,E.right=nt.bottom,E.bottom=nt.left;break;case 7:E.left=nt.bottom,E.top=nt.right,E.right=nt.top,E.bottom=nt.left;break;case 8:E.left=nt.bottom,E.top=nt.left,E.right=nt.top,E.bottom=nt.right}return nt.orientation>4&&(E.maxWidth=nt.maxHeight,E.maxHeight=nt.maxWidth,E.minWidth=nt.minHeight,E.minHeight=nt.minWidth,E.sourceWidth=nt.sourceHeight,E.sourceHeight=nt.sourceWidth),E};var nt=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);n.blobSlice=nt&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},n.metaDataParsers={jpeg:{65505:[]}},n.parseMetaData=function(P,A,E){var L=this,et=(E=E||{}).maxMetaDataSize||262144,nt={};window.DataView&&P&&P.size>=12&&"image/jpeg"===P.type&&n.blobSlice&&n.readFile(n.blobSlice.call(P,0,et),(function(P){if(P.target.error)A(nt);else{var et,dt,ut,pt,mt=P.target.result,gt=new DataView(mt),vt=2,wt=gt.byteLength-4,_t=vt;if(65496===gt.getUint16(0)){for(;vt<wt&&((et=gt.getUint16(vt))>=65504&&et<=65519||65534===et)&&!(vt+(dt=gt.getUint16(vt+2)+2)>gt.byteLength);){if(ut=n.metaDataParsers.jpeg[et])for(pt=0;pt<ut.length;pt+=1)ut[pt].call(L,gt,vt,dt,nt,E);_t=vt+=dt}!E.disableImageHead&&_t>6&&(mt.slice?nt.imageHead=mt.slice(0,_t):nt.imageHead=new Uint8Array(mt).subarray(0,_t))}A(nt)}}),"readAsArrayBuffer")||A(nt)},n.ExifMap=function(){return this},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(P){return this[P]||this[this.map[P]]},n.getExifThumbnail=function(P,A,E){var L,et,nt;if(E&&!(A+E>P.byteLength)){for(L=[],et=0;et<E;et+=1)nt=P.getUint8(A+et),L.push((nt<16?"0":"")+nt.toString(16));return"data:image/jpeg,%"+L.join("%")}},n.exifTagTypes={1:{getValue:function(P,A){return P.getUint8(A)},size:1},2:{getValue:function(P,A){return String.fromCharCode(P.getUint8(A))},size:1,ascii:!0},3:{getValue:function(P,A,E){return P.getUint16(A,E)},size:2},4:{getValue:function(P,A,E){return P.getUint32(A,E)},size:4},5:{getValue:function(P,A,E){return P.getUint32(A,E)/P.getUint32(A+4,E)},size:8},9:{getValue:function(P,A,E){return P.getInt32(A,E)},size:4},10:{getValue:function(P,A,E){return P.getInt32(A,E)/P.getInt32(A+4,E)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(P,A,E,L,et,nt){var dt,ut,pt,mt,gt,vt,wt=n.exifTagTypes[L];if(wt&&!((ut=(dt=wt.size*et)>4?A+P.getUint32(E+8,nt):E+8)+dt>P.byteLength)){if(1===et)return wt.getValue(P,ut,nt);for(pt=[],mt=0;mt<et;mt+=1)pt[mt]=wt.getValue(P,ut+mt*wt.size,nt);if(wt.ascii){for(gt="",mt=0;mt<pt.length&&"\0"!==(vt=pt[mt]);mt+=1)gt+=vt;return gt}return pt}},n.parseExifTag=function(P,A,E,L,et){var nt=P.getUint16(E,L);et.exif[nt]=n.getExifValue(P,A,E,P.getUint16(E+2,L),P.getUint32(E+4,L),L)},n.parseExifTags=function(P,A,E,L,et){var nt,dt,ut;if(!(E+6>P.byteLength||(nt=P.getUint16(E,L),dt=E+2+12*nt,dt+4>P.byteLength))){for(ut=0;ut<nt;ut+=1)this.parseExifTag(P,A,E+2+12*ut,L,et);return P.getUint32(dt,L)}},n.parseExifData=function(P,A,E,L,et){if(!et.disableExif){var nt,dt,ut,pt=A+10;if(1165519206===P.getUint32(A+4)&&!(pt+8>P.byteLength)&&0===P.getUint16(A+8)){switch(P.getUint16(pt)){case 18761:nt=!0;break;case 19789:nt=!1;break;default:return}42===P.getUint16(pt+2,nt)&&(dt=P.getUint32(pt+4,nt),L.exif=new n.ExifMap,(dt=n.parseExifTags(P,pt,pt+dt,nt,L))&&!et.disableExifThumbnail&&(ut={exif:{}},dt=n.parseExifTags(P,pt,pt+dt,nt,ut),ut.exif[513]&&(L.exif.Thumbnail=n.getExifThumbnail(P,pt+ut.exif[513],ut.exif[514]))),L.exif[34665]&&!et.disableExifSub&&n.parseExifTags(P,pt,pt+L.exif[34665],nt,L),L.exif[34853]&&!et.disableExifGps&&n.parseExifTags(P,pt,pt+L.exif[34853],nt,L))}}},n.metaDataParsers.jpeg[65505].push(n.parseExifData);var dt=function(){var P=[],E=[],L=[],et="transform",nt=window.getComputedStyle(document.documentElement,"");"webkit"===(Array.prototype.slice.call(nt).join("").match(/-(moz|webkit|ms)-/)||""===nt.OLink&&["","o"])[1]&&(et="webkitTransform");var s=function(P,E,L){var et=P;if(et.length!==A){for(var nt={chainers:[],then:function(P){return this.snabbt(P)},snabbt:function(P){var A=this.chainers.length;return this.chainers.forEach((function(E,L){E.snabbt(h(P,L,A))})),nt},setValue:function(P){return this.chainers.forEach((function(A){A.setValue(P)})),nt},finish:function(){return this.chainers.forEach((function(P){P.finish()})),nt},rollback:function(){return this.chainers.forEach((function(P){P.rollback()})),nt}},dt=0,ut=et.length;dt<ut;++dt)"string"==typeof E?nt.chainers.push(u(et[dt],E,h(L,dt,ut))):nt.chainers.push(u(et[dt],h(E,dt,ut),L));return nt}return"string"==typeof E?u(et,E,h(L,0,1)):u(et,h(E,0,1),L)},h=function(P,A,E){if(!P)return P;var L=$(P);J(P.delay)&&(L.delay=P.delay(A,E)),J(P.callback)&&(L.complete=function(){P.callback.call(this,A,E)});var et=J(P.allDone),nt=J(P.complete);return(nt||et)&&(L.complete=function(){nt&&P.complete.call(this,A,E),et&&A==E-1&&P.allDone()}),J(P.valueFeeder)&&(L.valueFeeder=function(L,et){return P.valueFeeder(L,et,A,E)}),J(P.easing)&&(L.easing=function(L){return P.easing(L,A,E)}),["position","rotation","skew","rotationPost","scale","width","height","opacity","fromPosition","fromRotation","fromSkew","fromRotationPost","fromScale","fromWidth","fromHeight","fromOpacity","transformOrigin","duration","delay"].forEach((function(et){J(P[et])&&(L[et]=P[et](A,E))})),L},u=function(P,A,L){if("attention"===A)return l(P,L);if("stop"===A)return p(P);if("detach"===A)return d(P);var et=A;m();var nt=v(P),dt=nt;dt=y(et,dt,!0);var ut=$(nt);ut=y(et,ut);var pt=w(dt,ut,et),mt=S(pt);E.push([P,mt]),mt.updateElement(P,!0);var gt=[],vt={snabbt:function(P){return gt.unshift(h(P,0,1)),vt},then:function(P){return this.snabbt(P)}};return k((function o(A){if(mt.tick(A),mt.updateElement(P),!mt.isStopped())return mt.completed()?void(et.loop>1&&!mt.isStopped()?(et.loop-=1,mt.restart(),k(o)):(et.complete&&et.complete.call(P),gt.length&&(et=gt.pop(),dt=y(et,ut,!0),ut=y(et,$(ut)),et=w(dt,ut,et),mt=S(et),E.push([P,mt]),mt.tick(A),k(o)))):k(o)})),et.manual?mt:vt},l=function(P,A){var L=y(A,j({}));A.movement=L;var et=C(A);E.push([P,et]),k((function n(E){et.tick(E),et.updateElement(P),et.completed()?(A.callback&&A.callback(P),A.loop&&A.loop>1&&(A.loop--,et.restart(),k(n))):k(n)}))},p=function(P){for(var A=0,L=E.length;A<L;++A){var et=E[A],nt=et[0],dt=et[1];nt===P&&dt.stop()}},c=function(P,A){for(var E=0,L=P.length;E<L;++E)if(P[E][0]===A)return E;return-1},d=function(P){var A,et,nt=[],dt=E.concat(L),ut=dt.length;for(et=0;et<ut;++et)A=dt[et][0],(P.contains(A)||P===A)&&nt.push(A);for(ut=nt.length,et=0;et<ut;++et)f(nt[et])},f=function(P){p(P);var A=c(E,P);A>=0&&E.splice(A,1),(A=c(L,P))>=0&&L.splice(A,1)},_=function(P,A){for(var E=0,L=P.length;E<L;++E){var et=P[E],nt=et[0],dt=et[1];if(nt===A){var ut=dt.getCurrentState();return dt.stop(),ut}}},m=function(){L=L.filter((function(P){return g(P[0]).body}))},g=function(P){for(var A=P;A.parentNode;)A=A.parentNode;return A},v=function(P){var A=_(E,P);return A||_(L,P)},y=function(P,A,E){A||(A=j({position:[0,0,0],rotation:[0,0,0],rotationPost:[0,0,0],scale:[1,1],skew:[0,0]}));var L="position",et="rotation",nt="skew",dt="rotationPost",ut="scale",pt="scalePost",mt="width",gt="height",vt="opacity";return E&&(L="fromPosition",et="fromRotation",nt="fromSkew",dt="fromRotationPost",ut="fromScale",pt="fromScalePost",mt="fromWidth",gt="fromHeight",vt="fromOpacity"),A.position=G(P[L],A.position),A.rotation=G(P[et],A.rotation),A.rotationPost=G(P[dt],A.rotationPost),A.skew=G(P[nt],A.skew),A.scale=G(P[ut],A.scale),A.scalePost=G(P[pt],A.scalePost),A.opacity=P[vt],A.width=P[mt],A.height=P[gt],A},w=function(P,A,E){return E.startState=P,E.endState=A,E},dt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(P){return setTimeout(P,1e3/60)},k=function(A){0===P.length&&dt(x),P.push(A)},x=function(A){for(var et=P.length,nt=0;nt<et;++nt)P[nt](A);P.splice(0,et);var ut=E.filter((function(P){return P[1].completed()}));L=L.filter((function(P){for(var A=0,E=ut.length;A<E;++A)if(P[0]===ut[A][0])return!1;return!0})),L=L.concat(ut),E=E.filter((function(P){return!P[1].completed()})),0!==P.length&&dt(x)},S=function(P){var E=P.startState,L=P.endState,et=G(P.duration,500),nt=G(P.delay,0),dt=P.perspective,ut=I(G(P.easing,"linear"),P),pt=0===et?L.clone():E.clone();P.transformOrigin,pt.transformOrigin=P.transformOrigin;var mt,gt,vt=0,wt=0,_t=!1,yt=!1,bt=P.manual,$t=0,Dt=nt/et;return gt=P.valueFeeder?V(P.valueFeeder,E,L,pt):q(E,L,pt),{stop:function(){_t=!0},isStopped:function(){return _t},finish:function(P){bt=!1,vt=wt-et*$t,mt=P,ut.resetFrom=$t},rollback:function(P){bt=!1,gt.setReverse(),vt=wt-et*(1-$t),mt=P,ut.resetFrom=$t},restart:function(){vt=A,ut.resetFrom(0)},tick:function(P){if(!_t){if(bt)return wt=P,void this.updateCurrentTransform();if(vt||(vt=P),P-vt>nt){yt=!0,wt=P-nt;var A=Math.min(Math.max(0,wt-vt),et);ut.tick(A/et),this.updateCurrentTransform(),this.completed()&&mt&&mt()}}},getCurrentState:function(){return pt},setValue:function(P){yt=!0,$t=Math.min(Math.max(P,1e-4),1+Dt)},updateCurrentTransform:function(){var P=ut.getValue();if(bt){var A=Math.max(1e-5,$t-Dt);ut.tick(A),P=ut.getValue()}gt.tween(P)},completed:function(){return!!_t||0!==vt&&ut.completed()},updateElement:function(P,A){if(yt||A){var E=gt.asMatrix(),L=gt.getProperties();X(P,E,dt),Y(P,L)}}}},C=function(P){var E=P.movement;P.initialVelocity=.1,P.equilibriumPosition=0;var L=R(P),et=!1,nt=E.position,dt=E.rotation,ut=E.rotationPost,pt=E.scale,mt=E.skew,gt=j({position:nt?[0,0,0]:A,rotation:dt?[0,0,0]:A,rotationPost:ut?[0,0,0]:A,scale:pt?[0,0]:A,skew:mt?[0,0]:A});return{stop:function(){et=!0},isStopped:function(P){return et},tick:function(P){et||L.equilibrium||(L.tick(),this.updateMovement())},updateMovement:function(){var P=L.getValue();nt&&(gt.position[0]=E.position[0]*P,gt.position[1]=E.position[1]*P,gt.position[2]=E.position[2]*P),dt&&(gt.rotation[0]=E.rotation[0]*P,gt.rotation[1]=E.rotation[1]*P,gt.rotation[2]=E.rotation[2]*P),ut&&(gt.rotationPost[0]=E.rotationPost[0]*P,gt.rotationPost[1]=E.rotationPost[1]*P,gt.rotationPost[2]=E.rotationPost[2]*P),pt&&(gt.scale[0]=1+E.scale[0]*P,gt.scale[1]=1+E.scale[1]*P),mt&&(gt.skew[0]=E.skew[0]*P,gt.skew[1]=E.skew[1]*P)},updateElement:function(P){X(P,gt.asMatrix()),Y(P,gt.getProperties())},getCurrentState:function(){return gt},completed:function(){return L.equilibrium||et},restart:function(){L=R(P)}}},R=function(P){var A=G(P.startPosition,0),E=G(P.equilibriumPosition,1),L=G(P.initialVelocity,0),et=G(P.springConstant,.8),nt=G(P.springDeceleration,.9),dt=G(P.springMass,10),ut=!1;return{tick:function(P){0===P||ut||(A+=L+=-(A-E)*et/dt,L*=nt,Math.abs(A-E)<.001&&Math.abs(L)<.001&&(ut=!0))},resetFrom:function(P){A=P,L=0},getValue:function(){return ut?E:A},completed:function(){return ut}}},ut={linear:function(P){return P},ease:function(P){return(Math.cos(P*Math.PI+Math.PI)+1)/2},easeIn:function(P){return P*P},easeOut:function(P){return 1-Math.pow(P-1,2)}},I=function(P,A){if("spring"==P)return R(A);var E=P;J(P)||(E=ut[P]);var L,et=E,nt=0;return{tick:function(P){nt=et(P),L=P},resetFrom:function(P){L=0},getValue:function(){return nt},completed:function(){return L>=1&&L}}},N=function(P){P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1},H=function(P,A){A[0]=P[0],A[1]=P[1],A[2]=P[2],A[3]=P[3],A[4]=P[4],A[5]=P[5],A[6]=P[6],A[7]=P[7],A[8]=P[8],A[9]=P[9],A[10]=P[10],A[11]=P[11],A[12]=P[12],A[13]=P[13],A[14]=P[14],A[15]=P[15]},F=function(){var P=new Float32Array(16),A=new Float32Array(16),E=new Float32Array(16);return N(P),{data:P,asCSS:function(){for(var A="matrix3d(",E=0;E<15;++E)A+=Math.abs(P[E])<1e-4?"0,":P[E].toFixed(10)+",";return A+(Math.abs(P[15])<1e-4?"0)":P[15].toFixed(10)+")")},clear:function(){N(P)},translate:function(L,et,nt){return H(P,A),function(P,A,E,L){P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=A,P[13]=E,P[14]=L,P[15]=1}(E,L,et,nt),W(A,E,P),this},rotateX:function(L){return H(P,A),function(P,A){P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=Math.cos(A),P[6]=-Math.sin(A),P[7]=0,P[8]=0,P[9]=Math.sin(A),P[10]=Math.cos(A),P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1}(E,L),W(A,E,P),this},rotateY:function(L){return H(P,A),function(P,A){P[0]=Math.cos(A),P[1]=0,P[2]=Math.sin(A),P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=-Math.sin(A),P[9]=0,P[10]=Math.cos(A),P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1}(E,L),W(A,E,P),this},rotateZ:function(L){return H(P,A),function(P,A){P[0]=Math.cos(A),P[1]=-Math.sin(A),P[2]=0,P[3]=0,P[4]=Math.sin(A),P[5]=Math.cos(A),P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1}(E,L),W(A,E,P),this},scale:function(L,et){return H(P,A),function(P,A,E){P[0]=A,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=E,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1}(E,L,et),W(A,E,P),this},skew:function(L,et){return H(P,A),function(P,A,E){P[0]=1,P[1]=Math.tan(A),P[2]=0,P[3]=0,P[4]=Math.tan(E),P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1}(E,L,et),W(A,E,P),this}}},W=function(P,A,E){return E[0]=P[0]*A[0]+P[1]*A[4]+P[2]*A[8]+P[3]*A[12],E[1]=P[0]*A[1]+P[1]*A[5]+P[2]*A[9]+P[3]*A[13],E[2]=P[0]*A[2]+P[1]*A[6]+P[2]*A[10]+P[3]*A[14],E[3]=P[0]*A[3]+P[1]*A[7]+P[2]*A[11]+P[3]*A[15],E[4]=P[4]*A[0]+P[5]*A[4]+P[6]*A[8]+P[7]*A[12],E[5]=P[4]*A[1]+P[5]*A[5]+P[6]*A[9]+P[7]*A[13],E[6]=P[4]*A[2]+P[5]*A[6]+P[6]*A[10]+P[7]*A[14],E[7]=P[4]*A[3]+P[5]*A[7]+P[6]*A[11]+P[7]*A[15],E[8]=P[8]*A[0]+P[9]*A[4]+P[10]*A[8]+P[11]*A[12],E[9]=P[8]*A[1]+P[9]*A[5]+P[10]*A[9]+P[11]*A[13],E[10]=P[8]*A[2]+P[9]*A[6]+P[10]*A[10]+P[11]*A[14],E[11]=P[8]*A[3]+P[9]*A[7]+P[10]*A[11]+P[11]*A[15],E[12]=P[12]*A[0]+P[13]*A[4]+P[14]*A[8]+P[15]*A[12],E[13]=P[12]*A[1]+P[13]*A[5]+P[14]*A[9]+P[15]*A[13],E[14]=P[12]*A[2]+P[13]*A[6]+P[14]*A[10]+P[15]*A[14],E[15]=P[12]*A[3]+P[13]*A[7]+P[14]*A[11]+P[15]*A[15],E},j=function(P){var E=F(),L={opacity:A,width:A,height:A};return{position:P.position,rotation:P.rotation,rotationPost:P.rotationPost,skew:P.skew,scale:P.scale,
scalePost:P.scalePost,opacity:P.opacity,width:P.width,height:P.height,clone:function(){return j({position:this.position?this.position.slice(0):A,rotation:this.rotation?this.rotation.slice(0):A,rotationPost:this.rotationPost?this.rotationPost.slice(0):A,skew:this.skew?this.skew.slice(0):A,scale:this.scale?this.scale.slice(0):A,scalePost:this.scalePost?this.scalePost.slice(0):A,height:this.height,width:this.width,opacity:this.opacity})},asMatrix:function(){var P=E;return P.clear(),this.transformOrigin&&P.translate(-this.transformOrigin[0],-this.transformOrigin[1],-this.transformOrigin[2]),this.scale&&P.scale(this.scale[0],this.scale[1]),this.skew&&P.skew(this.skew[0],this.skew[1]),this.rotation&&(P.rotateX(this.rotation[0]),P.rotateY(this.rotation[1]),P.rotateZ(this.rotation[2])),this.position&&P.translate(this.position[0],this.position[1],this.position[2]),this.rotationPost&&(P.rotateX(this.rotationPost[0]),P.rotateY(this.rotationPost[1]),P.rotateZ(this.rotationPost[2])),this.scalePost&&P.scale(this.scalePost[0],this.scalePost[1]),this.transformOrigin&&P.translate(this.transformOrigin[0],this.transformOrigin[1],this.transformOrigin[2]),P},getProperties:function(){return L.opacity=this.opacity,L.width=this.width+"px",L.height=this.height+"px",L}}},q=function(P,E,L){var et=P,nt=E,dt=L,ut=nt.position!==A,pt=nt.rotation!==A,mt=nt.rotationPost!==A,gt=nt.scale!==A,vt=nt.skew!==A,wt=nt.width!==A,_t=nt.height!==A,yt=nt.opacity!==A;return{tween:function(P){if(ut){var A=nt.position[0]-et.position[0],E=nt.position[1]-et.position[1],L=nt.position[2]-et.position[2];dt.position[0]=et.position[0]+P*A,dt.position[1]=et.position[1]+P*E,dt.position[2]=et.position[2]+P*L}if(pt){var bt=nt.rotation[0]-et.rotation[0],$t=nt.rotation[1]-et.rotation[1],Dt=nt.rotation[2]-et.rotation[2];dt.rotation[0]=et.rotation[0]+P*bt,dt.rotation[1]=et.rotation[1]+P*$t,dt.rotation[2]=et.rotation[2]+P*Dt}if(mt){var St=nt.rotationPost[0]-et.rotationPost[0],It=nt.rotationPost[1]-et.rotationPost[1],Pt=nt.rotationPost[2]-et.rotationPost[2];dt.rotationPost[0]=et.rotationPost[0]+P*St,dt.rotationPost[1]=et.rotationPost[1]+P*It,dt.rotationPost[2]=et.rotationPost[2]+P*Pt}if(vt){var Mt=nt.scale[0]-et.scale[0],At=nt.scale[1]-et.scale[1];dt.scale[0]=et.scale[0]+P*Mt,dt.scale[1]=et.scale[1]+P*At}if(gt){var Ot=nt.skew[0]-et.skew[0],Ut=nt.skew[1]-et.skew[1];dt.skew[0]=et.skew[0]+P*Ot,dt.skew[1]=et.skew[1]+P*Ut}if(wt){var Ft=nt.width-et.width;dt.width=et.width+P*Ft}if(_t){var Wt=nt.height-et.height;dt.height=et.height+P*Wt}if(yt){var Yt=nt.opacity-et.opacity;dt.opacity=et.opacity+P*Yt}},asMatrix:function(){return dt.asMatrix()},getProperties:function(){return dt.getProperties()},setReverse:function(){var P=et;et=nt,nt=P}}},V=function(P,E,L,et){var nt=P(0,F()),dt=E,ut=L,pt=et,mt=!1;return{tween:function(E){mt&&(E=1-E),nt.clear(),nt=P(E,nt);var L=ut.width-dt.width,et=ut.height-dt.height,gt=ut.opacity-dt.opacity;ut.width!==A&&(pt.width=dt.width+E*L),ut.height!==A&&(pt.height=dt.height+E*et),ut.opacity!==A&&(pt.opacity=dt.opacity+E*gt)},asMatrix:function(){return nt},getProperties:function(){return pt.getProperties()},setReverse:function(){mt=!0}}},G=function(P,A){return void 0===P?A:P},X=function(P,A,E){var L="";E&&(L="perspective("+E+"px) ");var nt=A.asCSS();P.style[et]=L+nt},Y=function(P,A){for(var E in A)P.style[E]=A[E]},J=function(P){return"function"==typeof P},$=function(P){if(!P)return P;var A={};for(var E in P)A[E]=P[E];return A};return s.createMatrix=F,s.setElementTransform=X,s}(),ut=function(){function i(E,L,et,nt,dt,ut){var pt,mt,gt,vt,wt,_t,yt,bt,$t,Dt,St,It,Pt,Mt,At,Ot,Ut,Ft,Wt,Yt,jt,Bt,Nt,qt,Gt=E.data,Vt=ut+ut+1,Jt=nt-1,Xt=dt-1,Kt=ut+1,te=Kt*(Kt+1)/2,ee=new n,ie=ee;for(gt=1;gt<Vt;gt++)if(ie=ie.next=new n,gt==Kt)var ne=ie;ie.next=ee;var ae=null,oe=null;yt=_t=0;var re=P[ut],se=A[ut];for(mt=0;mt<dt;mt++){for(Ot=Ut=Ft=Wt=bt=$t=Dt=St=0,It=Kt*(Yt=Gt[_t]),Pt=Kt*(jt=Gt[_t+1]),Mt=Kt*(Bt=Gt[_t+2]),At=Kt*(Nt=Gt[_t+3]),bt+=te*Yt,$t+=te*jt,Dt+=te*Bt,St+=te*Nt,ie=ee,gt=0;gt<Kt;gt++)ie.r=Yt,ie.g=jt,ie.b=Bt,ie.a=Nt,ie=ie.next;for(gt=1;gt<Kt;gt++)vt=_t+((Jt<gt?Jt:gt)<<2),bt+=(ie.r=Yt=Gt[vt])*(qt=Kt-gt),$t+=(ie.g=jt=Gt[vt+1])*qt,Dt+=(ie.b=Bt=Gt[vt+2])*qt,St+=(ie.a=Nt=Gt[vt+3])*qt,Ot+=Yt,Ut+=jt,Ft+=Bt,Wt+=Nt,ie=ie.next;for(ae=ee,oe=ne,pt=0;pt<nt;pt++)Gt[_t+3]=Nt=St*re>>se,0!=Nt?(Nt=255/Nt,Gt[_t]=(bt*re>>se)*Nt,Gt[_t+1]=($t*re>>se)*Nt,Gt[_t+2]=(Dt*re>>se)*Nt):Gt[_t]=Gt[_t+1]=Gt[_t+2]=0,bt-=It,$t-=Pt,Dt-=Mt,St-=At,It-=ae.r,Pt-=ae.g,Mt-=ae.b,At-=ae.a,vt=yt+((vt=pt+ut+1)<Jt?vt:Jt)<<2,bt+=Ot+=ae.r=Gt[vt],$t+=Ut+=ae.g=Gt[vt+1],Dt+=Ft+=ae.b=Gt[vt+2],St+=Wt+=ae.a=Gt[vt+3],ae=ae.next,It+=Yt=oe.r,Pt+=jt=oe.g,Mt+=Bt=oe.b,At+=Nt=oe.a,Ot-=Yt,Ut-=jt,Ft-=Bt,Wt-=Nt,oe=oe.next,_t+=4;yt+=nt}for(pt=0;pt<nt;pt++){for(Ut=Ft=Wt=Ot=$t=Dt=St=bt=0,It=Kt*(Yt=Gt[_t=pt<<2]),Pt=Kt*(jt=Gt[_t+1]),Mt=Kt*(Bt=Gt[_t+2]),At=Kt*(Nt=Gt[_t+3]),bt+=te*Yt,$t+=te*jt,Dt+=te*Bt,St+=te*Nt,ie=ee,gt=0;gt<Kt;gt++)ie.r=Yt,ie.g=jt,ie.b=Bt,ie.a=Nt,ie=ie.next;for(wt=nt,gt=1;gt<=ut;gt++)_t=wt+pt<<2,bt+=(ie.r=Yt=Gt[_t])*(qt=Kt-gt),$t+=(ie.g=jt=Gt[_t+1])*qt,Dt+=(ie.b=Bt=Gt[_t+2])*qt,St+=(ie.a=Nt=Gt[_t+3])*qt,Ot+=Yt,Ut+=jt,Ft+=Bt,Wt+=Nt,ie=ie.next,gt<Xt&&(wt+=nt);for(_t=pt,ae=ee,oe=ne,mt=0;mt<dt;mt++)Gt[3+(vt=_t<<2)]=Nt=St*re>>se,Nt>0?(Nt=255/Nt,Gt[vt]=(bt*re>>se)*Nt,Gt[vt+1]=($t*re>>se)*Nt,Gt[vt+2]=(Dt*re>>se)*Nt):Gt[vt]=Gt[vt+1]=Gt[vt+2]=0,bt-=It,$t-=Pt,Dt-=Mt,St-=At,It-=ae.r,Pt-=ae.g,Mt-=ae.b,At-=ae.a,vt=pt+((vt=mt+Kt)<Xt?vt:Xt)*nt<<2,bt+=Ot+=ae.r=Gt[vt],$t+=Ut+=ae.g=Gt[vt+1],Dt+=Ft+=ae.b=Gt[vt+2],St+=Wt+=ae.a=Gt[vt+3],ae=ae.next,It+=Yt=oe.r,Pt+=jt=oe.g,Mt+=Bt=oe.b,At+=Nt=oe.a,Ot-=Yt,Ut-=jt,Ft-=Bt,Wt-=Nt,oe=oe.next,_t+=nt}return E}function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var P=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],A=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];return function e(P,A,E,L,et,nt){if(!(isNaN(nt)||nt<1)){nt|=0;var dt=function t(P,A,E,L,et){if("string"==typeof P)P=document.getElementById(P);else if(!P instanceof HTMLCanvasElement)return;var nt,dt=P.getContext("2d");try{try{nt=dt.getImageData(A,E,L,et)}catch(P){throw new Error("unable to access local image data: "+P)}}catch(P){throw new Error("unable to access image data: "+P)}return nt}(P,A,E,L,et);dt=i(dt,0,0,L,et,nt),P.getContext("2d").putImageData(dt,A,E)}}}();HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(P,A,E){for(var L=atob(this.toDataURL(A,E).split(",")[1]),et=L.length,nt=new Uint8Array(et),dt=0;dt<et;dt++)nt[dt]=L.charCodeAt(dt);P(new Blob([nt],{type:A||"image/png"}))}});var pt=function(){function t(P,A){for(var E=0;E<A.length;E++){var L=A[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(P,L.key,L)}}return function(P,A,E){return A&&t(P.prototype,A),E&&t(P,E),P}}(),mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},gt=A,vt=new Image;vt.onload=function(){return gt=vt.naturalWidth>vt.naturalHeight},vt.src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";var wt=null,v=function(){return null===wt&&(wt=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),wt},y=function(P){P.width=1,P.height=1,P.getContext("2d").fillRect(0,0,1,1)},b=function(P){return P.replace(/\-./g,(function(P){return P.charAt(1).toUpperCase()}))},k=function(P){for(var A=[],E=Array.prototype.slice.call(P.attributes),L=E.length,et=0;et<L;et++)A.push({name:E[et].name,value:E[et].value});return A},x=function(P){return{x:void 0===P.offsetX?P.layerX:P.offsetX,y:void 0===P.offsetY?P.layerY:P.offsetY}},S=function(P,A){var E,L={},et=A||{};for(E in P)P.hasOwnProperty(E)&&(L[E]=void 0===et[E]?P[E]:et[E]);return L},_t=27,yt=13,bt=["touchstart","pointerdown","mousedown"],$t=["touchmove","pointermove","mousemove"],Dt=["touchend","touchcancel","pointerup","mouseup"],St={jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp"},It=/(\.png|\.bmp|\.gif|\.jpg|\.jpe|\.jpg|\.jpeg)$/,M=function(P,A){var E=document.createElement(P);return A&&(E.className=A),E},R=function(P,A,E){A.forEach((function(A){P.addEventListener(A,E,!1)}))},T=function(P,A,E){A.forEach((function(A){P.removeEventListener(A,E,!1)}))},O=function(P){var A=function(P){var A=P.changedTouches?P.changedTouches[0]:P;if(A)return{x:A.pageX,y:A.pageY}}(P);return A.x-=window.pageXOffset||document.documentElement.scrollLeft,A.y-=window.pageYOffset||document.documentElement.scrollTop,A},z=function(P){return P.charAt(0).toLowerCase()+P.slice(1)},D=function(P){return P.charAt(0).toUpperCase()+P.slice(1)},B=function(P){return P[P.length-1]},U=function(P,A,E){return Math.max(A,Math.min(E,P))},N=function(P,A){if(!A)return!1;for(var E=0;E<A.length;E++)if(A[E]===P)return!0;return!1},H=function(P){var E=arguments.length>1&&arguments[1]!==A?arguments[1]:"POST",L=arguments[2],et=arguments[3],nt=arguments[4],dt=arguments[5],ut=arguments[6],pt=new XMLHttpRequest;nt&&pt.upload.addEventListener("progress",(function(P){nt(P.loaded,P.total)})),pt.open(E,P,!0),et&&et(pt,L),pt.onreadystatechange=function(){if(4===pt.readyState&&pt.status>=200&&pt.status<300){var P=pt.responseText;if(!P.length)return void dt();if(-1!==P.indexOf("Content-Length"))return void ut("file-too-big");var A=void 0;try{A=JSON.parse(pt.responseText)}catch(P){}if("object"===(void 0===A?"undefined":mt(A))&&"failure"===A.status)return void ut(A.message);dt(A||P)}else if(4===pt.readyState){var E=void 0;try{E=JSON.parse(pt.responseText)}catch(P){}if("object"===(void 0===E?"undefined":mt(E))&&"failure"===E.status)return void ut(E.message);ut("fail")}},pt.send(L)},F=function(P){P&&(P.style.webkitTransform="",P.style.transform="")},V=function(P){var A=void 0;for(A in St)if(St.hasOwnProperty(A)&&St[A]===P)return A;return P},X=function(P){return P.split("/").pop().split("?").shift()},Y=function(P){var E=arguments.length>1&&arguments[1]!==A?arguments[1]:"";return(E+P).slice(-E.length)},J=function(P){return P.getFullYear()+"-"+Y(P.getMonth()+1,"00")+"-"+Y(P.getDate(),"00")+"_"+Y(P.getHours(),"00")+"-"+Y(P.getMinutes(),"00")+"-"+Y(P.getSeconds(),"00")},Q=function(P){return P.type||"image/jpeg"},Z=function(P){return"string"!=typeof P?J(new Date):X(P).split(".").shift()},K=function(P,A){var E=P.slice(0,P.size,P.type);return E.name=A,E.lastModified=Date.now(),E.lastModifiedDate=E.lastModified,E},tt=function(P){return/^data:image/.test(P)},it=function(P,A,E,L){var et=new XMLHttpRequest;et.open("GET",P,!0),A(et),et.responseType="blob",et.onload=function(A){if(et.status>=200&&et.status<300||0===et.status&&this.response instanceof Blob){var nt=X(P),dt=function(P){var A=void 0;for(A in St)if(St.hasOwnProperty(A)&&-1!==P.indexOf(St[A]))return St[A];return null}(this.response.type);It.test(nt)||(nt+="."+V(dt));var ut=K(this.response,nt);E(xt(ut,dt))}else L(et.status+": "+et.statusText)},et.onerror=function(){L()},et.send()},ot=function(P,A){for(var E=function(P){var A=P.split(",")[1].replace(/\s/g,"");return atob(A)}(P),L=new ArrayBuffer(E.length),et=new Uint8Array(L),nt=0;nt<E.length;nt++)et[nt]=E.charCodeAt(nt);var dt=Et(P);return void 0===A&&(A=J(new Date)+"."+V(dt)),K(at(L,dt),A)},at=function(P,A){var E=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(E){var L=new E;return L.append(P),L.getBlob(A)}return new Blob([P],{type:A})},rt=function(P,A,E){var L="string"!=typeof P||0!==P.indexOf("data:image");n.parseMetaData(P,(function(et){var nt={canvas:!0,crossOrigin:L};A&&(nt.maxWidth=A.width,nt.maxHeight=A.height),et.exif&&gt&&(nt.orientation=et.exif.get("Orientation")),n(P,(function(P){return"error"===P.type?void E():void E(P,et)}),nt)}))},st=function(P,A,E){var L,et,nt,dt;return A/P<E?(L=.5*(P-(nt=(dt=A)/E)),et=0):(L=0,et=.5*(A-(dt=(nt=P)*E))),{x:L,y:et,height:dt,width:nt}},ht=function(P){var E=arguments.length>1&&arguments[1]!==A?arguments[1]:{},L=arguments[2],et=M("canvas"),nt=E.rotation,dt=E.crop,ut=E.size,pt=E.filters,mt=E.minSize;if(dt){var gt=nt%180!=0,vt={width:gt?P.height:P.width,height:gt?P.width:P.height};dt.x<0&&(dt.x=0),dt.y<0&&(dt.y=0),dt.width>vt.width&&(dt.width=vt.width),dt.height>vt.height&&(dt.height=vt.height),dt.y+dt.height>vt.height&&(dt.y=Math.max(0,vt.height-dt.height)),dt.x+dt.width>vt.width&&(dt.x=Math.max(0,vt.width-dt.width));var wt=dt.x/vt.width,_t=dt.y/vt.height,yt=dt.width/vt.width,bt=dt.height/vt.height;et.width=Math.round(dt.width),et.height=Math.round(dt.height);var $t=et.getContext("2d");90===nt?($t.translate(.5*et.width,.5*et.height),$t.rotate(-90*Math.PI/180),$t.drawImage(P,(1-_t)*P.width-P.width*bt,dt.x,dt.height,dt.width,.5*-et.height,.5*-et.width,et.height,et.width)):180===nt?($t.translate(.5*et.width,.5*et.height),$t.rotate(-180*Math.PI/180),$t.drawImage(P,(1-(wt+yt))*vt.width,(1-(_t+bt))*vt.height,yt*vt.width,bt*vt.height,.5*-et.width,.5*-et.height,et.width,et.height)):270===nt?($t.translate(.5*et.width,.5*et.height),$t.rotate(-270*Math.PI/180),$t.drawImage(P,dt.y,(1-wt)*P.height-P.height*yt,dt.height,dt.width,.5*-et.height,.5*-et.width,et.height,et.width)):$t.drawImage(P,dt.x,dt.y,dt.width,dt.height,0,0,et.width,et.height)}if(ut){var Dt=ut.width/et.width,St=ut.height/et.height;i(et,Math.min(Dt,St),ut,mt),pt.sharpen>0&&lt(et,ct(pt.sharpen))}L(et)},lt=function(P,A){P.getContext("2d").putImageData(A(function(P){return P.getContext("2d").getImageData(0,0,P.width,P.height)}(P),P.width,P.height),0,0)},ct=function(P){return function(A,E,L){for(var et=[0,-1,0,-1,5,-1,0,-1,0],nt=Math.round(Math.sqrt(et.length)),dt=.5*nt|0,ut=function(P,A){var E=document.createElement("canvas");return E.width=P,E.height=A,E.getContext("2d").createImageData(E.width,E.height)}(E,L),pt=ut.data,mt=A.data,gt=L,vt=void 0;gt--;)for(vt=E;vt--;){for(var wt=gt,_t=vt,yt=4*(gt*E+vt),bt=0,$t=0,Dt=0,St=0;St<nt;St++)for(var It=0;It<nt;It++){var Pt=wt+St-dt,Mt=_t+It-dt;if(Pt>=0&&Pt<L&&Mt>=0&&Mt<E){var At=4*(Pt*E+Mt),Ot=et[St*nt+It];bt+=mt[At]*Ot,$t+=mt[At+1]*Ot,Dt+=mt[At+2]*Ot,mt[At+3]}}pt[yt]=bt*P+mt[yt]*(1-P),pt[yt+1]=$t*P+mt[yt+1]*(1-P),pt[yt+2]=Dt*P+mt[yt+2]*(1-P),pt[yt+3]=mt[yt+3]}return ut}},ft=function(P,A){if(!P)return null;var E=document.createElement("canvas"),L=E.getContext("2d");return E.width=P.width,E.height=P.height,L.drawImage(P,0,0),A>0&&1!==A&&i(E,A,{width:Math.round(P.width*A),height:Math.round(P.height*A)},{width:0,height:0}),E},kt=function(P){return"object"===("undefined"==typeof value?"undefined":mt(value))&&null!==value?JSON.parse(JSON.stringify(P)):P},xt=function(P){var E=arguments.length>1&&arguments[1]!==A?arguments[1]:null;if(!P)return null;var L=P.slice(0,P.size,E||P.type);return L.name=P.name,L.lastModified=new Date(P.lastModified),L},Ct=function(P,E,L){if(!P||!E)return null;var et=P;return"IMG"===P.nodeName&&((et=document.createElement("canvas")).width=P.width,et.height=P.height,et.getContext("2d").drawImage(P,0,0)),et.toDataURL(E,function(P){return"image/jpeg"===P}(E)&&"number"==typeof L?L/100:A)},Et=function(P){if(!P)return null;var A=P.substr(0,16).match(/^.+;/);return A.length?A[0].substring(5,A[0].length-1):null},Rt=function(P){return Array.prototype.slice.call(P)},Tt=function(P){P.parentNode.removeChild(P)},Lt=function(P,A,E,L){var et=(L-90)*Math.PI/180;return{x:P+E*Math.cos(et),y:A+E*Math.sin(et)}},zt=function(P,A,E,L){return function(P,A,E,L,et){var nt=Lt(P,A,E,et),dt=Lt(P,A,E,L),ut=et-L<=180?"0":"1";return["M",nt.x,nt.y,"A",E,E,0,ut,0,dt.x,dt.y].join(" ")}(P,A,E,0,360*L)},Pt=function(){var P={n:function(P,A,E,L){var et,nt,dt,ut,pt,mt,gt;return(dt=P.y+P.height)-(et=U(A.y,0,dt))<E.min.height&&(et=dt-E.min.height),(pt=L?(dt-et)/L:P.width)<E.min.width&&(et=dt-(pt=E.min.width)*L),mt=.5*(pt-P.width),ut=P.x-mt,nt=P.x+P.width+mt,(ut<0||Math.round(nt)>Math.round(E.width))&&(gt=Math.min(P.x,E.width-(P.x+P.width)),ut=P.x-gt,et=dt-(pt=(nt=P.x+P.width+gt)-ut)*L),{x:ut,y:et,width:nt-ut,height:dt-et}},s:function(P,A,E,L){var et,nt,dt,ut,pt,mt,gt;return et=P.y,(dt=U(A.y,et,E.height))-et<E.min.height&&(dt=et+E.min.height),(pt=L?(dt-et)/L:P.width)<E.min.width&&(dt=et+(pt=E.min.width)*L),mt=.5*(pt-P.width),ut=P.x-mt,nt=P.x+P.width+mt,(ut<0||Math.round(nt)>Math.round(E.width))&&(gt=Math.min(P.x,E.width-(P.x+P.width)),ut=P.x-gt,dt=et+(pt=(nt=P.x+P.width+gt)-ut)*L),{x:ut,y:et,width:nt-ut,height:dt-et}},e:function(P,A,E,L){var et,nt,dt,ut,pt,mt,gt;return ut=P.x,(nt=U(A.x,ut,E.width))-ut<E.min.width&&(nt=ut+E.min.width),(pt=L?(nt-ut)*L:P.height)<E.min.height&&(nt=ut+(pt=E.min.height)/L),mt=.5*(pt-P.height),et=P.y-mt,dt=P.y+P.height+mt,(et<0||Math.round(dt)>Math.round(E.height))&&(gt=Math.min(P.y,E.height-(P.y+P.height)),et=P.y-gt,nt=ut+(pt=(dt=P.y+P.height+gt)-et)/L),{x:ut,y:et,width:nt-ut,height:dt-et}},w:function n(P,A,E,L){var et,nt,dt,ut,n,pt,mt,gt;return(nt=P.x+P.width)-(ut=U(A.x,0,nt))<E.min.width&&(ut=nt-E.min.width),(pt=L?(nt-ut)*L:P.height)<E.min.height&&(ut=nt-(pt=E.min.height)/L),mt=.5*(pt-P.height),et=P.y-mt,dt=P.y+P.height+mt,(et<0||Math.round(dt)>Math.round(E.height))&&(gt=Math.min(P.y,E.height-(P.y+P.height)),et=P.y-gt,n=(pt=(dt=P.y+P.height+gt)-et)/L,ut=nt-n),{x:ut,y:et,width:nt-ut,height:dt-et}},ne:function(P,A,E,L){var et,nt,dt,ut,pt,mt;return ut=P.x,dt=P.y+P.height,(nt=U(A.x,ut,E.width))-ut<E.min.width&&(nt=ut+E.min.width),(pt=L?(nt-ut)*L:U(dt-A.y,E.min.height,dt))<E.min.height&&(nt=ut+(pt=E.min.height)/L),((et=P.y-(pt-P.height))<0||Math.round(dt)>Math.round(E.height))&&(mt=Math.min(P.y,E.height-(P.y+P.height)),nt=ut+(pt=dt-(et=P.y-mt))/L),{x:ut,y:et,width:nt-ut,height:dt-et}},se:function(P,A,E,L){var et,nt,dt,ut,pt,mt;return ut=P.x,et=P.y,(nt=U(A.x,ut,E.width))-ut<E.min.width&&(nt=ut+E.min.width),(pt=L?(nt-ut)*L:U(A.y-P.y,E.min.height,E.height-et))<E.min.height&&(nt=ut+(pt=E.min.height)/L),dt=P.y+P.height+(pt-P.height),(et<0||Math.round(dt)>Math.round(E.height))&&(mt=Math.min(P.y,E.height-(P.y+P.height)),nt=ut+(pt=(dt=P.y+P.height+mt)-et)/L),{x:ut,y:et,width:nt-ut,height:dt-et}},sw:function(P,A,E,L){var et,nt,dt,ut,pt,mt;return nt=P.x+P.width,et=P.y,nt-(ut=U(A.x,0,nt))<E.min.width&&(ut=nt-E.min.width),(pt=L?(nt-ut)*L:U(A.y-P.y,E.min.height,E.height-et))<E.min.height&&(ut=nt-(pt=E.min.height)/L),dt=P.y+P.height+(pt-P.height),(et<0||Math.round(dt)>Math.round(E.height))&&(mt=Math.min(P.y,E.height-(P.y+P.height)),ut=nt-(pt=(dt=P.y+P.height+mt)-et)/L),{x:ut,y:et,width:nt-ut,height:dt-et}},nw:function(P,A,E,L){var et,nt,dt,ut,pt,mt;return nt=P.x+P.width,dt=P.y+P.height,nt-(ut=U(A.x,0,nt))<E.min.width&&(ut=nt-E.min.width),(pt=L?(nt-ut)*L:U(dt-A.y,E.min.height,dt))<E.min.height&&(ut=nt-(pt=E.min.height)/L),((et=P.y-(pt-P.height))<0||Math.round(dt)>Math.round(E.height))&&(mt=Math.min(P.y,E.height-(P.y+P.height)),ut=nt-(pt=dt-(et=P.y-mt))/L),{x:ut,y:et,width:nt-ut,height:dt-et}}};return function(){function n(){var P=arguments.length>0&&arguments[0]!==A?arguments[0]:document.createElement("div");t(this,n),this._element=P,this._interaction=null,this._minWidth=1,this._minHeight=1,this._ratio=null,this._rect={x:0,y:0,width:0,height:0},this._space={width:0,height:0},this._rectChanged=!1,this._init()}return pt(n,[{key:"_init",value:function(){this._element.className="slim-crop-area";var A=M("div","grid");for(var E in this._element.appendChild(A),P)if(P.hasOwnProperty(E)){var L=M("button",E);this._element.appendChild(L)}var et=M("button","c");this._element.appendChild(et),R(document,bt,this)}},{key:"reset",value:function(){this._interaction=null,this._rect={x:0,y:0,width:0,height:0},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"rescale",value:function(P){1!==P&&(this._interaction=null,this._rectChanged=!0,this._rect.x*=P,this._rect.y*=P,this._rect.width*=P,this._rect.height*=P,this._redraw(),this._element.dispatchEvent(new CustomEvent("change")))}},{key:"limit",value:function(P,A){this._space.width=P,this._space.height=A}},{key:"offset",value:function(P,A){this._space.x=P,this._space.y=A}},{key:"resize",value:function(P,A,E,L){this._interaction=null,this._rect={x:U(P,0,this._space.width-this._minWidth),y:U(A,0,this._space.height-this._minHeight),width:U(E,this._minWidth,this._space.width),height:U(L,this._minHeight,this._space.height)},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"handleEvent",value:function(P){switch(P.type){case"touchstart":case"pointerdown":case"mousedown":this._onStartDrag(P);break;case"touchmove":case"pointermove":case"mousemove":this._onDrag(P);break;case"touchend":case"touchcancel":case"pointerup":case"mouseup":this._onStopDrag(P)}}},{key:"_onStartDrag",value:function(P){this._element.contains(P.target)&&(P.preventDefault(),R(document,$t,this),R(document,Dt,this),this._interaction={type:P.target.className,offset:O(P)},this._interaction.offset.x-=this._rect.x,this._interaction.offset.y-=this._rect.y,this._element.setAttribute("data-dragging","true"),this._redraw())}},{key:"_onDrag",value:function(A){A.preventDefault();var E=O(A),L=this._interaction.type;"c"===L?(this._rect.x=U(E.x-this._interaction.offset.x,0,this._space.width-this._rect.width),this._rect.y=U(E.y-this._interaction.offset.y,0,this._space.height-this._rect.height)):P[L]&&(this._rect=P[L](this._rect,{x:E.x-this._space.x,y:E.y-this._space.y},{x:0,y:0,width:this._space.width,height:this._space.height,min:{width:this._minWidth,height:this._minHeight}},this._ratio)),this._rectChanged=!0,this._element.dispatchEvent(new CustomEvent("input"))}},{key:"_onStopDrag",value:function(P){P.preventDefault(),T(document,$t,this),T(document,Dt,this),this._interaction=null,this._element.setAttribute("data-dragging","false"),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"_redraw",value:function(){var P=this;if(this._rectChanged){var A="translate("+this._rect.x+"px,"+this._rect.y+"px);";this._element.style.cssText="\n\t\t\t\t\t-webkit-transform: "+A+";\n\t\t\t\t\ttransform: "+A+";\n\t\t\t\t\twidth:"+this._rect.width+"px;\n\t\t\t\t\theight:"+this._rect.height+"px;\n\t\t\t\t",this._rectChanged=!1}this._interaction&&requestAnimationFrame((function(){return P._redraw()}))}},{key:"destroy",value:function(){this._interaction=!1,this._rectChanged=!1,T(document,bt,this),T(document,$t,this),T(document,Dt,this),Tt(this._element)}},{key:"element",get:function(){return this._element}},{key:"space",get:function(){return this._space}},{key:"area",get:function(){return{x:this._rect.x/this._space.width,y:this._rect.y/this._space.height,width:this._rect.width/this._space.width,height:this._rect.height/this._space.height}}},{key:"dirty",get:function(){return 0!==this._rect.x||0!==this._rect.y||0!==this._rect.width||0!==this._rect.height}},{key:"minWidth",set:function(P){this._minWidth=Math.max(P,1)}},{key:"minHeight",set:function(P){this._minHeight=Math.max(P,1)}},{key:"ratio",set:function(P){this._ratio=P}}]),n}()}(),Mt=function(){var P=["input","change"],E=function(){function n(){var P=arguments.length>0&&arguments[0]!==A?arguments[0]:document.createElement("div"),E=arguments.length>1&&arguments[1]!==A?arguments[1]:{};t(this,n),this._element=P,this._options=S(n.options(),E),this._ratio=null,this._output=null,this._rotating=!1,this._input=null,this._preview=null,this._previewBlurred=null,this._blurredPreview=!1,this._cropper=null,this._straightCrop=null,this._previewWrapper=null,this._currentWindowSize={},this._btnGroup=null,this._maskFrame=null,this._dirty=!1,this._wrapperRotation=0,this._wrapperScale=1,this._init()}return pt(n,[{key:"_init",value:function(){var A=this;this._element.className="slim-image-editor",this._container=M("div","slim-container"),this._wrapper=M("div","slim-wrapper"),this._stage=M("div","slim-stage"),this._container.appendChild(this._stage),this._cropper=new Pt,P.forEach((function(P){A._cropper.element.addEventListener(P,A)})),this._stage.appendChild(this._cropper.element),this._previewWrapper=M("div","slim-image-editor-preview slim-crop-preview"),this._previewBlurred=M("canvas","slim-crop-blur"),this._previewWrapper.appendChild(this._previewBlurred),this._wrapper.appendChild(this._previewWrapper),this._previewMask=M("div","slim-crop-mask"),this._preview=M("img"),this._previewMask.appendChild(this._preview),this._cropper.element.appendChild(this._previewMask),this._btnGroup=M("div","slim-editor-btn-group"),n.Buttons.forEach((function(P){var E=D(P),L=A._options["button"+E+"Label"],et=A._options["button"+E+"Title"],nt=A._options["button"+E+"ClassName"],dt=M("button","slim-editor-btn slim-btn-"+P+(nt?" "+nt:""));dt.innerHTML=L,dt.title=et||L,dt.type="button",dt.setAttribute("data-action",P),dt.addEventListener("click",A),A._btnGroup.appendChild(dt)})),this._utilsGroup=M("div","slim-editor-utils-group");var E=M("button","slim-editor-utils-btn slim-btn-rotate"+(this._options.buttonRotateClassName?" "+this._options.buttonRotateClassName:""));E.setAttribute("data-action","rotate"),E.addEventListener("click",this),E.title=this._options.buttonRotateTitle,this._utilsGroup.appendChild(E),this._container.appendChild(this._wrapper),this._element.appendChild(this._container),this._element.appendChild(this._utilsGroup),this._element.appendChild(this._btnGroup)}},{key:"dirty",value:function(){this._dirty=!0}},{key:"handleEvent",value:function(P){switch(P.type){case"click":this._onClick(P);break;case"change":this._onGridChange(P);break;case"input":this._onGridInput(P);break;case"keydown":this._onKeyDown(P);break;case"resize":this._onResize(P)}}},{key:"_onKeyDown",value:function(P){switch(P.keyCode){case yt:this._confirm();break;case _t:this._cancel()}}},{key:"_onClick",value:function(P){P.target.classList.contains("slim-btn-cancel")&&this._cancel(),P.target.classList.contains("slim-btn-confirm")&&this._confirm(),P.target.classList.contains("slim-btn-rotate")&&this._rotate()}},{key:"_onResize",value:function(){this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._redraw(),this._redrawCropper(this._cropper.area),this._updateWrapperScale(),this._redrawWrapper()}},{key:"_redrawWrapper",value:function(){var P=dt.createMatrix();P.scale(this._wrapperScale,this._wrapperScale),P.rotateZ(this._wrapperRotation*(Math.PI/180)),dt.setElementTransform(this._previewWrapper,P)}},{key:"_onGridInput",value:function(){this._redrawCropMask()}},{key:"_onGridChange",value:function(){this._redrawCropMask()}},{key:"_updateWrapperRotation",value:function(){this._options.minSize.width>this._input.height||this._options.minSize.height>this._input.width?this._wrapperRotation+=180:this._wrapperRotation+=90}},{key:"_updateWrapperScale",value:function(){if(this._wrapperRotation%180!=0){var P=this._container.offsetWidth,A=this._container.offsetHeight,E=this._wrapper.offsetHeight,L=this._wrapper.offsetWidth,et=P/E;et*L>A&&(et=A/L),this._wrapperScale=et}else this._wrapperScale=1}},{key:"_cancel",value:function(){this._rotating||this._element.dispatchEvent(new CustomEvent("cancel"))}},{key:"_confirm",value:function(){if(!this._rotating){var P=this._wrapperRotation%180!=0,A=function(P,A,E){return{x:P.x*A,y:P.y*E,width:P.width*A,height:P.height*E}}(this._cropper.area,P?this._input.height:this._input.width,P?this._input.width:this._input.height);this._element.dispatchEvent(new CustomEvent("confirm",{detail:{rotation:this._wrapperRotation%360,crop:A}}))}}},{key:"_rotate",value:function(){var P=this;if(!this._rotating){this._rotating=!0,this._updateWrapperRotation();var A=1===this.ratio||null===this._ratio?this._cropper.area:null;A&&function(P,A){var E=.5,L=.5,et=Math.PI/180*A,nt=Math.cos(et),dt=Math.sin(et),ut=P.x,pt=P.y,mt=P.x+P.width,gt=P.y+P.height,vt=nt*(ut-E)+dt*(pt-L)+E,wt=nt*(pt-L)-dt*(ut-E)+L,_t=nt*(mt-E)+dt*(gt-L)+E,yt=nt*(gt-L)-dt*(mt-E)+L;vt<=_t?(P.x=vt,P.width=_t-vt):(P.x=_t,P.width=vt-_t),wt<=yt?(P.y=wt,P.height=yt-wt):(P.y=yt,P.height=wt-yt)}(A,90),this._updateWrapperScale(),this._hideCropper(),dt(this._previewWrapper,{rotation:[0,0,this._wrapperRotation*(Math.PI/180)],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.8,springDeceleration:.65,complete:function(){P._redrawCropper(A),P._showCropper(),P._rotating=!1}})}}},{key:"_showCropper",value:function(){dt(this._stage,{easing:"ease",duration:250,fromOpacity:0,opacity:1})}},{key:"_hideCropper",value:function(){dt(this._stage,{duration:0,fromOpacity:0,opacity:0})}},{key:"_redrawCropMask",value:function(){var P=this,A=this._wrapperRotation%360,E=this._wrapperScale,L=this._wrapper.offsetWidth,et=this._wrapper.offsetHeight,nt=this._cropper.area,dt={x:0,y:0};0===A?(dt.x=-nt.x,dt.y=-nt.y):90===A?(dt.x=-(1-nt.y),dt.y=-nt.x):180===A?(dt.x=-(1-nt.x),dt.y=-(1-nt.y)):270===A&&(dt.x=-nt.y,dt.y=-(1-nt.x)),dt.x*=L,dt.y*=et,cancelAnimationFrame(this._maskFrame),this._maskFrame=requestAnimationFrame((function(){var L="scale("+E+") rotate("+-A+"deg) translate("+dt.x+"px, "+dt.y+"px);";P._preview.style.cssText="\n\t\t\t\t\twidth: "+P._previewSize.width+"px;\n\t\t\t\t\theight: "+P._previewSize.height+"px;\n\t\t\t\t\t-webkit-transform: "+L+";\n\t\t\t\t\ttransform: "+L+";\n\t\t\t\t"}))}},{key:"open",value:function(P,A,E,L,et){var nt=this;if(!this._input||this._dirty||this._ratio!==A||this._wrapperRotation!==L){this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._dirty=!1,this._wrapperRotation=L||0,this._blurredPreview=!1,this._ratio=A,this._previewSize=null,this._element.style.opacity="0",this._input=P;var dt=this._wrapperRotation%180!=0,ut=function(P,A,E){return{x:P.x/A,y:P.y/E,width:P.width/A,height:P.height/E}}(E,dt?P.height:P.width,dt?P.width:P.height);this._preview.onload=function(){nt._preview.onload=null,nt._cropper.ratio=nt.ratio,nt._redraw(),nt._redrawCropper(ut),et(),nt._element.style.opacity=""};var pt=ft(this._input,Math.min(this._container.offsetWidth/this._input.width,this._container.offsetHeight/this._input.height)*this._options.devicePixelRatio);this._preview.src="",this._preview.src=pt.toDataURL(),pt.width=1,pt.height=1,pt=null}else et()}},{key:"_redrawCropper",value:function(P){
var A=this._wrapperRotation%180!=0,E=A?this._input.height/this._input.width:this._input.width/this._input.height,L=this._wrapper.offsetWidth,et=this._wrapper.offsetHeight,nt=this._container.offsetWidth,dt=this._container.offsetHeight;this._updateWrapperScale();var ut,pt=this._wrapperScale*(A?et:L),mt=this._wrapperScale*(A?L:et),gt=A?.5*(nt-pt):this._wrapper.offsetLeft,vt=A?.5*(dt-mt):this._wrapper.offsetTop;this._stage.style.cssText="\n\t\t\t\tleft:"+gt+"px;\n\t\t\t\ttop:"+vt+"px;\n\t\t\t\twidth:"+pt+"px;\n\t\t\t\theight:"+mt+"px;\n\t\t\t",this._cropper.limit(pt,pt/E),this._cropper.offset(gt+this._element.offsetLeft,vt+this._element.offsetTop),this._cropper.minWidth=this._wrapperScale*this._options.minSize.width*this.scalar,this._cropper.minHeight=this._wrapperScale*this._options.minSize.height*this.scalar,ut=P?{x:P.x*pt,y:P.y*mt,width:P.width*pt,height:P.height*mt}:st(pt,mt,this._ratio||mt/pt),this._cropper.resize(ut.x,ut.y,ut.width,ut.height)}},{key:"_redraw",value:function(){var P=this._input.height/this._input.width,A=this._container.clientWidth,E=this._container.clientHeight,L=A,et=L*P;et>E&&(L=(et=E)/P);var nt=(A-(L=Math.round(L)))/2,dt=(E-(et=Math.round(et)))/2;this._wrapper.style.cssText="\n\t\t\t\tleft:"+nt+"px;\n\t\t\t\ttop:"+dt+"px;\n\t\t\t\twidth:"+L+"px;\n\t\t\t\theight:"+et+"px;\n\t\t\t",this._previewBlurred.style.cssText="\n\t\t\t\twidth:"+L+"px;\n\t\t\t\theight:"+et+"px;\n\t\t\t",this._preview.style.cssText="\n\t\t\t\twidth:"+L+"px;\n\t\t\t\theight:"+et+"px;\n\t\t\t",this._previewSize={width:L,height:et},this._blurredPreview||(this._previewBlurred.width=300,this._previewBlurred.height=this._previewBlurred.width*P,function(P,A){var E=A.getContext("2d");!function(P){return P.width&&P.height}(A)?(A.width=P.width,A.height=P.height,E.drawImage(P,0,0)):E.drawImage(P,0,0,A.width,A.height)}(this._input,this._previewBlurred),function(P){ut(P,0,0,P.width,P.height,3)}(this._previewBlurred),this._blurredPreview=!0)}},{key:"show",value:function(){var P=arguments.length>0&&arguments[0]!==A?arguments[0]:function(){};this._currentWindowSize.width===window.innerWidth&&this._currentWindowSize.height===window.innerHeight||(this._redraw(),this._redrawCropper(this._cropper.area)),document.addEventListener("keydown",this),window.addEventListener("resize",this);var E=this._wrapperRotation*(Math.PI/180);dt(this._previewWrapper,{fromRotation:[0,0,E],rotation:[0,0,E],fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,fromScale:[this._wrapperScale-.02,this._wrapperScale-.02],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.3,springDeceleration:.85,delay:450,complete:function(){}}),this._cropper.dirty?dt(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:850,complete:function(){F(this),P()}}):dt(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:1e3,complete:function(){F(this)}}),dt(this._btnGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,delay:function(P){return 1e3+100*P},easing:"spring",springConstant:.3,springDeceleration:.85,complete:function(){F(this)}}),dt(this._utilsGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.85,delay:1250,complete:function(){F(this)}})}},{key:"hide",value:function(){var P=arguments.length>0&&arguments[0]!==A?arguments[0]:function(){};document.removeEventListener("keydown",this),window.removeEventListener("resize",this),dt(this._utilsGroup.childNodes,{fromOpacity:1,opacity:0,duration:250}),dt(this._btnGroup.childNodes,{fromOpacity:1,opacity:0,delay:200,duration:350}),dt([this._stage,this._previewWrapper],{fromPosition:[0,0,0],position:[0,-250,0],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,delay:250,allDone:function(){P()}})}},{key:"destroy",value:function(){var A=this;Rt(this._btnGroup.children).forEach((function(P){P.removeEventListener("click",A)})),P.forEach((function(P){A._cropper.element.removeEventListener(P,A)})),this._cropper.destroy(),this._previewBlurred&&(this._previewBlurred.width=1,this._previewBlurred.height=1),this._element.parentNode&&Tt(this._element)}},{key:"showRotateButton",set:function(P){P?this._element.classList.remove("slim-rotation-disabled"):this._element.classList.add("slim-rotation-disabled")}},{key:"element",get:function(){return this._element}},{key:"ratio",get:function(){return"input"===this._ratio?this._input.height/this._input.width:this._ratio}},{key:"offset",get:function(){return this._element.getBoundingClientRect()}},{key:"original",get:function(){return this._input}},{key:"scalar",get:function(){return this._previewSize.width/this._input.width}}],[{key:"options",value:function(){return{buttonCancelClassName:null,buttonConfirmClassName:null,buttonCancelLabel:"Cancel",buttonConfirmLabel:"Confirm",buttonCancelTitle:null,buttonConfirmTitle:null,buttonRotateTitle:"Rotate",buttonRotateClassName:null,devicePixelRatio:null,minSize:{width:0,height:0}}}}]),n}();return E.Buttons=["cancel","confirm"],E}(),At=function(){var P=["dragenter","dragover","dragleave","drop"];return function(){function n(){var P=arguments.length>0&&arguments[0]!==A?arguments[0]:document.createElement("div");t(this,n),this._element=P,this._accept=[],this._allowURLs=!1,this._dragPath=null,this._init()}return pt(n,[{key:"isValidDataTransfer",value:function(P){return P.files&&P.files.length?this.areValidDataTransferFiles(P.files):P.items&&P.items.length?this.areValidDataTransferItems(P.items):null}},{key:"areValidDataTransferFiles",value:function(P){return!this._accept.length||!P||-1!==this._accept.indexOf(P[0].type)}},{key:"areValidDataTransferItems",value:function(P){return!this._accept.length||!P||(this._allowURLs&&"string"===P[0].kind||P[0].type&&0===P[0].type.indexOf("application")?null:-1!==this._accept.indexOf(P[0].type))}},{key:"reset",value:function(){this._element.files=null}},{key:"_init",value:function(){var A=this;this._element.className="slim-file-hopper",P.forEach((function(P){A._element.addEventListener(P,A)}))}},{key:"handleEvent",value:function(P){switch(P.type){case"dragenter":case"dragover":this._onDragOver(P);break;case"dragleave":this._onDragLeave(P);break;case"drop":this._onDrop(P)}}},{key:"_onDrop",value:function(P){P.preventDefault();var A=null;if(this._allowURLs){var E=void 0,L=void 0;try{E=P.dataTransfer.getData("url"),L=P.dataTransfer.getData("text/html")}catch(P){}if(L&&L.length){var et=L.match(/src\s*=\s*"(.+?)"/);et&&(A=et[1])}else E&&E.length&&(A=E)}if(A)this._element.files=[{remote:A}];else{if(!this.isValidDataTransfer(P.dataTransfer))return this._element.dispatchEvent(new CustomEvent("file-invalid-drop")),void(this._dragPath=null);this._element.files=P.dataTransfer.files}this._element.dispatchEvent(new CustomEvent("file-drop",{detail:x(P)})),this._element.dispatchEvent(new CustomEvent("change")),this._dragPath=null}},{key:"_onDragOver",value:function(P){P.preventDefault(),P.dataTransfer.dropEffect="copy";var A=this.isValidDataTransfer(P.dataTransfer);return null===A||A?(this._dragPath||(this._dragPath=[]),this._dragPath.push(x(P)),void this._element.dispatchEvent(new CustomEvent("file-over",{detail:{x:B(this._dragPath).x,y:B(this._dragPath).y}}))):(P.dataTransfer.dropEffect="none",void this._element.dispatchEvent(new CustomEvent("file-invalid")))}},{key:"_onDragLeave",value:function(P){this._element.dispatchEvent(new CustomEvent("file-out",{detail:x(P)})),this._dragPath=null}},{key:"destroy",value:function(){var A=this;P.forEach((function(P){A._element.removeEventListener(P,A)})),Tt(this._element),this._element=null,this._dragPath=null,this._accept=null}},{key:"element",get:function(){return this._element}},{key:"dragPath",get:function(){return this._dragPath}},{key:"enabled",get:function(){return""===this._element.style.display},set:function(P){this._element.style.display=P?"":"none"}},{key:"allowURLs",set:function(P){this._allowURLs=P}},{key:"accept",set:function(P){this._accept=P},get:function(){return this._accept}}]),n}()}(),Ot=function(){function i(){t(this,i),this._element=null,this._inner=null,this._init()}return pt(i,[{key:"_init",value:function(){this._element=M("div","slim-popover"),this._element.setAttribute("data-state","off"),document.body.appendChild(this._element),this._element.addEventListener("touchmove",(function(P){P.preventDefault()}),!0)}},{key:"show",value:function(){var P=this,E=arguments.length>0&&arguments[0]!==A?arguments[0]:function(){};this._element.setAttribute("data-state","on"),dt(this._element,{fromOpacity:0,opacity:1,duration:350,complete:function(){F(P._element),E()}})}},{key:"hide",value:function(){var P=this,E=arguments.length>0&&arguments[0]!==A?arguments[0]:function(){};dt(this._element,{fromOpacity:1,opacity:0,duration:500,complete:function(){F(P._element),P._element.setAttribute("data-state","off"),E()}})}},{key:"destroy",value:function(){this._element.parentNode&&(this._element.parentNode.removeChild(this._element),this._element=null,this._inner=null)}},{key:"inner",set:function(P){this._inner=P,this._element.firstChild&&this._element.removeChild(this._element.firstChild),this._element.appendChild(this._inner)}},{key:"className",set:function(P){this._element.className="slim-popover"+(null===P?"":" "+P)}}]),i}(),Ht=function(P,A){return P.split(A).map((function(P){return parseInt(P,10)}))},Ut="auto",Ft="initial",Wt="manual",Yt=["x","y","width","height"],jt=["file-invalid-drop","file-invalid","file-drop","file-over","file-out","click"],Bt=["cancel","confirm"],Nt=["remove","edit","download","upload"],qt=null,Gt=0,Vt='\n<div class="slim-loader">\n\t<svg>\n\t\t<path class="slim-loader-background" fill="none" stroke-width="3" />\n\t\t<path class="slim-loader-foreground" fill="none" stroke-width="3" />\n\t</svg>\n</div>\n',Jt='\n<div class="slim-upload-status"></div>\n',Qt=function(P){var A=P.split(",");return{width:parseInt(A[0],10),height:parseInt(A[1],10)}},Zt=function(P,A){var E=P.indexOf(A);P.splice(E,1)},Xt=function(){function i(P){var E=arguments.length>1&&arguments[1]!==A?arguments[1]:{};t(this,i),qt||(qt=new Ot),this._uid=Gt++,this._options=S(i.options(),E),this._options.forceSize&&("string"==typeof this._options.forceSize&&(this._options.forceSize=Qt(this._options.forceSize)),this._options.ratio=this._options.forceSize.width+":"+this._options.forceSize.height,this._options.size=kt(this._options.forceSize)),"string"==typeof this._options.size&&(this._options.size=Qt(this._options.size)),"string"==typeof this._options.minSize&&(this._options.minSize=Qt(this._options.minSize)),"string"==typeof this._options.post&&(this._options.post=this._options.post.split(",").map((function(P){return P.trim()}))),this._originalElement=P,this._originalElementInner=P.innerHTML,this._originalElementAttributes=k(P),function(P){return"DIV"===P.nodeName||"SPAN"===P.nodeName}(P)?this._element=P:(this._element=function(P){var A=M("div");return P.parentNode&&(P.nextSibling?P.parentNode.insertBefore(A,P.nextSibling):P.parentNode.appendChild(A)),A.appendChild(P),A}(P),this._element.className=P.className,P.className="",this._element.setAttribute("data-ratio",this._options.ratio)),this._element.classList.add("slim"),this._element.setAttribute("data-state","init"),this._state=[],this._timers=[],this._input=null,this._inputReference=null,this._output=null,this._ratio=null,this._isRequired=!1,this._imageHopper=null,this._imageEditor=null,this._progressEnabled=!0,this._data={},this._resetData(),this._drip=null,this._hasInitialImage=!1,this._initialCrop=this._options.crop,this._initialRotation=this._options.rotation&&this._options.rotation%90==0?this._options.rotation:null,this._isBeingDestroyed=!1,i.supported?this._init():this._fallback()}return pt(i,[{key:"setRotation",value:function(P,A){if("number"==typeof P||P%90==0){this._data.actions.rotation=P;var E=this._data.actions.rotation%180!=0;if(this._data.input.image){var L=E?this._data.input.image.height:this._data.input.image.width,et=E?this._data.input.image.width:this._data.input.image.height;this._data.actions.crop=st(L,et,this._ratio),this._data.actions.crop.type=Ut}this._data.input.image&&A&&this._manualTransform(A)}}},{key:"setSize",value:function(P,A){"string"==typeof P&&(P=Qt(P)),P&&P.width&&P.height&&(this._options.size=kt(P),this._data.actions.size=kt(P),this._data.input.image&&A&&this._manualTransform(A))}},{key:"setForceSize",value:function(P,A){"string"==typeof P&&(P=Qt(P)),P&&P.width&&P.height&&(this._options.size=kt(P),this._options.forceSize=kt(P),this._data.actions.size=kt(P),this.setRatio(this._options.forceSize.width+":"+this._options.forceSize.height,A))}},{key:"setRatio",value:function(P,A){var E=this;if(P&&"string"==typeof P&&(this._options.ratio=P,this._isFixedRatio())){var L=Ht(this._options.ratio,":");this._ratio=L[1]/L[0],this._data.input.image&&A?this._cropAuto((function(P){E._scaleDropArea(E._ratio),A&&A(P)})):(this._data.input.image&&(this._data.actions.crop=st(this._data.input.image.width,this._data.input.image.height,this._ratio),this._data.actions.crop.type=Ut),this._scaleDropArea(this._ratio),A&&A(null))}}},{key:"isAttachedTo",value:function(P){return this._element===P||this._originalElement===P}},{key:"isDetached",value:function(){return null===this._element.parentNode}},{key:"load",value:function(P){var E=arguments.length>1&&arguments[1]!==A?arguments[1]:{},L=arguments[2];"function"==typeof E?L=E:(this._options.crop=E.crop,this._options.rotation=E.rotation,this._initialRotation=E.rotation&&E.rotation%90==0?E.rotation:null,this._initialCrop=this._options.crop),this._load(P,L,{blockPush:E.blockPush})}},{key:"upload",value:function(P){this._doUpload(P)}},{key:"download",value:function(){this._doDownload()}},{key:"remove",value:function(){return this._doRemove()}},{key:"destroy",value:function(){this._doDestroy()}},{key:"edit",value:function(){this._doEdit()}},{key:"crop",value:function(P,A){this._crop(P.x,P.y,P.width,P.height,A)}},{key:"containsImage",value:function(){return null!==this._data.input.name}},{key:"_canInstantEdit",value:function(){return this._options.instantEdit&&!this._isInitialising}},{key:"_getFileInput",value:function(){return this._element.querySelector("input[type=file]")}},{key:"_getInitialImage",value:function(){return this._element.querySelector("img")}},{key:"_getInputElement",value:function(){return this._getFileInput()||this._getInitialImage()}},{key:"_getRatioSpacerElement",value:function(){return this._element.children[0]}},{key:"_isImageOnly",value:function(){return"INPUT"!==this._input.nodeName}},{key:"_isFixedRatio",value:function(){return-1!==this._options.ratio.indexOf(":")}},{key:"_isAutoCrop",value:function(){return this._data.actions.crop.type===Ut}},{key:"_toggleButton",value:function(P,A){!function(P,A,E){var L=E.querySelector(P);L&&(L.style.display=A?"":"none")}('.slim-btn[data-action="'+P+'"]',A,this._element)}},{key:"_clearState",value:function(){this._state=[],this._updateState()}},{key:"_removeState",value:function(P){this._state=this._state.filter((function(A){return A!==P})),this._updateState()}},{key:"_addState",value:function(P){N(P,this._state)||(this._state.push(P),this._updateState())}},{key:"_updateState",value:function(){this._element&&this._element.setAttribute("data-state",this._state.join(","))}},{key:"_resetData",value:function(){if(this._data.input&&this._data.output){var P=this._data.input.image,A=this._data.output.image;P&&"CANVAS"===P.nodeName&&y(P),A&&"CANVAS"===A.nodeName&&y(A)}this._data={server:null,meta:kt(this._options.meta),input:{field:this._inputReference,name:null,type:null,width:0,height:0,file:null},output:{image:null,width:0,height:0},actions:{rotation:null,crop:null,size:null}},this._output&&(this._output.value=""),function(P){if(P&&""!==P.value){try{P.value=""}catch(P){}if(P.value){var A=document.createElement("form"),E=P.parentNode,L=P.nextSibling;A.appendChild(P),A.reset(),L?E.insertBefore(P,L):E.appendChild(P)}}}(this._getFileInput())}},{key:"_init",value:function(){var P=this;if(this._isInitialising=!0,this._addState("empty"),N("input",this._options.post)&&(this._inputReference="slim_input_"+this._uid),this._input=this._getInputElement(),this._input||(this._input=M("input"),this._input.type="file",this._element.appendChild(this._input)),this._isRequired=!0===this._input.required,this._output=this._element.querySelector("input[type=hidden]"),this._output){var A=null;try{A=JSON.parse(this._output.value)}catch(P){}if(A){var E=new Image;E.src=A.output.image,E.setAttribute("data-filename",A.output.name),this._element.insertBefore(E,this._element.firstChild)}}else this._output=M("input"),this._output.type="hidden",this._output.name=this._input.name||this._options.defaultInputName,this._element.appendChild(this._output);this._input.removeAttribute("name");var L=M("div","slim-area"),et=this._getInitialImage(),nt=(et||{}).src,dt=et?et.getAttribute("data-filename"):null;nt?this._hasInitialImage=!0:(this._initialCrop=null,this._initialRotation=null);var ut='\n\t\t<div class="slim-result">\n\t\t\t<img class="in" style="opacity:0" '+(nt?'src="'+nt+'"':"")+'><img><img style="opacity:0">\n\t\t</div>';if(this._isImageOnly())L.innerHTML="\n\t\t\t\t"+Vt+"\n\t\t\t\t"+Jt+"\n\t\t\t\t"+ut+'\n\t\t\t\t<div class="slim-status"><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t";else{N("input",this._options.post)&&(this._data.input.field=this._inputReference,this._options.service||(this._input.name=this._inputReference));var pt=void 0;this._input.hasAttribute("accept")&&"image/*"!==this._input.getAttribute("accept")?pt=this._input.accept.split(",").map((function(P){return P.trim()})).filter((function(P){return P.length>0})):(pt=function(){var P=[],A=void 0,E=void 0;for(A in St)St.hasOwnProperty(A)&&(E=St[A],-1==P.indexOf(E)&&P.push(E));return P}(),this._input.setAttribute("accept",pt.join(","))),this._imageHopper=new At,this._imageHopper.accept=pt,this._imageHopper.allowURLs="string"==typeof this._options.fetcher,this._element.appendChild(this._imageHopper.element),jt.forEach((function(A){P._imageHopper.element.addEventListener(A,P)})),L.innerHTML="\n\t\t\t\t"+Vt+"\n\t\t\t\t"+Jt+'\n\t\t\t\t<div class="slim-drip"><span><span></span></span></div>\n\t\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+'</div><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t\t"+ut+"\n\t\t\t",this._input.addEventListener("change",this)}if(this._element.appendChild(L),this._btnGroup=M("div","slim-btn-group"),this._btnGroup.style.display="none",this._element.appendChild(this._btnGroup),Nt.filter((function(A){return P._isButtonAllowed(A)})).forEach((function(A){var E=D(A),L=P._options["button"+E+"Label"],et=P._options["button"+E+"Title"]||L,nt=P._options["button"+E+"ClassName"],dt=M("button","slim-btn slim-btn-"+A+(nt?" "+nt:""));dt.innerHTML=L,dt.title=et,dt.type="button",dt.addEventListener("click",P),dt.setAttribute("data-action",A),P._btnGroup.appendChild(dt)})),this._isFixedRatio()){var mt=Ht(this._options.ratio,":");this._ratio=mt[1]/mt[0],this._scaleDropArea(this._ratio)}this._updateProgress(.5),nt?this._load(nt,(function(){P._onInit()}),{name:dt}):this._onInit()}},{key:"_onInit",value:function(){var P=this;this._isInitialising=!1;var e=function(){var A=setTimeout((function(){Zt(P._timers,A),P._options.didInit.apply(P,[P.data,P])}),0);P._timers.push(A)};this._options.saveInitialImage&&this.containsImage()?this._options.service||this._save((function(){e()}),!1):(this._options.service&&this.containsImage()&&this._toggleButton("upload",!1),e())}},{key:"_updateProgress",value:function(P){if(P=Math.min(.99999,P),this._element&&this._progressEnabled){var A=this._element.querySelector(".slim-loader");if(A){var E=A.offsetWidth,L=A.querySelectorAll("path"),et=parseInt(L[0].getAttribute("stroke-width"),10);.5*E<et||(L[0].setAttribute("d",zt(.5*E,.5*E,.5*E-et,.9999)),L[1].setAttribute("d",zt(.5*E,.5*E,.5*E-et,P)))}}}},{key:"_startProgress",value:function(P){var A=this;if(this._element){this._progressEnabled=!1;var E=this._element.querySelector(".slim-loader");if(E){var L=E.children[0];this._stopProgressLoop((function(){E.removeAttribute("style"),L.removeAttribute("style"),A._progressEnabled=!0,A._updateProgress(0),A._progressEnabled=!1,dt(L,{fromOpacity:0,opacity:1,duration:250,complete:function(){A._progressEnabled=!0,P&&P()}})}))}}}},{key:"_stopProgress",value:function(){var P=this;if(this._element){var A=this._element.querySelector(".slim-loader");if(A){var E=A.children[0];this._updateProgress(1),dt(E,{fromOpacity:1,opacity:0,duration:250,complete:function(){A.removeAttribute("style"),E.removeAttribute("style"),P._updateProgress(.5),P._progressEnabled=!1}})}}}},{key:"_startProgressLoop",value:function(){if(this._element){var P=this._element.querySelector(".slim-loader");if(P){var A=P.children[0];P.removeAttribute("style"),A.removeAttribute("style"),this._updateProgress(.5),dt(P,"stop"),dt(P,{rotation:[0,0,-2*Math.PI*1e3],easing:"linear",duration:1e6}),dt(A,{fromOpacity:0,opacity:1,duration:250})}}}},{key:"_stopProgressLoop",value:function(P){if(this._element){var A=this._element.querySelector(".slim-loader");if(A){var E=A.children[0];dt(E,{fromOpacity:parseFloat(E.style.opacity),opacity:0,duration:250,complete:function(){dt(A,"stop"),A.removeAttribute("style"),E.removeAttribute("style"),P&&P()}})}}}},{key:"_isButtonAllowed",value:function(P){return"edit"===P?this._options.edit:"download"===P?this._options.download:"upload"===P?!!this._options.service&&!this._options.push:"remove"!==P||!this._isImageOnly()}},{key:"_fallback",value:function(){var P=M("div","slim-area");P.innerHTML='\n\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+"</div></div>\n\t\t",this._element.appendChild(P),this._throwError(this._options.statusNoSupport)}},{key:"handleEvent",value:function(P){switch(P.type){case"click":this._onClick(P);break;case"change":this._onChange(P);break;case"cancel":this._onCancel(P);break;case"confirm":this._onConfirm(P);break;case"file-over":this._onFileOver(P);break;case"file-out":this._onFileOut(P);break;case"file-drop":this._onDropFile(P);break;case"file-invalid":this._onInvalidFile(P);break;case"file-invalid-drop":this._onInvalidFileDrop(P)}}},{key:"_getIntro",value:function(){return this._element.querySelector(".slim-result .in")}},{key:"_getOutro",value:function(){return this._element.querySelector(".slim-result .out")}},{key:"_getInOut",value:function(){return this._element.querySelectorAll(".slim-result img")}},{key:"_getDrip",value:function(){return this._drip||(this._drip=this._element.querySelector(".slim-drip > span")),this._drip}},{key:"_throwError",value:function(P){this._addState("error"),this._element.querySelector(".slim-label").style.display="none";var A=this._element.querySelector(".slim-error");A||(A=M("div","slim-error"),this._element.querySelector(".slim-status").appendChild(A)),A.innerHTML=P,this._options.didThrowError.apply(this,[P])}},{key:"_removeError",value:function(){this._removeState("error"),this._element.querySelector(".slim-label").style.display="";var P=this._element.querySelector(".slim-error");P&&P.parentNode.removeChild(P)}},{key:"_openFileDialog",value:function(){this._removeError(),this._input.click()}},{key:"_onClick",value:function(P){var A=this,E=P.target.classList,L=P.target;if(E.contains("slim-file-hopper"))return P.preventDefault(),void this._openFileDialog();switch(L.getAttribute("data-action")){case"remove":this._options.willRemove.apply(this,[this.data,function(){A._doRemove()}]);break;case"edit":this._doEdit();break;case"download":this._doDownload();break;case"upload":this._doUpload()}}},{key:"_onInvalidFileDrop",value:function(){this._onInvalidFile(),this._removeState("file-over");var P=this._getDrip();dt(P.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function(){F(P.firstChild)}})}},{key:"_onInvalidFile",value:function(){var P=this._imageHopper.accept.map(V),A=this._options.statusFileType.replace("$0",P.join(", "));this._throwError(A)}},{key:"_onImageTooSmall",value:function(){var P=this._options.statusImageTooSmall.replace("$0",this._options.minSize.width+" × "+this._options.minSize.height);this._throwError(P)}},{key:"_onOverWeightFile",value:function(){var P=this._options.statusFileSize.replace("$0",this._options.maxFileSize);this._throwError(P)}},{key:"_onLocalURLProblem",value:function(P){this._throwError(this._options.statusLocalUrlProblem||P)}},{key:"_onRemoteURLProblem",value:function(P){this._throwError(P)}},{key:"_onFileOver",value:function(P){this._addState("file-over"),this._removeError();var A=this._getDrip(),E=dt.createMatrix();E.translate(P.detail.x,P.detail.y,0),dt.setElementTransform(A,E),1==this._imageHopper.dragPath.length&&(A.style.opacity=1,dt(A.firstChild,{fromOpacity:0,opacity:.5,fromScale:[0,0],scale:[.5,.5],duration:150}))}},{key:"_onFileOut",value:function(P){this._removeState("file-over"),this._removeState("file-invalid"),this._removeError();var A=this._getDrip(),E=dt.createMatrix();E.translate(P.detail.x,P.detail.y,0),dt.setElementTransform(A,E),dt(A.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function(){F(A.firstChild)}})}},{key:"_onDropFile",value:function(P){var A=this;this._removeState("file-over");var E=this._getDrip(),L=dt.createMatrix();L.translate(P.detail.x,P.detail.y,0),dt.setElementTransform(E,L);var et=this._imageHopper.dragPath.length,nt=this._imageHopper.dragPath[et-Math.min(10,et)],ut=P.detail.x-nt.x,pt=P.detail.y-nt.y;dt(E,{fromPosition:[P.detail.x,P.detail.y,0],position:[P.detail.x+ut,P.detail.y+pt,0],duration:200}),dt(E.firstChild,{fromScale:[.5,.5],scale:[2,2],fromOpacity:1,opacity:0,duration:200,complete:function(){F(E.firstChild),A._load(P.target.files[0])}})}},{key:"_onChange",value:function(P){P.target.files.length&&this._load(P.target.files[0])}},{key:"_load",value:function(P,E){var L=this,et=arguments.length>2&&arguments[2]!==A?arguments[2]:{};if(!this._isBeingDestroyed){if(this.containsImage())return clearTimeout(this._replaceTimeout),void this._doRemove((function(){L._replaceTimeout=setTimeout((function(){L._load(P,E,et)}),100)}));this._removeState("empty"),this._addState("busy"),this._startProgressLoop(),this._imageHopper&&(this._imageHopper.enabled=!1),clearTimeout(this._loadTimeout);var r=function(){L._imageHopper&&(L._imageHopper.enabled=!0),L._removeState("loading"),L._removeState("busy"),L._addState("empty"),L._stopProgressLoop()};if("string"==typeof P)return void(tt(P)?this._load(ot(P),E,et):(clearTimeout(L._loadTimeout),L._loadTimeout=setTimeout((function(){L._isBeingDestroyed||(L._addState("loading"),dt(L._element.querySelector(".slim-label-loading"),{fromOpacity:0,opacity:1,duration:250}))}),500),it(P,this._options.willLoad,(function(P){L._load(P,E,et)}),(function(P){setTimeout((function(){r(),L._onLocalURLProblem("<p>"+P+"</p>"),E&&E.apply(L,["local-url-problem"])}),500)}))));if(void 0!==P.remote)return tt(P.remote)?void this._load(ot(P.remote),E,et):void(this._options.fetcher&&function(P,A,E,L,et,nt){P=P+(-1!==P.indexOf("?")?"&":"?")+"url="+L;var dt=new XMLHttpRequest;dt.open("GET",P,!0),A(dt),dt.responseType="json",dt.onload=function(){return"failure"===this.response.status?void et(this.response.message):void it(this.response.body,E,nt)},dt.send()}(this._options.fetcher,this._options.willFetch,this._options.willLoad,P.remote,(function(P){r(),L._onRemoteURLProblem("<p>"+P+"</p>"),E&&E.apply(L,["remote-url-problem"])}),(function(P){L._load(P,E,et)})));var nt=P;if(this._imageHopper&&-1===this._imageHopper.accept.indexOf(nt.type))return r(),this._onInvalidFile(),void(E&&E.apply(this,["file-invalid"]));if(nt.size&&this._options.maxFileSize&&function(P){return P/1e6}(nt.size)>this._options.maxFileSize)return r(),this._onOverWeightFile(),void(E&&E.apply(this,["file-too-big"]));this._imageEditor&&this._imageEditor.dirty(),this._data.input.name=et&&et.name?et.name:function(P){return void 0===P.name?J(new Date)+"."+V(Q(P)):P.name}(nt),this._data.input.type=Q(nt),this._data.input.size=nt.size,this._data.input.file=nt;var ut=this._options.internalCanvasSize;v()&&(ut=this._options.internalCanvasSizeLowMemory),rt(nt,ut,(function(P,A){var a=function(){L._imageHopper&&(L._imageHopper.enabled=!0),L._removeState("loading"),L._removeState("busy"),L._addState("empty"),L._stopProgressLoop(),L._resetData()};if(!P)return a(),void(E&&E.apply(L,["file-not-found"]));if(!function(P,A){return parseInt(P.width,10)>=A.width&&parseInt(P.height,10)>=A.height}(P,L._options.minSize))return a(),L._onImageTooSmall(),void(E&&E.apply(L,["image-too-small"]));var ut=L._options.didLoad.apply(L,[nt,P,A,L]);if(!0!==ut)return a(),!1!==ut&&L._throwError(ut),void(E&&E.apply(L,[ut]));L._removeState("loading"),L._options.willLoadCanvas.apply(L,[P,function(P){L._loadCanvas(P,(function(P){L._addState("preview"),function(P){L._imageHopper&&L._options.dropReplace&&(L._imageHopper.enabled=!0);var A=L._getIntro(),E={fromScale:[1.25,1.25],scale:[1,1],fromOpacity:0,opacity:1,complete:function(){F(A),A.style.opacity=1,P()}};L.isDetached()?E.duration=1:(E.easing="spring",E.springConstant=.3,E.springDeceleration=.7),L._canInstantEdit()&&(E.delay=500,E.duration=1,L._doEdit()),dt(A,E)}((function(){L._canInstantEdit()||P||L._showButtons(),P||(L._stopProgressLoop(),L._removeState("busy")),E&&E.apply(L,[null,L.data])}))}),(function(){L._canInstantEdit()||L._showButtons(),L._removeState("busy")}),{blockPush:et.blockPush})},L])}))}}},{key:"_loadCanvas",value:function(P,A,E,L){var et=this;if(L||(L={}),!this._isBeingDestroyed){v()?(this._data.input.image=new Image,this._data.input.image.src=P.toDataURL()):this._data.input.image=P,this._data.input.width=P.width,this._data.input.height=P.height,this._initialRotation&&(this._data.actions.rotation=this._initialRotation,this._initialRotation=null);var nt=this._data.actions.rotation%180!=0;this._isFixedRatio()||(this._initialCrop?this._ratio=this._initialCrop.height/this._initialCrop.width:this._ratio=nt?P.width/P.height:P.height/P.width,this._scaleDropArea(this._ratio));var r=function(){et._options.size&&(et._data.actions.size={width:et._options.size.width,height:et._options.size.height}),et._applyTransforms(P,(function(P){var nt=et._getIntro(),dt=nt.offsetWidth/P.width,ut=!1;et._options.service&&et._options.push&&!L.blockPush&&(et._hasInitialImage||et._canInstantEdit()||(ut=!0,et._stopProgressLoop((function(){et._startProgress((function(){et._updateProgress(.1)}))})))),et._canInstantEdit()||et._save((function(){et._isBeingDestroyed||ut&&(et._stopProgress(),E())}),ut);var pt="auto"===et._options.devicePixelRatio?window.devicePixelRatio:et._options.devicePixelRatio,mt=ft(P,dt*pt);nt.src="",nt.src=mt.toDataURL(),y(mt),mt=null,nt.onload=function(){nt.onload=null,et._isBeingDestroyed||A&&A(ut)}}))};this._initialCrop?(this._data.actions.crop=kt(this._initialCrop),this._data.actions.crop.type=Ft,this._initialCrop=null,r()):this._options.willCropInitial.apply(this,[this.data,function(A){A?(et._data.actions.crop=A,et._data.actions.crop.type=Ft):(et._data.actions.crop=st(nt?P.height:P.width,nt?P.width:P.height,et._ratio),et._data.actions.crop.type=Ut),r()},this])}}},{key:"_applyTransforms",value:function(P,A){var E=this;this._data.output.image&&y(this._data.output.image);var L=kt(this._data.actions);L.filters={sharpen:this._options.filterSharpen/100},this._options.forceMinSize?L.minSize=this._options.minSize:L.minSize={width:0,height:0},ht(P,L,(function(P){var L=P;if((E._options.forceSize||E._options.size&&1==function(P,A){var E=Math.abs(P.width-A.width),L=Math.abs(P.height-A.height);return Math.max(E,L)}(E._options.size,P))&&((L=M("canvas")).width=E._options.size.width,L.height=E._options.size.height,L.getContext("2d").drawImage(P,0,0,E._options.size.width,E._options.size.height),y(P)),
E._options.forceMinSize&&E._options.size&&E._options.minSize.width===E._options.size.width&&E._options.minSize.height===E._options.size.height&&(L.width<E._options.minSize.width||L.height<E._options.minSize.height)){var et=Math.max(L.width,E._options.minSize.width),nt=Math.max(L.height,E._options.minSize.height);(L=M("canvas")).width=et,L.height=nt,L.getContext("2d").drawImage(P,0,0,et,nt),y(P)}E._options.forceMinSize&&1===E._ratio&&(L.width<E._options.minSize.width||L.height<E._options.minSize.height)&&((L=M("canvas")).width=E._options.minSize.width,L.height=E._options.minSize.height,L.getContext("2d").drawImage(P,0,0,L.width,L.height),y(P)),E._data.output.width=L.width,E._data.output.height=L.height,E._data.output.image=L,E._onTransformCanvas((function(P){E._data=P,E._options.didTransform.apply(E,[E.data,E]),A(E._data.output.image)}))}))}},{key:"_onTransformCanvas",value:function(P){this._options.willTransform.apply(this,[this.data,P,this])}},{key:"_appendEditor",value:function(){var P=this;this._imageEditor||(this._imageEditor=new Mt(M("div"),{minSize:this._options.minSize,devicePixelRatio:this._options.devicePixelRatio,buttonConfirmClassName:this._options.buttonConfirmClassName,buttonCancelClassName:this._options.buttonCancelClassName,buttonRotateClassName:this._options.buttonRotateClassName,buttonConfirmLabel:this._options.buttonConfirmLabel,buttonCancelLabel:this._options.buttonCancelLabel,buttonRotateLabel:this._options.buttonRotateLabel,buttonConfirmTitle:this._options.buttonConfirmTitle,buttonCancelTitle:this._options.buttonCancelTitle,buttonRotateTitle:this._options.buttonRotateTitle}),Bt.forEach((function(A){P._imageEditor.element.addEventListener(A,P)})))}},{key:"_scaleDropArea",value:function(P){var A=this._getRatioSpacerElement();A&&this._element&&(A.style.marginBottom=100*P+"%",this._element.setAttribute("data-ratio","1:"+P))}},{key:"_onCancel",value:function(P){this._removeState("editor"),this._options.didCancel.apply(this,[this]),this._showButtons(),this._hideEditor(),this._options.instantEdit&&!this._hasInitialImage&&this._isAutoCrop()&&this._doRemove()}},{key:"_onConfirm",value:function(P){var A=this,E=this._options.service&&this._options.push;E?this._startProgress((function(){A._updateProgress(.1)})):this._startProgressLoop(),this._removeState("editor"),this._addState("busy"),this._output.value="",this._data.actions.rotation=P.detail.rotation,this._data.actions.crop=P.detail.crop,this._data.actions.crop.type=Wt,this._applyTransforms(this._data.input.image,(function(P){A._options.didConfirm.apply(A,[A.data,A]);var L=A._getInOut(),et="out"===L[0].className?L[0]:L[1],nt=et===L[0]?L[1]:L[0];et.className="in",et.style.opacity="0",et.style.zIndex="2",nt.className="out",nt.style.zIndex="1";var dt="auto"===A._options.devicePixelRatio?window.devicePixelRatio:A._options.devicePixelRatio,ut=ft(P,et.offsetWidth/P.width*dt);et.src="",et.src=ut.toDataURL(),y(ut),ut=null,et.onload=function(){et.onload=null,"free"===A._options.ratio&&(A._ratio=et.naturalHeight/et.naturalWidth,A._scaleDropArea(A._ratio)),A._hideEditor();var P=setTimeout((function(){Zt(A._timers,P),A._showPreview(et,(function(){A._save((function(P,L,et){A._toggleButton("upload",!0),E?A._stopProgress():A._stopProgressLoop(),A._removeState("busy"),A._showButtons()}),E)}))}),250);A._timers.push(P)}}))}},{key:"_cropAuto",value:function(){var P=arguments.length>0&&arguments[0]!==A?arguments[0]:function(P){},E=this._data.actions.rotation%180!=0,L=st(E?this._data.input.image.height:this._data.input.image.width,E?this._data.input.image.width:this._data.input.image.height,this._ratio);this._crop(L.x,L.y,L.width,L.height,P,Ut)}},{key:"_crop",value:function(P,E,L,et){var nt=arguments.length>4&&arguments[4]!==A?arguments[4]:function(P){},dt=arguments.length>5&&arguments[5]!==A?arguments[5]:Wt;this._output.value="",this._data.actions.crop={x:P,y:E,width:L,height:et},this._data.actions.crop.type=dt,this._manualTransform(nt)}},{key:"_manualTransform",value:function(P){var A=this;this._startProgressLoop(),this._addState("busy"),this._applyTransforms(this._data.input.image,(function(E){var L=A._getInOut(),et="out"===L[0].className?L[0]:L[1],nt=et===L[0]?L[1]:L[0];et.className="in",et.style.opacity="1",et.style.zIndex="2",nt.className="out",nt.style.zIndex="0";var dt="auto"===A._options.devicePixelRatio?window.devicePixelRatio:A._options.devicePixelRatio,ut=ft(E,et.offsetWidth/E.width*dt);et.src="",et.src=ut.toDataURL(),y(ut),ut=null,et.onload=function(){et.onload=null,"free"===A._options.ratio&&(A._ratio=et.naturalHeight/et.naturalWidth,A._scaleDropArea(A._ratio));var E=A._options.service&&A._options.push,n=function(){A._save((function(L,et,nt){E||A._stopProgressLoop(),A._removeState("busy"),P.apply(A,[A.data])}),E)};E?A._startProgress(n):n()}}))}},{key:"_save",value:function(){var P=this,E=arguments.length>0&&arguments[0]!==A?arguments[0]:function(){},L=!(arguments.length>1&&arguments[1]!==A)||arguments[1];if(!this._isBeingDestroyed){var et=this.dataBase64;this._options.service||this._isInitialising&&!this._isImageOnly()||this._options.willSave.apply(this,[et,function(A){P._store(A),P._options.didSave.apply(P,[A,P])},this]),this._isBeingDestroyed||(this._options.service&&L&&this._options.willSave.apply(this,[et,function(A){P._addState("upload"),P._imageHopper&&P._options.dropReplace&&(P._imageHopper.enabled=!1),P._upload(A,(function(L,et){P._imageHopper&&P._options.dropReplace&&(P._imageHopper.enabled=!0),L||P._storeServerResponse(et),P._options.didUpload.apply(P,[L,A,et,P]),P._removeState("upload"),E(L,A,et)}))},this]),this._options.service&&L||E())}}},{key:"_storeServerResponse",value:function(P){this._isRequired&&(this._input.required=!1),this._data.server=P,this._output.value="object"===(void 0===P?"undefined":mt(P))?JSON.stringify(this._data.server):P}},{key:"_store",value:function(P){this._isRequired&&(this._input.required=!1),this._output.value=JSON.stringify(P)}},{key:"_upload",value:function(P,A){var E=this;this.requestOutput((function(P,L){var et=E._element.querySelector(".slim-upload-status"),nt=E._options.willRequest,r=function(P,A){E._updateProgress(Math.max(.1,P/A))},s=function(P){var L=setTimeout((function(){if(Zt(E._timers,P),!E._isBeingDestroyed){et.innerHTML=E._options.statusUploadSuccess,et.setAttribute("data-state","success"),et.style.opacity=1;var P=setTimeout((function(){Zt(E._timers,P),et.style.opacity=0}),2e3);E._timers.push(P)}}),250);E._timers.push(L),A(null,P)},h=function(P){var L;L="file-too-big"===P?E._options.statusContentLength:E._options.didReceiveServerError.apply(E,[P,E._options.statusUnknownResponse,E]);var nt=setTimeout((function(){Zt(E._timers,nt),et.innerHTML=L,et.setAttribute("data-state","error"),et.style.opacity=1}),250);E._timers.push(nt),A(P)};"string"==typeof E._options.service?H(E._options.service,E._options.uploadMethod,L,nt,r,s,h):"function"==typeof E._options.service&&E._options.service.apply(E,["file"===E._options.serviceFormat?P:L,r,s,h,E])}),P)}},{key:"requestOutput",value:function(P,A){var E=this;return this._data.input.file?(A||(A=this.dataBase64),void n.parseMetaData(this._data.input.file,(function(L){var et=[],nt=new FormData;if(N("input",E._options.post)&&(et.push(E._data.input.file),nt.append(E._inputReference,E._data.input.file,E._data.input.file.name)),N("output",E._options.post)&&null!==E._data.output.image&&!1===E._options.uploadBase64){var dt=ot(A.output.image,A.output.name);if(L.imageHead&&E._options.copyImageHead)try{dt=new Blob([L.imageHead,n.blobSlice.call(dt,20)],{type:Et(A.output.image)}),dt=K(dt,A.output.name)}catch(P){}et.push(dt);var ut="slim_output_"+E._uid;A.output.image=null,A.output.field=ut,nt.append(ut,dt,A.output.name)}nt.append(E._output.name,JSON.stringify(A)),P(et,nt)}),{maxMetaDataSize:262144,disableImageHead:!1})):void P(null,null)}},{key:"_showEditor",value:function(){qt.className=this._options.popoverClassName,qt.show(),this._imageEditor.show()}},{key:"_hideEditor",value:function(){var P=this;this._imageEditor.hide();var A=setTimeout((function(){Zt(P._timers,A),qt.hide()}),250);this._timers.push(A)}},{key:"_showPreview",value:function(P,A){dt(P,{fromPosition:[0,50,0],position:[0,0,0],fromScale:[1.5,1.5],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.7,complete:function(){F(P),A&&A()}})}},{key:"_hideResult",value:function(P){var A=this._getIntro();A&&dt(A,{fromScale:[1,1],scale:[.5,.5],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,complete:function(){F(A),P&&P()}})}},{key:"_showButtons",value:function(P){if(this._btnGroup){this._btnGroup.style.display="";var A={fromScale:[.5,.5],scale:[1,1],fromPosition:[0,10,0],position:[0,0,0],fromOpacity:0,opacity:1,complete:function(){F(this)},allDone:function(){P&&P()}};this.isDetached()?A.duration=1:(A.delay=function(P){return 250+50*P},A.easing="spring",A.springConstant=.3,A.springDeceleration=.85),dt(this._btnGroup.childNodes,A)}}},{key:"_hideButtons",value:function(P){var A=this;if(this._btnGroup){var E={fromScale:[1,1],scale:[.85,.85],fromOpacity:1,opacity:0,allDone:function(){A._btnGroup.style.display="none",P&&P()}};this.isDetached()?E.duration=1:(E.easing="spring",E.springConstant=.3,E.springDeceleration=.75),dt(this._btnGroup.childNodes,E)}}},{key:"_hideStatus",value:function(){this._element.querySelector(".slim-upload-status").style.opacity=0}},{key:"_doEdit",value:function(){var P=this;this._data.input.image&&(this._addState("editor"),this._imageEditor||this._appendEditor(),this._imageEditor.showRotateButton=this._options.rotateButton,qt.inner=this._imageEditor.element,this._imageEditor.open(this._data.input.image,"free"===this._options.ratio?null:this._ratio,this._data.actions.crop,this._data.actions.rotation,(function(){P._showEditor(),P._hideButtons(),P._hideStatus()})))}},{key:"_doRemove",value:function(P){var A=this;if(!this._isImageOnly()){this._clearState(),this._addState("empty"),this._hasInitialImage=!1,this._imageHopper&&(this._imageHopper.enabled=!0),this._isRequired&&(this._input.required=!0);var E=this._getOutro();E&&(E.style.opacity="0");var L=this.data;this._resetData();var et=setTimeout((function(){Zt(A._timers,et),A._isBeingDestroyed||(A._hideButtons((function(){A._toggleButton("upload",!0)})),A._hideStatus(),A._hideResult(),A._options.didRemove.apply(A,[L,A]),P&&P())}),this.isDetached()?0:250);return this._timers.push(et),L}}},{key:"_doUpload",value:function(P){var A=this;this._data.input.image&&(this._addState("upload"),this._startProgress(),this._hideButtons((function(){A._toggleButton("upload",!1),A._save((function(E,L,et){A._removeState("upload"),A._stopProgress(),P&&P.apply(A,[E,L,et]),E&&A._toggleButton("upload",!0),A._showButtons()}))})))}},{key:"_doDownload",value:function(){this._data.output.image&&function(P,E,L){var et=P.output.image,nt=L?Z(P.input.name)+"."+L:P.input.name,dt=St[L]||P.input.type;"image/png"===dt&&(nt=Z(P.input.name)+".png"),et.toBlob((function(P){if("msSaveBlob"in window.navigator)window.navigator.msSaveBlob(P,nt);else{var A=(window.URL||window.webkitURL).createObjectURL(P),E=M("a");E.style.display="none",E.download=nt,E.href=A,document.body.appendChild(E),E.click(),setTimeout((function(){document.body.removeChild(E),(window.URL||window.webkitURL).revokeObjectURL(A)}),0)}}),dt,"number"==typeof E?E/100:A)}(this._data,this._options.jpegCompression,this._options.forceType)}},{key:"_doDestroy",value:function(){function t(P,A){return 0!==A.filter((function(A){return P.name===A.name&&P.value===A.value})).length}var P=this;this._isBeingDestroyed=!0,this._timers.forEach((function(P){clearTimeout(P)})),this._timers=[],dt(this._element,"detach"),this._imageHopper&&(jt.forEach((function(A){P._imageHopper.element.removeEventListener(A,P)})),this._imageHopper.destroy(),this._imageHopper=null),this._imageEditor&&(Bt.forEach((function(A){P._imageEditor.element.removeEventListener(A,P)})),this._imageEditor.destroy(),this._imageEditor=null),Rt(this._btnGroup.children).forEach((function(A){A.removeEventListener("click",P)})),this._input.removeEventListener("change",this),this._element!==this._originalElement&&this._element.parentNode&&this._element.parentNode.replaceChild(this._originalElement,this._element),this._originalElement.innerHTML=this._originalElementInner;var A=k(this._originalElement);A.forEach((function(A){t(A,P._originalElementAttributes)||P._originalElement.removeAttribute(A.name)})),this._originalElementAttributes.forEach((function(E){t(E,A)||P._originalElement.setAttribute(E.name,E.value)})),Gt=Math.max(0,Gt-1),qt&&0===Gt&&(qt.destroy(),qt=null);var E=this._data.input.image,L=this._data.output.image;E&&"CANVAS"===E.nodeName&&y(E),L&&"CANVAS"===L.nodeName&&y(L),this._originalElement=null,this._element=null,this._input=null,this._output=null,this._btnGroup=null,this._options=null}},{key:"dataBase64",get:function(){return function(P){var E=arguments.length>1&&arguments[1]!==A?arguments[1]:[],L=arguments[2],et=arguments[3],nt=arguments[4],dt={server:kt(P.server),meta:kt(P.meta),input:{name:P.input.name,type:P.input.type,size:P.input.size,width:P.input.width,height:P.input.height,field:P.input.field}};return N("input",E)&&!nt&&(dt.input.image=Ct(P.input.image,P.input.type)),N("output",E)&&(dt.output={name:et?Z(P.input.name)+"."+et:P.input.name,type:St[et]||P.input.type,width:P.output.width,height:P.output.height},dt.output.image=Ct(P.output.image,dt.output.type,L),dt.output.type=Et(dt.output.image),"image/png"===dt.output.type&&(dt.output.name=Z(dt.input.name)+".png")),N("actions",E)&&(dt.actions=kt(P.actions)),dt}(this._data,this._options.post,this._options.jpegCompression,this._options.forceType,null!==this._options.service)}},{key:"data",get:function(){return function(P){var A=kt(P);return A.input.file=xt(P.input.file),A.output.image=P.output.image,A}(this._data)}},{key:"element",get:function(){return this._element}},{key:"service",set:function(P){this._options.service=P}},{key:"size",set:function(P){this.setSize(P,null)}},{key:"rotation",set:function(P){this.setRotation(P,null)}},{key:"forceSize",set:function(P){this.setForceSize(P,null)}},{key:"ratio",set:function(P){this.setRatio(P,null)}}],[{key:"options",value:function(){var P={edit:!0,instantEdit:!1,uploadBase64:!1,meta:{},ratio:"free",devicePixelRatio:1,size:null,rotation:null,crop:null,post:["output","actions"],service:null,serviceFormat:null,filterSharpen:0,push:!1,defaultInputName:"slim[]",minSize:{width:0,height:0},maxFileSize:null,jpegCompression:null,uploadMethod:"POST",download:!1,saveInitialImage:!1,forceType:!1,forceSize:null,forceMinSize:!0,dropReplace:!0,fetcher:null,internalCanvasSize:{width:4096,height:4096},internalCanvasSizeLowMemory:{width:4096,height:4096},copyImageHead:!1,rotateButton:!0,popoverClassName:null,label:"<p>Drop your image here</p>",labelLoading:"<p>Loading image...</p>",statusFileType:"<p>Invalid file type, expects: $0.</p>",statusFileSize:"<p>File is too big, maximum file size: $0 MB.</p>",statusNoSupport:"<p>Your browser does not support image cropping.</p>",statusImageTooSmall:"<p>Image is too small, minimum size is: $0 pixels.</p>",statusContentLength:'<span class="slim-upload-status-icon"></span> The file is probably too big',statusUnknownResponse:'<span class="slim-upload-status-icon"></span> An unknown error occurred',statusUploadSuccess:'<span class="slim-upload-status-icon"></span> Saved',statusLocalUrlProblem:null,didInit:function(P){},didLoad:function(P,A,E){return!0},didSave:function(P){},didUpload:function(P,A,E){},didReceiveServerError:function(P,A){return A},didRemove:function(P){},didTransform:function(P){},didConfirm:function(P){},didCancel:function(){},didThrowError:function(){},willLoadCanvas:function(P,A){A(P)},willCropInitial:function(P,A){A(null)},willTransform:function(P,A){A(P)},willSave:function(P,A){A(P)},willRemove:function(P,A){A()},willRequest:function(P,A){},willFetch:function(P){},willLoad:function(P){}};return Nt.concat(Mt.Buttons).concat("rotate").forEach((function(A){var E=D(A);P["button"+E+"ClassName"]=null,P["button"+E+"Label"]=E,P["button"+E+"Title"]=E})),P}}]),i}();return function(){function e(P){var A=window,E=P.split(".");return E.forEach((function(P,L){A[E[L]]&&(A=A[E[L]])})),A!==window?A:null}var P=[],o=function(P){return P},a=function(P){return"true"===P},r=function(P){return!P||"true"===P},s=function(P){return function t(P){return P?"<p>"+P+"</p>":null}(P)},h=function(P){return P?e(P):null},u=function(P){if(!P)return null;var A=Ht(P,",");return{width:A[0],height:A[1]}},p=function(P){return P?parseInt(P,10):null},A={download:a,edit:r,instantEdit:a,minSize:u,size:u,forceSize:u,forceMinSize:r,internalCanvasSize:u,internalCanvasSizeLowMemory:u,service:function(P){if(void 0===P)return null;var A=e(P);return A||P},serviceFormat:function(P){return void 0===P?null:P},fetcher:function(P){return void 0===P?null:P},push:a,rotation:function(P){return void 0===P?null:parseInt(P,10)},crop:function(P){if(!P)return null;var A={};return P.split(",").map((function(P){return parseInt(P,10)})).forEach((function(P,E){A[Yt[E]]=P})),A},post:function(P){return P?P.split(",").map((function(P){return P.trim()})):null},defaultInputName:o,ratio:function(P){return P||null},maxFileSize:function(P){return P?parseFloat(P):null},filterSharpen:p,jpegCompression:p,uploadBase64:a,forceType:o,dropReplace:r,saveInitialImage:a,copyImageHead:a,rotateButton:r,label:s,labelLoading:s,popoverClassName:o,devicePixelRatio:o,uploadMethod:o};["FileSize","FileType","NoSupport","ImageTooSmall"].forEach((function(P){A["status"+P]=s})),["ContentLength","UnknownResponse","UploadSuccess","LocalUrlProblem"].forEach((function(P){A["status"+P]=o})),["Init","Load","Save","Upload","Remove","Transform","ReceiveServerError","Confirm","Cancel","ThrowError"].forEach((function(P){A["did"+P]=h})),["LoadCanvas","CropInitial","Transform","Save","Remove","Request","Load","Fetch"].forEach((function(P){A["will"+P]=h}));var E=["ClassName","Label","Title"];Nt.concat(Mt.Buttons).concat("rotate").forEach((function(P){var L=D(P);E.forEach((function(P){A["button"+L+P]=o}))})),Xt.supported=!("[object OperaMini]"===Object.prototype.toString.call(window.operamini)||void 0===window.addEventListener||void 0===window.FileReader||!("slice"in Blob.prototype)||void 0===window.URL||void 0===window.URL.createObjectURL),Xt.parse=function(P){var A,E,L,et=[];for(L=(A=P.querySelectorAll(".slim:not([data-state])")).length;L--;)E=A[L],et.push(Xt.create(E,Xt.getOptionsFromAttributes(E)));return et},Xt.getOptionsFromAttributes=function(P){var E=function(P){if(void 0===P.dataset){var A,E={},L=P.attributes;for(A in L)L.hasOwnProperty(A)&&L[A].name&&/^data-[a-z_\-\d]*$/i.test(L[A].name)&&(E[b(L[A].name.substr(5))]=L[A].value);return E}return P.dataset}(P),L={meta:{}};for(var et in E){var nt=A[et],dt=E[et];nt?(dt=null===(dt=nt(dt))?kt(Xt.options()[et]):dt,L[et]=dt):0===et.indexOf("meta")&&(L.meta[z(et.substr(4))]=dt)}return L},Xt.find=function(A){var E=P.filter((function(P){return P.isAttachedTo(A)}));return E?E[0]:null},Xt.create=function(A,E){if(!Xt.find(A)){E||(E=Xt.getOptionsFromAttributes(A));var L=new Xt(A,E);return P.push(L),L}},Xt.destroy=function(A){var E=function(A){for(var E=0,L=P.length;E<L;E++)if(P[E].isAttachedTo(A))return E;return-1}(A);return!(E<0||(P[E].destroy(),P.splice(E,1),0))}}(),Xt}();P.fn.slim=function(){var P=function i(P){return Array.prototype.slice.call(P)}(arguments);if(function n(P){return"object"==typeof P[0]||0===P.length}(P))return this.each((function(){E.create(this,P[0])}));var A=P.shift();switch(A){case"supported":return E.supported;case"destroy":return this.each((function(){E.destroy(this)}));case"parse":return this.each((function(){E.parse(this)}));default:var L=[];return this.each((function(){var et=E.find(this);et&&(function r(P,A){return"function"==typeof P[A]}(et,A)?L.push(et[A].apply(et,P)):function o(P,A,L){var et=Object.getOwnPropertyDescriptor(E.prototype,A);return!!et&&void 0!==et.get}(0,A)?L.push(et[A]):function a(P,A,L){var et=Object.getOwnPropertyDescriptor(E.prototype,A);return!!et&&void 0!==et.set}(0,A)&&L.push(et[A]=P[0]))})),L}}}}(window.jQuery),function(){var P;if(!window.jQuery)throw new Error("UIkit 2.x requires jQuery");P=function($){if(window.UIkit2)return window.UIkit2;var P,A,E,L={},et=window.UIkit||void 0;if(L.version="2.27.4",L.noConflict=function(){return et&&(window.UIkit=et,$.UIkit=et,$.fn.uk=et.fn),L},window.UIkit2=L,et||(window.UIkit=L),L.$=$,L.$doc=L.$(document),L.$win=L.$(window),L.$html=L.$("html"),L.support={},L.support.transition=(E=function(){var P,A=document.body||document.documentElement,E={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(P in E)if(void 0!==A.style[P])return E[P]}())&&{end:E},L.support.animation=(A=function(){var P,A=document.body||document.documentElement,E={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(P in E)if(void 0!==A.style[P])return E[P]}())&&{end:A},function(){Date.now=Date.now||function(){return(new Date).getTime()};for(var P=["webkit","moz"],A=0;A<P.length&&!window.requestAnimationFrame;++A){var E=P[A];window.requestAnimationFrame=window[E+"RequestAnimationFrame"],window.cancelAnimationFrame=window[E+"CancelAnimationFrame"]||window[E+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var L=0;window.requestAnimationFrame=function(P){var A=Date.now(),E=Math.max(L+16,A);return setTimeout((function(){P(L=E)}),E-A)},window.cancelAnimationFrame=clearTimeout}}(),L.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,L.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,L.Utils={},L.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},L.Utils.str2json=function(P,A){try{return A?JSON.parse(P.replace(/([\$\w]+)\s*:/g,(function(P,A){return'"'+A+'":'})).replace(/'([^']+)'/g,(function(P,A){return'"'+A+'"'}))):new Function("","var json = "+P+"; return JSON.parse(JSON.stringify(json));")()}catch(P){return!1}},L.Utils.debounce=function(P,A,E){var L;return function(){var et=this,nt=arguments,later=function(){L=null,E||P.apply(et,nt)},dt=E&&!L;clearTimeout(L),L=setTimeout(later,A),dt&&P.apply(et,nt)}},L.Utils.throttle=function(P,A){var E=!1;return function(){E||(P.call(),E=!0,setTimeout((function(){E=!1}),A))}},L.Utils.removeCssRules=function(P){var A,E,L,et,nt,dt,ut,pt,mt,gt;P&&setTimeout((function(){try{for(gt=document.styleSheets,et=0,ut=gt.length;et<ut;et++){for(L=gt[et],E=[],L.cssRules=L.cssRules,A=nt=0,pt=L.cssRules.length;nt<pt;A=++nt)L.cssRules[A].type===CSSRule.STYLE_RULE&&P.test(L.cssRules[A].selectorText)&&E.unshift(A);for(dt=0,mt=E.length;dt<mt;dt++)L.deleteRule(E[dt])}}catch(P){}}),0)},L.Utils.isInView=function(P,A){var E=$(P);if(!E.is(":visible"))return!1;var et=L.$win.scrollLeft(),nt=L.$win.scrollTop(),dt=E.offset(),ut=dt.left,pt=dt.top;return A=$.extend({topoffset:0,leftoffset:0},A),pt+E.height()>=nt&&pt-A.topoffset<=nt+L.$win.height()&&ut+E.width()>=et&&ut-A.leftoffset<=et+L.$win.width()},L.Utils.checkDisplay=function(P,A){var E=L.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",P||document);return P&&!E.length&&(E=$(P)),E.trigger("display.uk.check"),A&&("string"!=typeof A&&(A='[class*="uk-animation-"]'),E.find(A).each((function(){var P=L.$(this),A=P.attr("class").match(/uk-animation-(.+)/);P.removeClass(A[0]).width(),P.addClass(A[0])}))),E},L.Utils.options=function(P){if("string"!=$.type(P))return P;-1!=P.indexOf(":")&&"}"!=P.trim().substr(-1)&&(P="{"+P+"}");var A=P?P.indexOf("{"):-1,E={};if(-1!=A)try{E=L.Utils.str2json(P.substr(A))}catch(P){}return E},L.Utils.animate=function(P,A){var E=$.Deferred();return(P=L.$(P)).css("display","none").addClass(A).one(L.support.animation.end,(function(){P.removeClass(A),E.resolve()})),P.css("display",""),E.promise()},L.Utils.uid=function(P){return(P||"id")+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random())},L.Utils.template=function(P,A){for(var E,L,et,nt,dt=P.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),ut=0,pt=[],mt=0;ut<dt.length;){if((E=dt[ut]).match(/\{\{\s*(.+?)\s*\}\}/))switch(L=(E=dt[ut+=1])[0],et=E.substring(E.match(/^(\^|\#|\!|\~|\:)/)?1:0),L){case"~":pt.push("for(var $i=0;$i<"+et+".length;$i++) { var $item = "+et+"[$i];"),mt++;break;case":":pt.push("for(var $key in "+et+") { var $val = "+et+"[$key];"),mt++;break;case"#":pt.push("if("+et+") {"),mt++;break;case"^":pt.push("if(!"+et+") {"),mt++;break;case"/":pt.push("}"),mt--;break;case"!":pt.push("__ret.push("+et+");");break;default:pt.push("__ret.push(escape("+et+"));")}else pt.push("__ret.push('"+E.replace(/\'/g,"\\'")+"');");ut+=1}return nt=new Function("$data",["var __ret = [];","try {","with($data){",mt?'__ret = ["Not all blocks are closed correctly."]':pt.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',"function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}"].join("\n")),A?nt(A):nt},L.Utils.focus=function(P,A){if(!(P=$(P)).length)return P;var E,L=P.find("[autofocus]:first");return L.length||(L=P.find(":input"+(A&&","+A||"")).first()).length?L.focus():(P.attr("tabindex")||(E=1e3,P.attr("tabindex",E)),P[0].focus(),E&&P.attr("tabindex",""),P)},L.Utils.events={},L.Utils.events.click=L.support.touch?"tap":"click",L.fn=function(P,A){var E=arguments,et=P.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),nt=et[1],dt=et[2];return L[nt]?this.each((function(){var P=$(this),et=P.data(nt);et||P.data(nt,et=L[nt](this,dt?void 0:A)),dt&&et[dt].apply(et,Array.prototype.slice.call(E,1))})):($.error("UIkit component ["+nt+"] does not exist."),this)},$.UIkit=L,$.fn.uk=L.fn,L.langdirection="rtl"==L.$html.attr("dir")?"right":"left",L.components={},L.component=function(P,A,E){if(L.components[P]&&!E)return L.components[P];var fn=function(A,E){var et=this;return this.UIkit=L,this.element=A?L.$(A):null,this.options=$.extend(!0,{},this.defaults,E),this.plugins={},this.element&&this.element.data(P,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(fn.plugins)).forEach((function(P){fn.plugins[P].init&&(fn.plugins[P].init(et),et.plugins[P]=!0)})),this.trigger("init.uk.component",[P,this]),this};return fn.plugins={},$.extend(!0,fn.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(P,A,E){return L.$(this.element||this).on(P,A,E)},one:function(P,A,E){return L.$(this.element||this).one(P,A,E)},off:function(P){return L.$(this.element||this).off(P)},trigger:function(P,A){return L.$(this.element||this).trigger(P,A)},find:function(P){return L.$(this.element?this.element:[]).find(P)},proxy:function(P,A){var E=this;A.split(" ").forEach((function(A){E[A]||(E[A]=function(){return P[A].apply(P,arguments)})}))},mixin:function(P,A){var E=this;A.split(" ").forEach((function(A){E[A]||(E[A]=P[A].bind(E))}))},option:function(){if(1==arguments.length)return this.options[arguments[0]]||void 0;2==arguments.length&&(this.options[arguments[0]]=arguments[1])}},A),this.components[P]=fn,this[P]=function(){var A,E;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof jQuery?A=$(arguments[0]):E=arguments[0];break;case 2:A=$(arguments[0]),E=arguments[1]}return A&&A.data(P)?A.data(P):new L.components[P](A,E)},L.domready&&L.component.boot(P),fn},L.plugin=function(P,A,E){this.components[P].plugins[A]=E},L.component.boot=function(P){L.components[P].prototype&&L.components[P].prototype.boot&&!L.components[P].booted&&(L.components[P].prototype.boot.apply(L,[]),L.components[P].booted=!0)},L.component.bootComponents=function(){for(var P in L.components)L.component.boot(P)},L.domObservers=[],L.domready=!1,L.ready=function(P){L.domObservers.push(P),L.domready&&P(document)},L.on=function(P,A,E){return P&&P.indexOf("ready.uk.dom")>-1&&L.domready&&A.apply(L.$doc),L.$doc.on(P,A,E)},L.one=function(P,A,E){return P&&P.indexOf("ready.uk.dom")>-1&&L.domready?(A.apply(L.$doc),L.$doc):L.$doc.one(P,A,E)},L.trigger=function(P,A){return L.$doc.trigger(P,A)},L.domObserve=function(P,A){L.support.mutationobserver&&(A=A||function(){},L.$(P).each((function(){var P=this,E=L.$(P);if(!E.data("observer"))try{var et=new L.support.mutationobserver(L.Utils.debounce((function(L){A.apply(P,[E]),E.trigger("changed.uk.dom")}),50),{childList:!0,subtree:!0});et.observe(P,{childList:!0,subtree:!0}),E.data("observer",et)}catch(P){}})))},L.init=function(P){P=P||document,L.domObservers.forEach((function(A){A(P)}))},L.on("domready.uk.dom",(function(){L.init(),L.domready&&L.Utils.checkDisplay()})),document.addEventListener("DOMContentLoaded",(P=function(){L.$body=L.$("body"),L.trigger("beforeready.uk.dom"),L.component.bootComponents();var P,A,E=requestAnimationFrame((P={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},A=function(){var et=window.pageXOffset,nt=window.pageYOffset;P.x==et&&P.y==nt||(et!=P.x?P.dir.x=et>P.x?1:-1:P.dir.x=0,nt!=P.y?P.dir.y=nt>P.y?1:-1:P.dir.y=0,P.x=et,P.y=nt,L.$doc.trigger("scrolling.uk.document",[{dir:{x:P.dir.x,y:P.dir.y},x:et,y:nt}])),cancelAnimationFrame(E),E=requestAnimationFrame(A)},L.support.touch&&L.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",A),(P.x||P.y)&&A(),A));if(L.trigger("domready.uk.dom"),L.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&L.$win.on("load orientationchange resize",L.Utils.debounce(function(){var fn=function(){return $(".uk-height-viewport").css("height",window.innerHeight),fn};return fn()}(),100)),L.trigger("afterready.uk.dom"),L.domready=!0,L.support.mutationobserver){var et=L.Utils.debounce((function(){requestAnimationFrame((function(){L.init(document.body)}))}),10);new L.support.mutationobserver((function(P){var A=!1;P.every((function(P){if("childList"!=P.type)return!0;for(var E,L=0;L<P.addedNodes.length;++L)if((E=P.addedNodes[L]).outerHTML&&-1!==E.outerHTML.indexOf("data-uk-"))return(A=!0)&&!1;return!0})),A&&et()})).observe(document.body,{childList:!0,subtree:!0})}},"complete"!=document.readyState&&"interactive"!=document.readyState||setTimeout(P),P)),L.$html.addClass(L.support.touch?"uk-touch":"uk-notouch"),L.support.touch){var nt,dt=!1,ut="uk-hover",pt=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";L.$html.on("mouseenter touchstart MSPointerDown pointerdown",pt,(function(){dt&&$("."+ut).removeClass(ut),dt=$(this).addClass(ut)})).on("mouseleave touchend MSPointerUp pointerup",(function(P){nt=$(P.target).parents(pt),dt&&dt.not(nt).removeClass(ut)}))}return L}(window.jQuery),"function"==typeof define&&define.amd&&define("uikit",(function(){return P.load=function(A,E,L,et){var nt,dt=A.split(","),ut=[],pt=(et.config&&et.config.uikit&&et.config.uikit.base?et.config.uikit.base:"").replace(/\/+$/g,"");if(!pt)throw new Error("Please define base path to UIkit in the requirejs config.");for(nt=0;nt<dt.length;nt+=1){var mt=dt[nt].replace(/\./g,"/");ut.push(pt+"/components/"+mt)}E(ut,(function(){L(P)}))},P}))}(),function($){if(!$.fn.swipeLeft){var P,A,E,L,et,nt={},dt="ontouchstart"in window,ut=window.PointerEvent,pt=dt||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;$((function(){var mt,gt,vt,wt=0,_t=0;"MSGesture"in window&&((et=new MSGesture).target=document.body),
$(document).on("MSGestureEnd gestureend",(function(P){var A=P.originalEvent.velocityX>1?"Right":P.originalEvent.velocityX<-1?"Left":P.originalEvent.velocityY>1?"Down":P.originalEvent.velocityY<-1?"Up":null;A&&void 0!==nt.el&&(nt.el.trigger("swipe"),nt.el.trigger("swipe"+A))})).on("touchstart MSPointerDown pointerdown",(function(A){("MSPointerDown"!=A.type||isPrimaryTouch(A.originalEvent))&&(vt="MSPointerDown"==A.type||"pointerdown"==A.type?A:A.originalEvent.touches[0],mt=Date.now(),gt=mt-(nt.last||mt),nt.el=$("tagName"in vt.target?vt.target:vt.target.parentNode),P&&clearTimeout(P),nt.x1=vt.pageX,nt.y1=vt.pageY,gt>0&&gt<=250&&(nt.isDoubleTap=!0),nt.last=mt,L=setTimeout(longTap,750),A.originalEvent&&A.originalEvent.pointerId&&et&&("MSPointerDown"==A.type||"pointerdown"==A.type||"touchstart"==A.type)&&et.addPointer(A.originalEvent.pointerId))})).on("touchmove MSPointerMove pointermove",(function(P){("MSPointerMove"!=P.type||isPrimaryTouch(P.originalEvent))&&(vt="MSPointerMove"==P.type||"pointermove"==P.type?P:P.originalEvent.touches[0],cancelLongTap(),nt.x2=vt.pageX,nt.y2=vt.pageY,wt+=Math.abs(nt.x1-nt.x2),_t+=Math.abs(nt.y1-nt.y2))})).on("touchend MSPointerUp pointerup",(function(L){("MSPointerUp"!=L.type||isPrimaryTouch(L.originalEvent))&&(cancelLongTap(),nt.x2&&Math.abs(nt.x1-nt.x2)>30||nt.y2&&Math.abs(nt.y1-nt.y2)>30?E=setTimeout((function(){void 0!==nt.el&&(nt.el.trigger("swipe"),nt.el.trigger("swipe"+function swipeDirection(P,A,E,L){return Math.abs(P-A)>=Math.abs(E-L)?P-A>0?"Left":"Right":E-L>0?"Up":"Down"}(nt.x1,nt.x2,nt.y1,nt.y2))),nt={}}),0):"last"in nt&&(isNaN(wt)||wt<30&&_t<30?A=setTimeout((function(){var A=$.Event("tap");A.cancelTouch=cancelAll,void 0!==nt.el&&nt.el.trigger(A),nt.isDoubleTap?(void 0!==nt.el&&nt.el.trigger("doubleTap"),nt={}):P=setTimeout((function(){P=null,void 0!==nt.el&&nt.el.trigger("singleTap"),nt={}}),250)}),0):nt={},wt=_t=0))})).on("touchcancel MSPointerCancel pointercancel",(function(P){("touchcancel"==P.type&&dt&&pt||!dt&&"pointercancel"==P.type&&ut)&&cancelAll()})),$(window).on("scroll",cancelAll)})),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach((function(P){$.fn[P]=function(A){return $(this).on(P,A)}}))}function longTap(){L=null,nt.last&&(void 0!==nt.el&&nt.el.trigger("longTap"),nt={})}function cancelLongTap(){L&&clearTimeout(L),L=null}function cancelAll(){P&&clearTimeout(P),A&&clearTimeout(A),E&&clearTimeout(E),L&&clearTimeout(L),P=A=E=L=null,nt={}}function isPrimaryTouch(P){return P.pointerType==P.MSPOINTER_TYPE_TOUCH&&P.isPrimary}}(jQuery),(A=UIkit2).component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){A.ready((function(P){A.$("[data-uk-margin]",P).each((function(){var P=A.$(this);P.data("stackMargin")||A.stackMargin(P,A.Utils.options(P.attr("data-uk-margin")))}))}))},init:function(){var P,E=this;A.$win.on("resize orientationchange",(P=function(){E.process()},A.$((function(){P(),A.$win.on("load",P)})),A.Utils.debounce(P,20))),this.on("display.uk.check",function(P){this.element.is(":visible")&&this.process()}.bind(this)),this.options.observe&&A.domObserve(this.element,(function(P){E.element.is(":visible")&&E.process()}))},process:function(){var P=this.element.children();if(A.Utils.stackMargin(P,this.options),!this.options.rowfirst||!P.length)return this;var E={},L=!1;return P.removeClass(this.options.rowfirst).each((function(P,et){et=A.$(this),"none"!=this.style.display&&(P=et.offset().left,((E[P]=E[P]||[])&&E[P]).push(this),L=!1===L?P:Math.min(L,P))})),A.$(E[L]).addClass(this.options.rowfirst),this}}),E=[],L=function(P){if(P.is(":visible")){var A=P.parent().width(),E=P.data("width"),L=A/E,et=Math.floor(L*P.data("height"));P.css({height:A<E?et:P.data("height")})}},A.component("responsiveElement",{defaults:{},boot:function(){A.ready((function(P){A.$("iframe.uk-responsive-width, [data-uk-responsive]",P).each((function(){var P=A.$(this);P.data("responsiveElement")||A.responsiveElement(P,{})}))}))},init:function(){var P=this.element;P.attr("width")&&P.attr("height")&&(P.data({width:P.attr("width"),height:P.attr("height")}).on("display.uk.check",(function(){L(P)})),L(P),E.push(P))}}),A.$win.on("resize load",A.Utils.debounce((function(){E.forEach((function(P){L(P)}))}),15)),A.Utils.stackMargin=function(P,E){E=A.$.extend({cls:"uk-margin-small-top"},E),P=A.$(P).removeClass(E.cls);var L=!1;P.each((function(P,E,et,nt){"none"!=(nt=A.$(this)).css("display")&&(P=nt.offset(),E=nt.outerHeight(),et=P.top+E,nt.data({ukMarginPos:et,ukMarginTop:P.top}),(!1===L||P.top<L.top)&&(L={top:P.top,left:P.left,pos:et}))})).each((function(P){"none"!=(P=A.$(this)).css("display")&&P.data("ukMarginTop")>L.top&&P.data("ukMarginPos")>L.pos&&P.addClass(E.cls)}))},A.Utils.matchHeights=function(P,E){P=A.$(P).css("min-height",""),E=A.$.extend({row:!0},E);var matchHeights=function(P){if(!(P.length<2)){var E=0;P.each((function(){E=Math.max(E,A.$(this).outerHeight())})).each((function(){var P=A.$(this),L=E-("border-box"==P.css("box-sizing")?0:P.outerHeight()-P.height());P.css("min-height",L+"px")}))}};E.row?(P.first().width(),setTimeout((function(){var E=!1,L=[];P.each((function(){var P=A.$(this),et=P.offset().top;et!=E&&L.length&&(matchHeights(A.$(L)),L=[],et=P.offset().top),L.push(P),E=et})),L.length&&matchHeights(A.$(L))}),0)):matchHeights(P)},et={},A.Utils.inlineSvg=function(P,E){A.$(P||'img[src$=".svg"]',E||document).each((function(){var P=A.$(this),E=P.attr("src");if(!et[E]){var L=A.$.Deferred();A.$.get(E,{nc:Math.random()},(function(P){L.resolve(A.$(P).find("svg"))})),et[E]=L.promise()}et[E].then((function(E){var L=A.$(E).clone();P.attr("id")&&L.attr("id",P.attr("id")),P.attr("class")&&L.attr("class",P.attr("class")),P.attr("style")&&L.attr("style",P.attr("style")),P.attr("width")&&(L.attr("width",P.attr("width")),P.attr("height")||L.removeAttr("height")),P.attr("height")&&(L.attr("height",P.attr("height")),P.attr("width")||L.removeAttr("width")),P.replaceWith(L)}))}))},A.ready((function(P){A.Utils.inlineSvg("[data-uk-svg]",P)})),A.Utils.getCssVar=function(P){var A,E=document.documentElement,L=E.appendChild(document.createElement("div"));L.classList.add("var-"+P);try{A=JSON.parse(A=getComputedStyle(L,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch(P){A=void 0}return E.removeChild(L),A},function(P){function scrollToElement(A,E){E=P.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},E);var L=A.offset().top-E.offset,et=P.$doc.height(),nt=window.innerHeight;L+nt>et&&(L=et-nt),P.$("html,body").stop().animate({scrollTop:L},E.duration,E.transition).promise().done(E.complete)}P.component("smoothScroll",{boot:function(){P.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",(function(A){var E=P.$(this);return E.data("smoothScroll")||(P.smoothScroll(E,P.Utils.options(E.attr("data-uk-smooth-scroll"))),E.trigger("click")),!1}))},init:function(){var A=this;this.on("click",(function(E){E.preventDefault(),scrollToElement(P.$(this.hash).length?P.$(this.hash):P.$("body"),A.options)}))}}),P.Utils.scrollToElement=scrollToElement,P.$.easing.easeOutExpo||(P.$.easing.easeOutExpo=function(P,A,E,L,et){return A==et?E+L:L*(1-Math.pow(2,-10*A/et))+E})}(UIkit2),function(P){var A=P.$win,E=P.$doc,L=[],checkScrollSpy=function(){for(var P=0;P<L.length;P++)window.requestAnimationFrame.apply(window,[L[P].check])};P.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){E.on("scrolling.uk.document",checkScrollSpy),A.on("load resize orientationchange",P.Utils.debounce(checkScrollSpy,50)),P.ready((function(A){P.$("[data-uk-scrollspy]",A).each((function(){var A=P.$(this);A.data("scrollspy")||P.scrollspy(A,P.Utils.options(A.attr("data-uk-scrollspy")))}))}))},init:function(){var A,E=this,et=this.options.cls.split(/,/),fn=function(){var L=E.options.target?E.element.find(E.options.target):E.element,nt=1===L.length?1:0,dt=0;L.each((function(L){var ut=P.$(this),pt=ut.data("inviewstate"),mt=P.Utils.isInView(ut,E.options),gt=ut.attr("data-uk-scrollspy-cls")||et[dt].trim();!mt||pt||ut.data("scrollspy-idle")||(A||(ut.addClass(E.options.initcls),E.offset=ut.offset(),A=!0,ut.trigger("init.uk.scrollspy")),ut.data("scrollspy-idle",setTimeout((function(){ut.addClass("uk-scrollspy-inview").toggleClass(gt).width(),ut.trigger("inview.uk.scrollspy"),ut.data("scrollspy-idle",!1),ut.data("inviewstate",!0)}),E.options.delay*nt)),nt++),!mt&&pt&&E.options.repeat&&(ut.data("scrollspy-idle")&&(clearTimeout(ut.data("scrollspy-idle")),ut.data("scrollspy-idle",!1)),ut.removeClass("uk-scrollspy-inview").toggleClass(gt),ut.data("inviewstate",!1),ut.trigger("outview.uk.scrollspy")),dt=et[dt+1]?dt+1:0}))};fn(),this.check=fn,L.push(this)}});var et=[],checkScrollSpyNavs=function(){for(var P=0;P<et.length;P++)window.requestAnimationFrame.apply(window,[et[P].check])};P.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){E.on("scrolling.uk.document",checkScrollSpyNavs),A.on("resize orientationchange",P.Utils.debounce(checkScrollSpyNavs,50)),P.ready((function(A){P.$("[data-uk-scrollspy-nav]",A).each((function(){var A=P.$(this);A.data("scrollspynav")||P.scrollspynav(A,P.Utils.options(A.attr("data-uk-scrollspy-nav")))}))}))},init:function(){var E,L=[],nt=this.find("a[href^='#']").each((function(){"#"!==this.getAttribute("href").trim()&&L.push(this.getAttribute("href"))})),dt=P.$(L.join(",")),ut=this.options.cls,pt=this.options.closest||this.options.closest,mt=this,fn=function(){E=[];for(var L=0;L<dt.length;L++)P.Utils.isInView(dt.eq(L),mt.options)&&E.push(dt.eq(L));if(E.length){var et,gt=A.scrollTop(),vt=function(){for(var P=0;P<E.length;P++)if(E[P].offset().top-mt.options.topoffset>=gt)return E[P]}();if(!vt)return;mt.options.closest?(nt.blur().closest(pt).removeClass(ut),et=nt.filter("a[href='#"+vt.attr("id")+"']").closest(pt).addClass(ut)):et=nt.removeClass(ut).filter("a[href='#"+vt.attr("id")+"']").addClass(ut),mt.element.trigger("inview.uk.scrollspynav",[vt,et])}};this.options.smoothscroll&&P.smoothScroll&&nt.each((function(){P.smoothScroll(this,mt.options.smoothscroll)})),fn(),this.element.data("scrollspynav",this),this.check=fn,et.push(this)}})}(UIkit2),function(P){var A=[];P.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){P.ready((function(E){P.$("[data-uk-toggle]",E).each((function(){var A=P.$(this);A.data("toggle")||P.toggle(A,P.Utils.options(A.attr("data-uk-toggle")))})),setTimeout((function(){A.forEach((function(P){P.getToggles()}))}),0)}))},init:function(){var P=this;this.aria=-1!==this.options.cls.indexOf("uk-hidden"),this.on("click",(function(A){P.element.is('a[href="#"]')&&A.preventDefault(),P.toggle()})),A.push(this)},toggle:function(){if(this.getToggles(),this.totoggle.length){if(this.options.animation&&P.support.animation){var A=this,E=this.options.animation.split(",");1==E.length&&(E[1]=E[0]),E[0]=E[0].trim(),E[1]=E[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each((function(){var L=P.$(this);L.hasClass(A.options.cls)?(L.toggleClass(A.options.cls),P.Utils.animate(L,E[0]).then((function(){L.css("animation-duration",""),P.Utils.checkDisplay(L)}))):P.Utils.animate(this,E[1]+" uk-animation-reverse").then((function(){L.toggleClass(A.options.cls).css("animation-duration",""),P.Utils.checkDisplay(L)}))}))}else this.totoggle.toggleClass(this.options.cls),P.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?P.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each((function(){P.$(this).attr("aria-hidden",P.$(this).hasClass("uk-hidden"))}))}})}(UIkit2),function(P){P.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){P.$html.on("click.alert.uikit","[data-uk-alert]",(function(A){var E=P.$(this);if(!E.data("alert")){var L=P.alert(E,P.Utils.options(E.attr("data-uk-alert")));P.$(A.target).is(L.options.trigger)&&(A.preventDefault(),L.close())}}))},init:function(){var P=this;this.on("click",this.options.trigger,(function(A){A.preventDefault(),P.close()}))},close:function(){var P=this.trigger("close.uk.alert"),A=function(){this.trigger("closed.uk.alert").remove()}.bind(this);this.options.fade?P.css("overflow","hidden").css("max-height",P.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,A):A()}})}(UIkit2),function(P){P.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){P.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",(function(A){var E=P.$(this);if(!E.data("buttonRadio")){var L=P.buttonRadio(E,P.Utils.options(E.attr("data-uk-button-radio"))),et=P.$(A.target);et.is(L.options.target)&&et.trigger("click")}}))},init:function(){var A=this;this.find(A.options.target).attr("aria-checked","false").filter("."+A.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,(function(E){var L=P.$(this);L.is('a[href="#"]')&&E.preventDefault(),A.find(A.options.target).not(L).removeClass(A.options.activeClass).blur(),L.addClass(A.options.activeClass),A.find(A.options.target).not(L).attr("aria-checked","false"),L.attr("aria-checked","true"),A.trigger("change.uk.button",[L])}))},getSelected:function(){return this.find("."+this.options.activeClass)}}),P.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){P.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",(function(A){var E=P.$(this);if(!E.data("buttonCheckbox")){var L=P.buttonCheckbox(E,P.Utils.options(E.attr("data-uk-button-checkbox"))),et=P.$(A.target);et.is(L.options.target)&&et.trigger("click")}}))},init:function(){var A=this;this.find(A.options.target).attr("aria-checked","false").filter("."+A.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,(function(E){var L=P.$(this);L.is('a[href="#"]')&&E.preventDefault(),L.toggleClass(A.options.activeClass).blur(),L.attr("aria-checked",L.hasClass(A.options.activeClass)),A.trigger("change.uk.button",[L])}))},getSelected:function(){return this.find("."+this.options.activeClass)}}),P.component("button",{defaults:{},boot:function(){P.$html.on("click.button.uikit","[data-uk-button]",(function(A){var E=P.$(this);E.data("button")||(P.button(E,P.Utils.options(E.attr("data-uk-button"))),E.trigger("click"))}))},init:function(){var P=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",(function(A){P.element.is('a[href="#"]')&&A.preventDefault(),P.toggle(),P.trigger("change.uk.button",[P.element.blur().hasClass("uk-active")])}))},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})}(UIkit2),function(P){var A,E=!1,L={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};function justify(A,E,L,et){if(A=P.$(A),E=P.$(E),L=L||window.innerWidth,et=et||A.offset(),E.length){var nt=E.outerWidth();if(A.css("min-width",nt),"right"==P.langdirection){var dt=L-(E.offset().left+nt),ut=L-(A.offset().left+A.outerWidth());A.css("margin-right",dt-ut)}else A.css("margin-left",E.offset().left-et.left)}}P.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:P.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var A=P.support.touch?"click":"mouseenter";P.$html.on(A+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",(function(E){var L=P.$(this);if(!L.data("dropdown")){var et=P.dropdown(L,P.Utils.options(L.attr("data-uk-dropdown")));("click"==E.type||"mouseenter"==E.type&&"hover"==et.options.mode)&&et.element.trigger(A),et.dropdown.length&&E.preventDefault()}}))},init:function(){var L=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter((function(){return-1!==P.$.inArray(P.$(this).css("position"),["relative","fixed","absolute"])})).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=!!this.options.justify&&P.$(this.options.justify),this.boundary=P.$(this.options.boundary),this.boundary.length||(this.boundary=P.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),"click"==this.options.mode||P.support.touch?this.on("click.uk.dropdown",(function(A){var E=P.$(A.target);E.parents(L.options.dropdownSelector).length||((E.is("a[href='#']")||E.parent().is("a[href='#']")||L.dropdown.length&&!L.dropdown.is(":visible"))&&A.preventDefault(),E.blur()),L.element.hasClass("uk-open")?(!L.dropdown.find(A.target).length||E.is(".uk-dropdown-close")||E.parents(".uk-dropdown-close").length)&&L.hide():L.show()})):this.on("mouseenter",(function(P){L.trigger("pointerenter.uk.dropdown",[L]),L.remainIdle&&clearTimeout(L.remainIdle),A&&clearTimeout(A),E&&E==L||(A=E&&E!=L?setTimeout((function(){A=setTimeout(L.show.bind(L),L.options.delay)}),L.options.hoverDelayIdle):setTimeout(L.show.bind(L),L.options.delay))})).on("mouseleave",(function(){A&&clearTimeout(A),L.remainIdle=setTimeout((function(){E&&E==L&&L.hide()}),L.options.remaintime),L.trigger("pointerleave.uk.dropdown",[L])})).on("click",(function(A){var et=P.$(A.target);L.remainIdle&&clearTimeout(L.remainIdle),E&&E==L?(!L.dropdown.find(A.target).length||et.is(".uk-dropdown-close")||et.parents(".uk-dropdown-close").length)&&L.hide():((et.is("a[href='#']")||et.parent().is("a[href='#']"))&&A.preventDefault(),L.show())}))},show:function(){P.$html.off("click.outer.dropdown"),E&&E!=this&&E.hide(!0),A&&clearTimeout(A),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),P.Utils.checkDisplay(this.dropdown,!0),P.Utils.focus(this.dropdown),E=this,this.registerOuterClick()},hide:function(P){this.trigger("beforehide.uk.dropdown",[this,P]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,P]),E==this&&(E=!1)},registerOuterClick:function(){var L=this;P.$html.off("click.outer.dropdown"),setTimeout((function(){P.$html.on("click.outer.dropdown",(function(et){A&&clearTimeout(A),P.$(et.target),E!=L||L.element.find(et.target).length||(L.hide(!0),P.$html.off("click.outer.dropdown"))}))}),10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var A=P.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),E=this.options.offset,et=this.dropdown;et.show().offset();var nt=et.outerWidth(),dt=et.outerHeight(),ut=this.boundary.width();this.boundary[0]===window||!this.boundary.offset()||this.boundary.offset();var pt,mt=this.options.pos,gt={"bottom-left":{top:0+A.height+E,left:0},"bottom-right":{top:0+A.height+E,left:0+A.width-nt},"bottom-center":{top:0+A.height+E,left:0+A.width/2-nt/2},"top-left":{top:0-dt-E,left:0},"top-right":{top:0-dt-E,left:0+A.width-nt},"top-center":{top:0-dt-E,left:0+A.width/2-nt/2},"left-top":{top:0,left:0-nt-E},"left-bottom":{top:0+A.height-dt,left:0-nt-E},"left-center":{top:0+A.height/2-dt/2,left:0-nt-E},"right-top":{top:0,left:0+A.width+E},"right-bottom":{top:0+A.height-dt,left:0+A.width+E},"right-center":{top:0+A.height/2-dt/2,left:0+A.width+E}},vt={};if(pt=mt.split("-"),vt=gt[mt]?gt[mt]:gt["bottom-left"],this.justified&&this.justified.length)justify(et.css({left:0}),this.justified,ut);else if(!0!==this.options.preventflip){var wt;switch(this.checkBoundary(A.left+vt.left,A.top+vt.top,nt,dt,ut)){case"x":"x"!==this.options.preventflip&&(wt=L.x[mt]||"right-top");break;case"y":"y"!==this.options.preventflip&&(wt=L.y[mt]||"top-left");break;case"xy":this.options.preventflip||(wt=L.xy[mt]||"right-bottom")}wt&&(pt=wt.split("-"),vt=gt[wt]?gt[wt]:gt["bottom-left"],et.addClass("uk-dropdown-autoflip"),this.checkBoundary(A.left+vt.left,A.top+vt.top,nt,dt,ut)&&(pt=mt.split("-"),vt=gt[mt]?gt[mt]:gt["bottom-left"]))}nt>ut&&(et.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),et.css(vt).css("display","").addClass("uk-dropdown-"+pt[0])}},checkBoundary:function(A,E,L,et,nt){var dt="";return(A<0||A-P.$win.scrollLeft()+L>nt)&&(dt+="x"),(E-P.$win.scrollTop()<0||E-P.$win.scrollTop()+et>window.innerHeight)&&(dt+="y"),dt}}),P.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){P.ready((function(A){P.$("[data-uk-dropdown-overlay]",A).each((function(){var A=P.$(this);A.data("dropdownOverlay")||P.dropdownOverlay(A,P.Utils.options(A.attr("data-uk-dropdown-overlay")))}))}))},init:function(){var A=this;this.justified=!!this.options.justify&&P.$(this.options.justify),this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=P.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(P,E){A.dropdown=E,A.justified&&A.justified.length&&justify(A.overlay.css({display:"block",marginLeft:"",marginRight:""}),A.justified,A.justified.outerWidth())},"show.uk.dropdown":function(E,L){var et=A.dropdown.dropdown.outerHeight(!0);A.dropdown.element.removeClass("uk-open"),A.overlay.stop().css("display","block").animate({height:et},A.options.duration,(function(){A.dropdown.dropdown.css("visibility",""),A.dropdown.element.addClass("uk-open"),P.Utils.checkDisplay(A.dropdown.dropdown,!0)})),A.pointerleave=!1},"hide.uk.dropdown":function(){A.overlay.stop().animate({height:0},A.options.duration)},"pointerenter.uk.dropdown":function(P,E){clearTimeout(A.remainIdle)},"pointerleave.uk.dropdown":function(P,E){A.pointerleave=!0}}),this.overlay.on({mouseenter:function(){A.remainIdle&&(clearTimeout(A.dropdown.remainIdle),clearTimeout(A.remainIdle))},mouseleave:function(){A.pointerleave&&E&&(A.remainIdle=setTimeout((function(){E&&E.hide()}),E.options.remaintime))}})}})}(UIkit2),function(P){P.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){P.ready((function(A){P.$("[data-uk-grid-match]",A).each((function(){var A=P.$(this);A.data("gridMatchHeight")||P.gridMatchHeight(A,P.Utils.options(A.attr("data-uk-grid-match")))}))}))},init:function(){var A,E=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(P.$win.on("load resize orientationchange",(A=function(){E.element.is(":visible")&&E.match()},P.$((function(){A()})),P.Utils.debounce(A,50))),this.options.observe&&P.domObserve(this.element,(function(P){E.element.is(":visible")&&E.match()})),this.on("display.uk.check",function(P){this.element.is(":visible")&&this.match()}.bind(this)))},match:function(){var A=this.columns.filter(":visible:first");if(A.length)return Math.ceil(100*parseFloat(A.css("width"))/parseFloat(A.parent().css("width")))>=100&&!this.options.ignorestacked?this.revert():P.Utils.matchHeights(this.elements,this.options),this},revert:function(){return this.elements.css("min-height",""),this}}),P.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){P.ready((function(A){P.$("[data-uk-grid-margin]",A).each((function(){var A=P.$(this);A.data("gridMargin")||P.gridMargin(A,P.Utils.options(A.attr("data-uk-grid-margin")))}))}))},init:function(){P.stackMargin(this.element,this.options)}})}(UIkit2),function(P){var A,E=!1,L=0,et=P.$html;P.$win.on("resize orientationchange",P.Utils.debounce((function(){P.$(".uk-modal.uk-open").each((function(){return P.$(this).data("modal")&&P.$(this).data("modal").resize()}))}),150)),P.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(A||(A=P.$("body")),this.element.length){var E=this;this.paddingdir="padding-"+("left"==P.langdirection?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",(function(P){P.preventDefault(),E.hide()})).on("click",(function(A){P.$(A.target)[0]==E.element[0]&&E.options.bgclose&&E.hide()})),P.domObserve(this.element,(function(P){E.resize()}))}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var A=this;if(!this.isActive())return this.options.modal&&E&&E.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(E=this),this.active=!0,L++,P.support.transition?(this.hasTransitioned=!1,this.element.one(P.support.transition.end,(function(){A.hasTransitioned=!0,P.Utils.focus(A.dialog,"a[href]")})).addClass("uk-open")):(this.element.addClass("uk-open"),P.Utils.focus(this.dialog,"a[href]")),et.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),P.Utils.checkDisplay(this.dialog,!0),this}},hide:function(A){if(!A&&P.support.transition&&this.hasTransitioned){var E=this;this.one(P.support.transition.end,(function(){E._hide()})).removeClass("uk-open")}else this._hide();return this},resize:function(P){if(this.isActive()||P){var E=A.width();if(this.scrollbarwidth=window.innerWidth-E,A.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var L=this.dialog.outerHeight(),et=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);L+et<window.innerHeight?this.dialog.css({top:window.innerHeight/2-L/2-et}):this.dialog.css({top:""})}}},updateScrollable:function(){var P=this.dialog.find(".uk-overflow-container:visible:first");if(P.length){P.css("height",0);var A=Math.abs(parseInt(this.dialog.css("margin-top"),10)),E=this.dialog.outerHeight(),L=window.innerHeight-2*(A<20?20:A)-E;return P.css({maxHeight:L<this.options.minScrollHeight?"":L,height:""}),!0}return!1},_hide:function(){this.active=!1,L>0?L--:L=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),L||(et.removeClass("uk-modal-page"),A.css(this.paddingdir,"")),E===this&&(E=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),P.component("modalTrigger",{boot:function(){P.$html.on("click.modal.uikit","[data-uk-modal]",(function(A){var E=P.$(this);E.is("a")&&A.preventDefault(),E.data("modalTrigger")||P.modalTrigger(E,P.Utils.options(E.attr("data-uk-modal"))).show()})),P.$html.on("keydown.modal.uikit",(function(P){E&&27===P.keyCode&&E.options.keyboard&&(P.preventDefault(),E.hide())}))},init:function(){var A=this;this.options=P.$.extend({target:!!A.element.is("a")&&A.element.attr("href")},this.options),this.modal=P.modal(this.options.target,this.options),this.on("click",(function(P){P.preventDefault(),A.show()})),this.proxy(this.modal,"show hide isActive")}}),P.modal.dialog=function(A,E){var L=P.modal(P.$(P.modal.dialog.template).appendTo("body"),E);return L.on("hide.uk.modal",(function(){L.persist&&(L.persist.appendTo(L.persist.data("modalPersistParent")),L.persist=!1),L.element.remove()})),function setContent(A,E){if(E)return"object"==typeof A?(A=A instanceof jQuery?A:P.$(A)).parent().length&&(E.persist=A,E.persist.data("modalPersistParent",A.parent())):A="string"==typeof A||"number"==typeof A?P.$("<div></div>").html(A):P.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof A),A.appendTo(E.element.find(".uk-modal-dialog")),E}(A,L),L},P.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',P.modal.alert=function(A,E){E=P.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:P.modal.labels},E);var L=P.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(A)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+E.labels.Ok+"</button></div>"].join(""),E);return L.on("show.uk.modal",(function(){setTimeout((function(){L.element.find("button:first").focus()}),50)})),L.show()},P.modal.confirm=function(A,E,L){var et=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};E=P.$.isFunction(E)?E:function(){},L=P.$.isFunction(L)?L:function(){},et=P.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:P.modal.labels},P.$.isFunction(et)?{}:et);var nt=P.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(A)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+et.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+et.labels.Ok+"</button></div>"].join(""),et);return nt.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",(function(){P.$(this).is(".js-modal-confirm")?E():L(),nt.hide()})),nt.on("show.uk.modal",(function(){setTimeout((function(){nt.element.find(".js-modal-confirm").focus()}),50)})),nt.show()},P.modal.prompt=function(A,E,L,et){L=P.$.isFunction(L)?L:function(P){},et=P.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:P.modal.labels},et);var nt=P.modal.dialog([A?'<div class="uk-modal-content uk-form">'+String(A)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+et.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+et.labels.Ok+"</button></div>"].join(""),et),dt=nt.element.find("input[type='text']").val(E||"").on("keyup",(function(P){13==P.keyCode&&nt.element.find(".js-modal-ok").trigger("click")}));return nt.element.find(".js-modal-ok").on("click",(function(){!1!==L(dt.val())&&nt.hide()})),nt.show()},P.modal.blockUI=function(A,E){var L=P.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(A||'<div class="uk-text-center">...</div>')+"</div>"].join(""),P.$.extend({bgclose:!1,keyboard:!1,
modal:!1},E));return L.content=L.element.find(".uk-modal-content:first"),L.show()},P.modal.labels={Ok:"Ok",Cancel:"Cancel"}}(UIkit2),function(P){function getHeight(A){var E=P.$(A),L="auto";if(E.is(":visible"))L=E.outerHeight();else{var et={position:E.css("position"),visibility:E.css("visibility"),display:E.css("display")};L=E.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),E.css(et)}return L}P.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){P.ready((function(A){P.$("[data-uk-nav]",A).each((function(){var A=P.$(this);A.data("nav")||P.nav(A,P.Utils.options(A.attr("data-uk-nav")))}))}))},init:function(){var A=this;this.on("click.uk.nav",this.options.toggle,(function(E){E.preventDefault();var L=P.$(this);A.open(L.parent()[0]==A.element[0]?L:L.parent("li"))})),this.update(),P.domObserve(this.element,(function(P){A.element.find(A.options.lists).not("[role]").length&&A.update()}))},update:function(){var A=this;this.find(this.options.lists).each((function(){var E=P.$(this).attr("role","menu"),L=E.closest("li"),et=L.hasClass("uk-active");L.data("list-container")||(E.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),L.data("list-container",E.parent()[et?"removeClass":"addClass"]("uk-hidden"))),L.attr("aria-expanded",L.hasClass("uk-open")),et&&A.open(L,!0)}))},open:function(A,E){var L=this,et=this.element,nt=P.$(A),dt=nt.data("list-container");this.options.multiple||et.children(".uk-open").not(A).each((function(){var A=P.$(this);A.data("list-container")&&A.data("list-container").stop().animate({height:0},(function(){P.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")}))})),nt.toggleClass("uk-open"),nt.attr("aria-expanded",nt.hasClass("uk-open")),dt&&(nt.hasClass("uk-open")&&dt.removeClass("uk-hidden"),E?(dt.stop().height(nt.hasClass("uk-open")?"auto":0),nt.hasClass("uk-open")||dt.addClass("uk-hidden"),this.trigger("display.uk.check")):dt.stop().animate({height:nt.hasClass("uk-open")?getHeight(dt.find("ul:first")):0},(function(){nt.hasClass("uk-open")?dt.css("height",""):dt.addClass("uk-hidden"),L.trigger("display.uk.check")})))}})}(UIkit2),function(P){var A={x:window.scrollX,y:window.scrollY};P.$win,P.$doc;var E=P.$html,L={show:function(L,et){if((L=P.$(L)).length){et=P.$.extend({mode:"push"},et);var nt=P.$("body"),dt=L.find(".uk-offcanvas-bar:first"),ut="right"==P.langdirection,pt=(dt.hasClass("uk-offcanvas-bar-flip")?-1:1)*(ut?-1:1),mt=window.innerWidth-nt.width();A={x:window.pageXOffset,y:window.pageYOffset},dt.attr("mode",et.mode),L.addClass("uk-active"),nt.css({width:window.innerWidth-mt,height:window.innerHeight}).addClass("uk-offcanvas-page"),"push"!=et.mode&&"reveal"!=et.mode||nt.css(ut?"margin-right":"margin-left",(ut?-1:1)*(dt.outerWidth()*pt)),"reveal"==et.mode&&dt.css("clip","rect(0, "+dt.outerWidth()+"px, 100vh, 0)"),E.css("margin-top",-1*A.y).width(),dt.addClass("uk-offcanvas-bar-show"),this._initElement(L),dt.trigger("show.uk.offcanvas",[L,dt]),L.attr("aria-hidden","false")}},hide:function(L){var et=P.$("body"),nt=P.$(".uk-offcanvas.uk-active"),dt="right"==P.langdirection,ut=nt.find(".uk-offcanvas-bar:first"),finalize=function(){et.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),nt.removeClass("uk-active"),ut.removeClass("uk-offcanvas-bar-show"),E.css("margin-top",""),window.scrollTo(A.x,A.y),ut.trigger("hide.uk.offcanvas",[nt,ut]),nt.attr("aria-hidden","true")};nt.length&&("none"==ut.attr("mode")&&(L=!0),P.support.transition&&!L?(et.one(P.support.transition.end,(function(){finalize()})).css(dt?"margin-right":"margin-left",""),"reveal"==ut.attr("mode")&&ut.css("clip",""),setTimeout((function(){ut.removeClass("uk-offcanvas-bar-show")}),0)):finalize())},_initElement:function(A){A.data("OffcanvasInit")||(A.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",(function(A){var E=P.$(A.target);if(!A.type.match(/swipe/)&&!E.hasClass("uk-offcanvas-close")){if(E.hasClass("uk-offcanvas-bar"))return;if(E.parents(".uk-offcanvas-bar:first").length)return}A.stopImmediatePropagation(),L.hide()})),A.on("click",'a[href*="#"]',(function(A){var E=P.$(this),et=E.attr("href");"#"!=et&&(P.$doc.one("hide.uk.offcanvas",(function(){var A;try{A=P.$(E[0].hash)}catch(P){A=""}A.length||(A=P.$('[name="'+E[0].hash.replace("#","")+'"]')),A.length&&P.Utils.scrollToElement?P.Utils.scrollToElement(A,P.Utils.options(E.attr("data-uk-smooth-scroll")||"{}")):window.location.href=et})),L.hide())})),A.data("OffcanvasInit",!0))}};P.component("offcanvasTrigger",{boot:function(){E.on("click.offcanvas.uikit","[data-uk-offcanvas]",(function(A){A.preventDefault();var E=P.$(this);E.data("offcanvasTrigger")||(P.offcanvasTrigger(E,P.Utils.options(E.attr("data-uk-offcanvas"))),E.trigger("click"))})),E.on("keydown.uk.offcanvas",(function(P){27===P.keyCode&&L.hide()}))},init:function(){var A=this;this.options=P.$.extend({target:!!A.element.is("a")&&A.element.attr("href"),mode:"push"},this.options),this.on("click",(function(P){P.preventDefault(),L.show(A.options.target,A.options)}))}}),P.offcanvas=L}(UIkit2),function(P){var A;function coreAnimation(A,E,L){var et,nt=P.$.Deferred(),dt=A,ut=A;return L[0]===E[0]?(nt.resolve(),nt.promise()):("object"==typeof A&&(dt=A[0],ut=A[1]||A[0]),P.$body.css("overflow-x","hidden"),et=function(){E&&E.hide().removeClass("uk-active "+ut+" uk-animation-reverse"),L.addClass(dt).one(P.support.animation.end,function(){setTimeout((function(){L.removeClass(""+dt).css({opacity:"",display:""})}),0),nt.resolve(),P.$body.css("overflow-x",""),E&&E.css({opacity:"",display:""})}.bind(this)).show()},L.css("animation-duration",this.options.duration+"ms"),E&&E.length?(E.css("animation-duration",this.options.duration+"ms"),E.css("display","none").addClass(ut+" uk-animation-reverse").one(P.support.animation.end,function(){et()}.bind(this)).css("display","")):(L.addClass("uk-active"),et()),nt.promise())}P.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){P.ready((function(A){P.$("[data-uk-switcher]",A).each((function(){var A=P.$(this);A.data("switcher")||P.switcher(A,P.Utils.options(A.attr("data-uk-switcher")))}))}))},init:function(){var A=this;this.on("click.uk.switcher",this.options.toggle,(function(P){P.preventDefault(),A.show(this)})),this.options.connect&&(this.connect=P.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",(function(E){E.preventDefault();var L=P.$(this).attr("data-uk-switcher-item");if(A.index!=L)switch(L){case"next":case"previous":A.show(A.index+("next"==L?1:-1));break;default:A.show(parseInt(L,10))}})),this.options.swiping&&this.connect.on("swipeRight swipeLeft",(function(P){P.preventDefault(),window.getSelection().toString()||A.show(A.index+("swipeLeft"==P.type?1:-1))})),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var P=this.find(this.options.toggle),A=P.filter(".uk-active");if(A.length)this.show(A,!1);else{if(!1===this.options.active)return;A=P.eq(this.options.active),this.show(A.length?A:P.eq(0),!1)}P.not(A).attr("aria-expanded","false"),A.attr("aria-expanded","true")},show:function(E,L){if(!this.animating){var et=this.find(this.options.toggle);isNaN(E)?E=P.$(E):(E=E<0?et.length-1:E,E=et.eq(et[E]?E:0));var nt=this,dt=P.$(E),ut=A[this.options.animation]||function(P,E){if(!nt.options.animation)return A.none.apply(nt);var L=nt.options.animation.split(",");return 1==L.length&&(L[1]=L[0]),L[0]=L[0].trim(),L[1]=L[1].trim(),coreAnimation.apply(nt,[L,P,E])};!1!==L&&P.support.animation||(ut=A.none),dt.hasClass("uk-disabled")||(et.attr("aria-expanded","false"),dt.attr("aria-expanded","true"),et.filter(".uk-active").removeClass("uk-active"),dt.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(dt),-1==this.index&&(this.index=0),this.connect.each((function(){var A=P.$(this),E=P.$(A.children()),L=P.$(E.filter(".uk-active")),et=P.$(E.eq(nt.index));nt.animating=!0,ut.apply(nt,[L,et]).then((function(){L.removeClass("uk-active"),et.addClass("uk-active"),L.attr("aria-hidden","true"),et.attr("aria-hidden","false"),P.Utils.checkDisplay(et,!0),nt.animating=!1}))}))),this.trigger("show.uk.switcher",[dt]))}}}),A={none:function(){var A=P.$.Deferred();return A.resolve(),A.promise()},fade:function(P,A){return coreAnimation.apply(this,["uk-animation-fade",P,A])},"slide-bottom":function(P,A){return coreAnimation.apply(this,["uk-animation-slide-bottom",P,A])},"slide-top":function(P,A){return coreAnimation.apply(this,["uk-animation-slide-top",P,A])},"slide-vertical":function(P,A,E){var L=["uk-animation-slide-top","uk-animation-slide-bottom"];return P&&P.index()>A.index()&&L.reverse(),coreAnimation.apply(this,[L,P,A])},"slide-left":function(P,A){return coreAnimation.apply(this,["uk-animation-slide-left",P,A])},"slide-right":function(P,A){return coreAnimation.apply(this,["uk-animation-slide-right",P,A])},"slide-horizontal":function(P,A,E){var L=["uk-animation-slide-right","uk-animation-slide-left"];return P&&P.index()>A.index()&&L.reverse(),coreAnimation.apply(this,[L,P,A])},scale:function(P,A){return coreAnimation.apply(this,["uk-animation-scale-up",P,A])}},P.switcher.animations=A}(UIkit2),function(P){P.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){P.ready((function(A){P.$("[data-uk-tab]",A).each((function(){var A=P.$(this);A.data("tab")||P.tab(A,P.Utils.options(A.attr("data-uk-tab")))}))}))},init:function(){var A=this;this.current=!1,this.on("click.uk.tab",this.options.target,(function(E){if(E.preventDefault(),!A.switcher||!A.switcher.animating){var L=A.find(A.options.target).not(this);L.removeClass("uk-active").blur(),A.trigger("change.uk.tab",[P.$(this).addClass("uk-active"),A.current]),A.current=P.$(this),A.options.connect||(L.attr("aria-expanded","false"),P.$(this).attr("aria-expanded","true"))}})),this.options.connect&&(this.connect=P.$(this.options.connect)),this.responsivetab=P.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",(function(E){E.preventDefault(),E.stopPropagation();var L=P.$(this);A.element.children("li:not(.uk-tab-responsive)").eq(L.data("index")).trigger("click")})),this.on("show.uk.switcher change.uk.tab",(function(P,E){A.responsivetab.caption.html(E.text())})),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=P.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),P.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),A.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),P.$win.on("resize orientationchange",P.Utils.debounce((function(){A.element.is(":visible")&&A.check()}),100)),this.on("display.uk.check",(function(){A.element.is(":visible")&&A.check()}))},check:function(){var A=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(A.length){var E,L,et=A.eq(0).offset().top+Math.ceil(A.eq(0).height()/2),nt=!1;if(this.responsivetab.lst.empty(),A.each((function(){P.$(this).offset().top>et&&(nt=!0)})),nt)for(var dt=0;dt<A.length;dt++)(E=P.$(A.eq(dt))).find("a"),"none"==E.css("float")||E.attr("uk-dropdown")||(E.hasClass("uk-disabled")||((L=P.$(E[0].outerHTML)).find("a").data("index",dt),this.responsivetab.lst.append(L)),E.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}else this.responsivetab.addClass("uk-hidden")}})}(UIkit2),function(P){P.component("cover",{defaults:{automute:!0},boot:function(){P.ready((function(A){P.$("[data-uk-cover]",A).each((function(){var A=P.$(this);A.data("cover")||P.cover(A,P.Utils.options(A.attr("data-uk-cover")))}))}))},init:function(){if(this.parent=this.element.parent(),P.$win.on("load resize orientationchange",P.Utils.debounce(function(){this.check()}.bind(this),100)),this.on("display.uk.check",function(P){this.element.is(":visible")&&this.check()}.bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var A=this.element.attr("src");this.element.attr("src","").on("load",(function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")})).attr("src",[A,A.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var P,A,E=this.parent.width(),L=this.parent.height();E/this.ratio<L?(P=Math.ceil(L*this.ratio),A=L):(P=E,A=Math.ceil(E/this.ratio)),this.element.css({width:P,height:A})}})}(UIkit2);var nt,dt={exports:{}};function sanitizeJsonResponse(P){return P?P.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f").replace(/[\u0000-\u0019]+/g,""):P}!function requireDatepicker(){return nt||(nt=1,P=dt,window.UIkit2&&function(A){var E,L,et=!1;A.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",container:"body",template:function(P,E){var L,et="";if(et+='<div class="uk-datepicker-nav">',et+='<a href="" class="uk-datepicker-previous"></a>',et+='<a href="" class="uk-datepicker-next"></a>',A.formSelect){var nt,dt,ut,pt=(new Date).getFullYear(),mt=[];for(L=0;L<E.i18n.months.length;L++)L==P.month?mt.push('<option value="'+L+'" selected>'+E.i18n.months[L]+"</option>"):mt.push('<option value="'+L+'">'+E.i18n.months[L]+"</option>");for(nt='<span class="uk-form-select">'+E.i18n.months[P.month]+'<select class="update-picker-month">'+mt.join("")+"</select></span>",mt=[],dt=P.minDate?P.minDate.year():pt-50,ut=P.maxDate?P.maxDate.year():pt+20,L=dt;L<=ut;L++)L==P.year?mt.push('<option value="'+L+'" selected>'+L+"</option>"):mt.push('<option value="'+L+'">'+L+"</option>");et+='<div class="uk-datepicker-heading">'+nt+' <span class="uk-form-select">'+P.year+'<select class="update-picker-year">'+mt.join("")+"</select></span></div>"}else et+='<div class="uk-datepicker-heading">'+E.i18n.months[P.month]+" "+P.year+"</div>";for(et+="</div>",et+='<table class="uk-datepicker-table">',et+="<thead>",L=0;L<P.weekdays.length;L++)P.weekdays[L]&&(et+="<th>"+P.weekdays[L]+"</th>");for(et+="</thead>",et+="<tbody>",L=0;L<P.days.length;L++)if(P.days[L]&&P.days[L].length){et+="<tr>";for(var gt=0;gt<P.days[L].length;gt++)if(P.days[L][gt]){var vt=P.days[L][gt],wt=[];vt.inmonth||wt.push("uk-datepicker-table-muted"),vt.selected&&wt.push("uk-active"),vt.disabled&&wt.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),et+='<td><a href="" class="'+wt.join(" ")+'" data-date="'+vt.day.format()+'">'+vt.day.format("D")+"</a></td>"}et+="</tr>"}return et+="</tbody>",et+="</table>"}},boot:function(){A.$win.on("resize orientationchange",(function(){et&&et.hide()})),A.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",(function(P){var E=A.$(this);E.data("datepicker")||(P.preventDefault(),A.datepicker(E,A.Utils.options(E.attr("data-uk-datepicker"))),E.trigger("focus"))})),A.$html.on("click focus","*",(function(P){var L=A.$(P.target);!et||L[0]==E[0]||L.data("datepicker")||L.parents(".uk-datepicker:first").length||et.hide()}))},init:function(){if(!A.support.touch||"date"!=this.element.attr("type")||this.options.mobile){var P=this;this.current=this.element.val()?L(this.element.val(),this.options.format):L(),this.on("click focus",(function(){et!==P&&P.pick(this.value?this.value:"")})).on("change",(function(){P.element.val()&&!L(P.element.val(),P.options.format).isValid()&&P.element.val(L().format(P.options.format))})),E||((E=A.$('<div class="uk-dropdown uk-datepicker"></div>')).on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",(function(P){P.stopPropagation(),P.preventDefault();var E=A.$(this);if(E.hasClass("uk-datepicker-date-disabled"))return!1;E.is("[data-date]")?(et.current=L(E.data("date")),et.element.val(et.current.isValid()?et.current.format(et.options.format):null).trigger("change"),et.hide()):et.add(E.hasClass("uk-datepicker-next")?1:-1,"months")})),E.on("change",".update-picker-month, .update-picker-year",(function(){var P=A.$(this);et[P.is(".update-picker-year")?"setYear":"setMonth"](Number(P.val()))})),E.appendTo(this.options.container))}},pick:function(P){var nt=this.element.offset(),dt={left:nt.left,right:""};this.current=isNaN(P)?L(P,this.options.format):L(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),"right"==A.langdirection&&(dt.right=window.innerWidth-(dt.left+this.element.outerWidth()),dt.left="");var ut=nt.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-E.outerHeight(),pt=nt.top+this.element.outerHeight()+this.options.offsettop;dt.top=pt,("top"==this.options.pos||"auto"==this.options.pos&&window.innerHeight-pt-E.outerHeight()<0&&ut>=0)&&(dt.top=ut),E.css(dt).show(),this.trigger("show.uk.datepicker"),et=this},add:function(P,A){this.current.add(P,A),this.update()},setMonth:function(P){this.current.month(P),this.update()},setYear:function(P){this.current.year(P),this.update()},update:function(){var P=this.getRows(this.current.year(),this.current.month()),A=this.options.template(P,this.options);E.html(A),this.trigger("update.uk.datepicker")},getRows:function(P,A){var E=this.options,et=L().format("YYYY-MM-DD"),nt=[31,P%4==0&&P%100!=0||P%400==0?29:28,31,30,31,30,31,31,30,31,30,31][A],dt=new Date(P,A,1,12).getDay(),ut={month:A,year:P,weekdays:[],days:[],maxDate:!1,minDate:!1},pt=[];!1!==E.maxDate&&(ut.maxDate=isNaN(E.maxDate)?L(E.maxDate,E.format).startOf("day").hours(12):L().add(E.maxDate,"days").startOf("day").hours(12)),!1!==E.minDate&&(ut.minDate=isNaN(E.minDate)?L(E.minDate,E.format).startOf("day").hours(12):L().add(E.minDate-1,"days").startOf("day").hours(12)),ut.weekdays=function(){for(var P=0,A=[];P<7;P++){for(var L=P+(E.weekstart||0);L>=7;)L-=7;A.push(E.i18n.weekdays[L])}return A}(),E.weekstart&&E.weekstart>0&&(dt-=E.weekstart)<0&&(dt+=7);for(var mt,gt,vt,wt,_t,yt=nt+dt,bt=yt;bt>7;)bt-=7;yt+=7-bt;for(var $t=0,Dt=0;$t<yt;$t++)mt=new Date(P,A,$t-dt+1,12),gt=ut.minDate&&ut.minDate>mt||ut.maxDate&&mt>ut.maxDate,_t=!($t<dt||$t>=nt+dt),mt=L(mt),vt=this.initdate==mt.format("YYYY-MM-DD"),wt=et==mt.format("YYYY-MM-DD"),pt.push({selected:vt,today:wt,disabled:gt,day:mt,inmonth:_t}),7==++Dt&&(ut.days.push(pt),pt=[],Dt=0);return ut},hide:function(){et&&et===this&&(E.hide(),et=!1,this.trigger("hide.uk.datepicker"))}}),
//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
L=function(A){var E,L,et="2.8.3",nt=Math.round,dt=Object.prototype.hasOwnProperty,ut=0,pt=1,mt=2,gt=3,vt=4,wt=5,_t=6,yt={},bt=[],$t=P.exports,Dt=/^\/?Date\((\-?\d+)/i,St=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,It=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Mt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,At=/\d\d?/,Ot=/\d{1,3}/,Ut=/\d{1,4}/,Ft=/[+\-]?\d{1,6}/,Wt=/\d+/,Yt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,jt=/Z|[\+\-]\d\d:?\d\d/gi,Bt=/T/i,Nt=/[\+\-]?\d+(\.\d{1,3})?/,qt=/\d{1,2}/,Gt=/\d/,Vt=/\d\d/,Jt=/\d{3}/,Xt=/\d{4}/,Kt=/[+-]?\d{6}/,te=/[+-]?\d+/,ee=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ie="YYYY-MM-DDTHH:mm:ssZ",ne=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ae=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],oe=/([\+\-]|\d\d)/gi,re={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},se={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},le={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},de={},ue={s:45,m:45,h:22,d:26,M:11},ce="DDD w W M D d".split(" "),he="M D H h m s w W".split(" "),pe={M:function(){return this.month()+1},MMM:function(P){return this.localeData().monthsShort(this,P)},MMMM:function(P){return this.localeData().months(this,P)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(P){return this.localeData().weekdaysMin(this,P)},ddd:function(P){return this.localeData().weekdaysShort(this,P)},dddd:function(P){return this.localeData().weekdays(this,P)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var P=this.year();return(P>=0?"+":"-")+leftZeroFill(Math.abs(P),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var P=-this.zone(),A="+";return P<0&&(P=-P,A="-"),A+leftZeroFill(toInt(P/60),2)+":"+leftZeroFill(toInt(P)%60,2)},ZZ:function(){var P=-this.zone(),A="+";return P<0&&(P=-P,A="-"),A+leftZeroFill(toInt(P/60),2)+leftZeroFill(toInt(P)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},fe={},me=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function dfl(P,A,E){switch(arguments.length){case 2:return null!=P?P:A;case 3:return null!=P?P:null!=A?A:E;default:throw new Error("Implement me")}}function hasOwnProp(P,A){return dt.call(P,A)}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function printMsg(P){!1===E.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+P)}function deprecate(P,A){var E=!0;return extend((function(){return E&&(printMsg(P),E=!1),A.apply(this,arguments)}),A)}function deprecateSimple(P,A){fe[P]||(printMsg(A),fe[P]=!0)}function padToken(P,A){return function(E){return leftZeroFill(P.call(this,E),A)}}function ordinalizeToken(P,A){return function(E){return this.localeData().ordinal(P.call(this,E),A)}}for(;ce.length;)L=ce.pop(),pe[L+"o"]=ordinalizeToken(pe[L],L);for(;he.length;)L=he.pop(),pe[L+L]=padToken(pe[L],2);function Locale(){}function Moment(P,A){!1!==A&&checkOverflow(P),copyConfig(this,P),this._d=new Date(+P._d)}function Duration(P){var A=normalizeObjectUnits(P),L=A.year||0,et=A.quarter||0,nt=A.month||0,dt=A.week||0,ut=A.day||0,pt=A.hour||0,mt=A.minute||0,gt=A.second||0,vt=A.millisecond||0;this._milliseconds=+vt+1e3*gt+6e4*mt+36e5*pt,this._days=+ut+7*dt,this._months=+nt+3*et+12*L,this._data={},this._locale=E.localeData(),this._bubble()}function extend(P,A){for(var E in A)hasOwnProp(A,E)&&(P[E]=A[E]);return hasOwnProp(A,"toString")&&(P.toString=A.toString),hasOwnProp(A,"valueOf")&&(P.valueOf=A.valueOf),P}function copyConfig(P,A){var E,L,et;if(void 0!==A._isAMomentObject&&(P._isAMomentObject=A._isAMomentObject),void 0!==A._i&&(P._i=A._i),void 0!==A._f&&(P._f=A._f),void 0!==A._l&&(P._l=A._l),void 0!==A._strict&&(P._strict=A._strict),void 0!==A._tzm&&(P._tzm=A._tzm),void 0!==A._isUTC&&(P._isUTC=A._isUTC),void 0!==A._offset&&(P._offset=A._offset),void 0!==A._pf&&(P._pf=A._pf),void 0!==A._locale&&(P._locale=A._locale),bt.length>0)for(E in bt)void 0!==(et=A[L=bt[E]])&&(P[L]=et);return P}function absRound(P){return P<0?Math.ceil(P):Math.floor(P)}function leftZeroFill(P,A,E){for(var L=""+Math.abs(P),et=P>=0;L.length<A;)L="0"+L;return(et?"":"-")+L}function positiveMomentsDifference(P,A){var E={milliseconds:0,months:0};return E.months=A.month()-P.month()+12*(A.year()-P.year()),P.clone().add(E.months,"M").isAfter(A)&&--E.months,E.milliseconds=+A-+P.clone().add(E.months,"M"),E}function momentsDifference(P,A){var E;return A=makeAs(A,P),P.isBefore(A)?E=positiveMomentsDifference(P,A):((E=positiveMomentsDifference(A,P)).milliseconds=-E.milliseconds,E.months=-E.months),E}function createAdder(P,A){return function(L,et){var nt;return null===et||isNaN(+et)||(deprecateSimple(A,"moment()."+A+"(period, number) is deprecated. Please use moment()."+A+"(number, period)."),nt=L,L=et,et=nt),L="string"==typeof L?+L:L,addOrSubtractDurationFromMoment(this,E.duration(L,et),P),this}}function addOrSubtractDurationFromMoment(P,A,L,et){var nt=A._milliseconds,dt=A._days,ut=A._months;et=null==et||et,nt&&P._d.setTime(+P._d+nt*L),dt&&rawSetter(P,"Date",rawGetter(P,"Date")+dt*L),ut&&rawMonthSetter(P,rawGetter(P,"Month")+ut*L),et&&E.updateOffset(P,dt||ut)}function isArray(P){return"[object Array]"===Object.prototype.toString.call(P)}function isDate(P){return"[object Date]"===Object.prototype.toString.call(P)||P instanceof Date}function compareArrays(P,A,E){var L,et=Math.min(P.length,A.length),nt=Math.abs(P.length-A.length),dt=0;for(L=0;L<et;L++)(E&&P[L]!==A[L]||!E&&toInt(P[L])!==toInt(A[L]))&&dt++;return dt+nt}function normalizeUnits(P){if(P){var A=P.toLowerCase().replace(/(.)s$/,"$1");P=se[P]||le[A]||A}return P}function normalizeObjectUnits(P){var A,E,L={};for(E in P)hasOwnProp(P,E)&&(A=normalizeUnits(E))&&(L[A]=P[E]);return L}function makeList(P){var L,et;if(0===P.indexOf("week"))L=7,et="day";else{if(0!==P.indexOf("month"))return;L=12,et="month"}E[P]=function(nt,dt){var ut,pt,mt=E._locale[P],gt=[];if("number"==typeof nt&&(dt=nt,nt=A),pt=function(P){var A=E().utc().set(et,P);return mt.call(E._locale,A,nt||"")},null!=dt)return pt(dt);for(ut=0;ut<L;ut++)gt.push(pt(ut));return gt}}function toInt(P){var A=+P,E=0;return 0!==A&&isFinite(A)&&(E=A>=0?Math.floor(A):Math.ceil(A)),E}function daysInMonth(P,A){return new Date(Date.UTC(P,A+1,0)).getUTCDate()}function weeksInYear(P,A,L){return weekOfYear(E([P,11,31+A-L]),A,L).week}function daysInYear(P){return isLeapYear(P)?366:365}function isLeapYear(P){return P%4==0&&P%100!=0||P%400==0}function checkOverflow(P){var A;P._a&&-2===P._pf.overflow&&(A=P._a[pt]<0||P._a[pt]>11?pt:P._a[mt]<1||P._a[mt]>daysInMonth(P._a[ut],P._a[pt])?mt:P._a[gt]<0||P._a[gt]>23?gt:P._a[vt]<0||P._a[vt]>59?vt:P._a[wt]<0||P._a[wt]>59?wt:P._a[_t]<0||P._a[_t]>999?_t:-1,P._pf._overflowDayOfYear&&(A<ut||A>mt)&&(A=mt),P._pf.overflow=A)}function isValid(P){return null==P._isValid&&(P._isValid=!isNaN(P._d.getTime())&&P._pf.overflow<0&&!P._pf.empty&&!P._pf.invalidMonth&&!P._pf.nullInput&&!P._pf.invalidFormat&&!P._pf.userInvalidated,P._strict&&(P._isValid=P._isValid&&0===P._pf.charsLeftOver&&0===P._pf.unusedTokens.length)),P._isValid}function normalizeLocale(P){return P?P.toLowerCase().replace("_","-"):P}function chooseLocale(P){for(var A,E,L,et,nt=0;nt<P.length;){for(A=(et=normalizeLocale(P[nt]).split("-")).length,E=(E=normalizeLocale(P[nt+1]))?E.split("-"):null;A>0;){if(L=loadLocale(et.slice(0,A).join("-")))return L;if(E&&E.length>=A&&compareArrays(et,E,!0)>=A-1)break;A--}nt++}return null}function loadLocale(P){var A=null;if(!yt[P]&&$t)try{A=E.locale(),function commonjsRequire(P){throw new Error('Could not dynamically require "'+P+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}("./locale/"+P),E.locale(A)}catch(P){}return yt[P]}function makeAs(P,A){return A._isUTC?E(P).zone(A._offset||0):E(P).local()}function removeFormattingTokens(P){return P.match(/\[[\s\S]/)?P.replace(/^\[|\]$/g,""):P.replace(/\\/g,"")}function makeFormatFunction(P){var A,E,L=P.match(Pt);for(A=0,E=L.length;A<E;A++)pe[L[A]]?L[A]=pe[L[A]]:L[A]=removeFormattingTokens(L[A]);return function(et){var nt="";for(A=0;A<E;A++)nt+=L[A]instanceof Function?L[A].call(et,P):L[A];return nt}}function formatMoment(P,A){return P.isValid()?(A=expandFormat(A,P.localeData()),de[A]||(de[A]=makeFormatFunction(A)),de[A](P)):P.localeData().invalidDate()}function expandFormat(P,A){var E=5;function replaceLongDateFormatTokens(P){return A.longDateFormat(P)||P}for(Mt.lastIndex=0;E>=0&&Mt.test(P);)P=P.replace(Mt,replaceLongDateFormatTokens),Mt.lastIndex=0,E-=1;return P}function getParseRegexForToken(P,A){var E=A._strict;switch(P){case"Q":return Gt;case"DDDD":return Jt;case"YYYY":case"GGGG":case"gggg":return E?Xt:Ut;case"Y":case"G":case"g":return te;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return E?Kt:Ft;case"S":if(E)return Gt;case"SS":if(E)return Vt;case"SSS":if(E)return Jt;case"DDD":return Ot;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Yt;case"a":case"A":return A._locale._meridiemParse;case"X":return Nt;case"Z":case"ZZ":return jt;case"T":return Bt;case"SSSS":return Wt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return E?Vt:At;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return At;case"Do":return qt;default:return new RegExp(regexpEscape(unescapeFormat(P.replace("\\",""))))}}function timezoneMinutesFromString(P){var A=(P=P||"").match(jt)||[],E=((A[A.length-1]||[])+"").match(oe)||["-",0,0],L=60*E[1]+toInt(E[2]);return"+"===E[0]?-L:L}function addTimeToArrayFromToken(P,A,L){var et,nt=L._a;switch(P){case"Q":null!=A&&(nt[pt]=3*(toInt(A)-1));break;case"M":case"MM":null!=A&&(nt[pt]=toInt(A)-1);break;case"MMM":case"MMMM":null!=(et=L._locale.monthsParse(A))?nt[pt]=et:L._pf.invalidMonth=A;break;case"D":case"DD":null!=A&&(nt[mt]=toInt(A));break;case"Do":null!=A&&(nt[mt]=toInt(parseInt(A,10)));break;case"DDD":case"DDDD":null!=A&&(L._dayOfYear=toInt(A));break;case"YY":nt[ut]=E.parseTwoDigitYear(A);break;case"YYYY":case"YYYYY":case"YYYYYY":nt[ut]=toInt(A);break;case"a":case"A":L._isPm=L._locale.isPM(A);break;case"H":case"HH":case"h":case"hh":nt[gt]=toInt(A);break;case"m":case"mm":nt[vt]=toInt(A);break;case"s":case"ss":nt[wt]=toInt(A);break;case"S":case"SS":case"SSS":case"SSSS":nt[_t]=toInt(1e3*("0."+A));break;case"X":L._d=new Date(1e3*parseFloat(A));break;case"Z":case"ZZ":L._useUTC=!0,L._tzm=timezoneMinutesFromString(A);break;case"dd":case"ddd":case"dddd":null!=(et=L._locale.weekdaysParse(A))?(L._w=L._w||{},L._w.d=et):L._pf.invalidWeekday=A;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":P=P.substr(0,1);case"gggg":case"GGGG":case"GGGGG":P=P.substr(0,2),A&&(L._w=L._w||{},L._w[P]=toInt(A));break;case"gg":case"GG":L._w=L._w||{},L._w[P]=E.parseTwoDigitYear(A)}}function dayOfYearFromWeekInfo(P){var A,L,et,nt,dt,pt,mt;null!=(A=P._w).GG||null!=A.W||null!=A.E?(dt=1,pt=4,L=dfl(A.GG,P._a[ut],weekOfYear(E(),1,4).year),et=dfl(A.W,1),nt=dfl(A.E,1)):(dt=P._locale._week.dow,pt=P._locale._week.doy,L=dfl(A.gg,P._a[ut],weekOfYear(E(),dt,pt).year),et=dfl(A.w,1),null!=A.d?(nt=A.d)<dt&&++et:nt=null!=A.e?A.e+dt:dt),mt=dayOfYearFromWeeks(L,et,nt,pt,dt),P._a[ut]=mt.year,P._dayOfYear=mt.dayOfYear}function dateFromConfig(P){var A,E,L,et,nt=[];if(!P._d){for(L=currentDateArray(P),P._w&&null==P._a[mt]&&null==P._a[pt]&&dayOfYearFromWeekInfo(P),P._dayOfYear&&(et=dfl(P._a[ut],L[ut]),P._dayOfYear>daysInYear(et)&&(P._pf._overflowDayOfYear=!0),E=makeUTCDate(et,0,P._dayOfYear),P._a[pt]=E.getUTCMonth(),P._a[mt]=E.getUTCDate()),A=0;A<3&&null==P._a[A];++A)P._a[A]=nt[A]=L[A];for(;A<7;A++)P._a[A]=nt[A]=null==P._a[A]?2===A?1:0:P._a[A];P._d=(P._useUTC?makeUTCDate:makeDate).apply(null,nt),null!=P._tzm&&P._d.setUTCMinutes(P._d.getUTCMinutes()+P._tzm)}}function dateFromObject(P){var A;P._d||(A=normalizeObjectUnits(P._i),P._a=[A.year,A.month,A.day,A.hour,A.minute,A.second,A.millisecond],dateFromConfig(P))}function currentDateArray(P){var A=new Date;return P._useUTC?[A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()]:[A.getFullYear(),A.getMonth(),A.getDate()]}function makeDateFromStringAndFormat(P){if(P._f!==E.ISO_8601){P._a=[],P._pf.empty=!0;var A,L,et,nt,dt,ut=""+P._i,pt=ut.length,mt=0;for(et=expandFormat(P._f,P._locale).match(Pt)||[],A=0;A<et.length;A++)nt=et[A],(L=(ut.match(getParseRegexForToken(nt,P))||[])[0])&&((dt=ut.substr(0,ut.indexOf(L))).length>0&&P._pf.unusedInput.push(dt),ut=ut.slice(ut.indexOf(L)+L.length),mt+=L.length),pe[nt]?(L?P._pf.empty=!1:P._pf.unusedTokens.push(nt),addTimeToArrayFromToken(nt,L,P)):P._strict&&!L&&P._pf.unusedTokens.push(nt);P._pf.charsLeftOver=pt-mt,ut.length>0&&P._pf.unusedInput.push(ut),P._isPm&&P._a[gt]<12&&(P._a[gt]+=12),!1===P._isPm&&12===P._a[gt]&&(P._a[gt]=0),dateFromConfig(P),checkOverflow(P)}else parseISO(P)}function unescapeFormat(P){return P.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(P,A,E,L,et){return A||E||L||et}))}function regexpEscape(P){return P.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(P){var A,E,L,et,nt;if(0===P._f.length)return P._pf.invalidFormat=!0,void(P._d=new Date(NaN));for(et=0;et<P._f.length;et++)nt=0,A=copyConfig({},P),null!=P._useUTC&&(A._useUTC=P._useUTC),A._pf=defaultParsingFlags(),A._f=P._f[et],makeDateFromStringAndFormat(A),isValid(A)&&(nt+=A._pf.charsLeftOver,nt+=10*A._pf.unusedTokens.length,A._pf.score=nt,(null==L||nt<L)&&(L=nt,E=A));extend(P,E||A)}function parseISO(P){var A,E,L=P._i,et=ee.exec(L);if(et){for(P._pf.iso=!0,A=0,E=ne.length;A<E;A++)if(ne[A][1].exec(L)){P._f=ne[A][0]+(et[6]||" ");break}for(A=0,E=ae.length;A<E;A++)if(ae[A][1].exec(L)){P._f+=ae[A][0];break}L.match(jt)&&(P._f+="Z"),makeDateFromStringAndFormat(P)}else P._isValid=!1}function makeDateFromString(P){parseISO(P),!1===P._isValid&&(delete P._isValid,E.createFromInputFallback(P))}function map(P,A){var E,L=[];for(E=0;E<P.length;++E)L.push(A(P[E],E));return L}function makeDateFromInput(P){var L,et=P._i;et===A?P._d=new Date:isDate(et)?P._d=new Date(+et):null!==(L=Dt.exec(et))?P._d=new Date(+L[1]):"string"==typeof et?makeDateFromString(P):isArray(et)?(P._a=map(et.slice(0),(function(P){return parseInt(P,10)})),dateFromConfig(P)):"object"==typeof et?dateFromObject(P):"number"==typeof et?P._d=new Date(et):E.createFromInputFallback(P)}function makeDate(P,A,E,L,et,nt,dt){var ut=new Date(P,A,E,L,et,nt,dt);return P<1970&&ut.setFullYear(P),ut}function makeUTCDate(P){var A=new Date(Date.UTC.apply(null,arguments));return P<1970&&A.setUTCFullYear(P),A}function parseWeekday(P,A){if("string"==typeof P)if(isNaN(P)){if("number"!=typeof(P=A.weekdaysParse(P)))return null}else P=parseInt(P,10);return P}function substituteTimeAgo(P,A,E,L,et){return et.relativeTime(A||1,!!E,P,L)}function relativeTime(P,A,L){var et=E.duration(P).abs(),dt=nt(et.as("s")),ut=nt(et.as("m")),pt=nt(et.as("h")),mt=nt(et.as("d")),gt=nt(et.as("M")),vt=nt(et.as("y")),wt=dt<ue.s&&["s",dt]||1===ut&&["m"]||ut<ue.m&&["mm",ut]||1===pt&&["h"]||pt<ue.h&&["hh",pt]||1===mt&&["d"]||mt<ue.d&&["dd",mt]||1===gt&&["M"]||gt<ue.M&&["MM",gt]||1===vt&&["y"]||["yy",vt];return wt[2]=A,wt[3]=+P>0,wt[4]=L,substituteTimeAgo.apply({},wt)}function weekOfYear(P,A,L){var et,nt=L-A,dt=L-P.day();return dt>nt&&(dt-=7),dt<nt-7&&(dt+=7),et=E(P).add(dt,"d"),{week:Math.ceil(et.dayOfYear()/7),year:et.year()}}function dayOfYearFromWeeks(P,A,E,L,et){var nt,dt=makeUTCDate(P,0,1).getUTCDay();return{year:(nt=7*(A-1)+((E=null!=E?E:et)-et)+(et-(dt=0===dt?7:dt)+(dt>L?7:0)-(dt<et?7:0))+1)>0?P:P-1,dayOfYear:nt>0?nt:daysInYear(P-1)+nt}}function makeMoment(P){var L=P._i,et=P._f;return P._locale=P._locale||E.localeData(P._l),null===L||et===A&&""===L?E.invalid({nullInput:!0}):("string"==typeof L&&(P._i=L=P._locale.preparse(L)),E.isMoment(L)?new Moment(L,!0):(et?isArray(et)?makeDateFromStringAndArray(P):makeDateFromStringAndFormat(P):makeDateFromInput(P),new Moment(P)))}function pickBy(P,A){var L,et;if(1===A.length&&isArray(A[0])&&(A=A[0]),!A.length)return E();for(L=A[0],et=1;et<A.length;++et)A[et][P](L)&&(L=A[et]);return L}for(pe.DDDD=padToken(pe.DDD,3),extend(Locale.prototype,{set:function(P){var A,E;for(E in P)"function"==typeof(A=P[E])?this[E]=A:this["_"+E]=A},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(P){return this._months[P.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(P){return this._monthsShort[P.month()]},monthsParse:function(P){var A,L,et;for(this._monthsParse||(this._monthsParse=[]),A=0;A<12;A++)if(this._monthsParse[A]||(L=E.utc([2e3,A]),et="^"+this.months(L,"")+"|^"+this.monthsShort(L,""),this._monthsParse[A]=new RegExp(et.replace(".",""),"i")),this._monthsParse[A].test(P))return A},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(P){return this._weekdays[P.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(P){return this._weekdaysShort[P.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(P){return this._weekdaysMin[P.day()]},weekdaysParse:function(P){var A,L,et;for(this._weekdaysParse||(this._weekdaysParse=[]),A=0;A<7;A++)if(this._weekdaysParse[A]||(L=E([2e3,1]).day(A),et="^"+this.weekdays(L,"")+"|^"+this.weekdaysShort(L,"")+"|^"+this.weekdaysMin(L,""),this._weekdaysParse[A]=new RegExp(et.replace(".",""),"i")),this._weekdaysParse[A].test(P))return A},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(P){var A=this._longDateFormat[P];return!A&&this._longDateFormat[P.toUpperCase()]&&(A=this._longDateFormat[P.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(P){return P.slice(1)})),this._longDateFormat[P]=A),A},isPM:function(P){return"p"===(P+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(P,A,E){return P>11?E?"pm":"PM":E?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(P,A){var E=this._calendar[P];return"function"==typeof E?E.apply(A):E},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(P,A,E,L){var et=this._relativeTime[E];return"function"==typeof et?et(P,A,E,L):et.replace(/%d/i,P)},pastFuture:function(P,A){var E=this._relativeTime[P>0?"future":"past"];return"function"==typeof E?E(A):E.replace(/%s/i,A)},ordinal:function(P){return this._ordinal.replace("%d",P)},_ordinal:"%d",preparse:function(P){return P},postformat:function(P){return P},week:function(P){return weekOfYear(P,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(E=function(P,E,L,et){var nt;return"boolean"==typeof L&&(et=L,L=A),(nt={})._isAMomentObject=!0,nt._i=P,nt._f=E,nt._l=L,nt._strict=et,nt._isUTC=!1,nt._pf=defaultParsingFlags(),makeMoment(nt)}).suppressDeprecationWarnings=!1,E.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(P){P._d=new Date(P._i)})),E.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},E.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},E.utc=function(P,E,L,et){var nt;return"boolean"==typeof L&&(et=L,L=A),(nt={})._isAMomentObject=!0,nt._useUTC=!0,nt._isUTC=!0,nt._l=L,nt._i=P,nt._f=E,nt._strict=et,nt._pf=defaultParsingFlags(),makeMoment(nt).utc()},E.unix=function(P){return E(1e3*P)},E.duration=function(P,A){var L,et,nt,dt,ut=P,pt=null;return E.isDuration(P)?ut={ms:P._milliseconds,d:P._days,M:P._months}:"number"==typeof P?(ut={},A?ut[A]=P:ut.milliseconds=P):(pt=St.exec(P))?(L="-"===pt[1]?-1:1,ut={y:0,d:toInt(pt[mt])*L,h:toInt(pt[gt])*L,m:toInt(pt[vt])*L,s:toInt(pt[wt])*L,ms:toInt(pt[_t])*L}):(pt=It.exec(P))?(L="-"===pt[1]?-1:1,ut={y:(nt=function(P){var A=P&&parseFloat(P.replace(",","."));return(isNaN(A)?0:A)*L})(pt[2]),M:nt(pt[3]),d:nt(pt[4]),h:nt(pt[5]),m:nt(pt[6]),s:nt(pt[7]),w:nt(pt[8])}):"object"==typeof ut&&("from"in ut||"to"in ut)&&(dt=momentsDifference(E(ut.from),E(ut.to)),(ut={}).ms=dt.milliseconds,ut.M=dt.months),et=new Duration(ut),E.isDuration(P)&&hasOwnProp(P,"_locale")&&(et._locale=P._locale),et},E.version=et,E.defaultFormat=ie,E.ISO_8601=function(){},E.momentProperties=bt,E.updateOffset=function(){},E.relativeTimeThreshold=function(P,E){return ue[P]!==A&&(E===A?ue[P]:(ue[P]=E,!0))},E.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",(function(P,A){return E.locale(P,A)})),E.locale=function(P,A){var L;return P&&(L=void 0!==A?E.defineLocale(P,A):E.localeData(P))&&(E.duration._locale=E._locale=L),E._locale._abbr},E.defineLocale=function(P,A){return null!==A?(A.abbr=P,yt[P]||(yt[P]=new Locale),yt[P].set(A),E.locale(P),yt[P]):(delete yt[P],null)},E.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",(function(P){return E.localeData(P)})),E.localeData=function(P){var A;if(P&&P._locale&&P._locale._abbr&&(P=P._locale._abbr),!P)return E._locale;if(!isArray(P)){if(A=loadLocale(P))return A;P=[P]}return chooseLocale(P)},E.isMoment=function(P){return P instanceof Moment||null!=P&&hasOwnProp(P,"_isAMomentObject")},E.isDuration=function(P){return P instanceof Duration},L=me.length-1;L>=0;--L)makeList(me[L]);function rawMonthSetter(P,A){var E;return"string"==typeof A&&"number"!=typeof(A=P.localeData().monthsParse(A))||(E=Math.min(P.date(),daysInMonth(P.year(),A)),P._d["set"+(P._isUTC?"UTC":"")+"Month"](A,E)),P}function rawGetter(P,A){return P._d["get"+(P._isUTC?"UTC":"")+A]()}function rawSetter(P,A,E){return"Month"===A?rawMonthSetter(P,E):P._d["set"+(P._isUTC?"UTC":"")+A](E)}function makeAccessor(P,A){return function(L){return null!=L?(rawSetter(this,P,L),E.updateOffset(this,A),this):rawGetter(this,P)}}function daysToYears(P){return 400*P/146097}function yearsToDays(P){return 146097*P/400}function makeDurationGetter(P){E.duration.fn[P]=function(){return this._data[P]}}for(L in E.normalizeUnits=function(P){return normalizeUnits(P)},E.invalid=function(P){var A=E.utc(NaN);return null!=P?extend(A._pf,P):A._pf.userInvalidated=!0,A},E.parseZone=function(){return E.apply(null,arguments).parseZone()},E.parseTwoDigitYear=function(P){return toInt(P)+(toInt(P)>68?1900:2e3)},extend(E.fn=Moment.prototype,{clone:function(){return E(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var P=E(this).utc();return 0<P.year()&&P.year()<=9999?formatMoment(P,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(P,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var P=this;return[P.year(),P.month(),P.date(),P.hours(),P.minutes(),P.seconds(),P.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return!!this._a&&this.isValid()&&compareArrays(this._a,(this._isUTC?E.utc(this._a):E(this._a)).toArray())>0},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(P){return this.zone(0,P)},local:function(P){return this._isUTC&&(this.zone(0,P),this._isUTC=!1,P&&this.add(this._dateTzOffset(),"m")),this},format:function(P){var A=formatMoment(this,P||E.defaultFormat);return this.localeData().postformat(A)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(P,A,L){var et,nt,dt,ut=makeAs(P,this),pt=6e4*(this.zone()-ut.zone());return"year"===(A=normalizeUnits(A))||"month"===A?(et=432e5*(this.daysInMonth()+ut.daysInMonth()),nt=12*(this.year()-ut.year())+(this.month()-ut.month()),dt=this-E(this).startOf("month")-(ut-E(ut).startOf("month")),nt+=(dt-=6e4*(this.zone()-E(this).startOf("month").zone()-(ut.zone()-E(ut).startOf("month").zone())))/et,"year"===A&&(nt/=12)):(et=this-ut,nt="second"===A?et/1e3:"minute"===A?et/6e4:"hour"===A?et/36e5:"day"===A?(et-pt)/864e5:"week"===A?(et-pt)/6048e5:et),L?nt:absRound(nt)},from:function(P,A){return E.duration({to:this,from:P}).locale(this.locale()).humanize(!A)},fromNow:function(P){return this.from(E(),P)},calendar:function(P){var A=makeAs(P||E(),this).startOf("day"),L=this.diff(A,"days",!0),et=L<-6?"sameElse":L<-1?"lastWeek":L<0?"lastDay":L<1?"sameDay":L<2?"nextDay":L<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(et,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(P){var A=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=P?(P=parseWeekday(P,this.localeData()),this.add(P-A,"d")):A},month:makeAccessor("Month",!0),startOf:function(P){switch(P=normalizeUnits(P)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===P?this.weekday(0):"isoWeek"===P&&this.isoWeekday(1),"quarter"===P&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(P){return P=normalizeUnits(P),this.startOf(P).add(1,"isoWeek"===P?"week":P).subtract(1,"ms")},isAfter:function(P,A){return"millisecond"===(A=normalizeUnits(void 0!==A?A:"millisecond"))?+this>+(P=E.isMoment(P)?P:E(P)):+this.clone().startOf(A)>+E(P).startOf(A)},isBefore:function(P,A){return"millisecond"===(A=normalizeUnits(void 0!==A?A:"millisecond"))?+this<+(P=E.isMoment(P)?P:E(P)):+this.clone().startOf(A)<+E(P).startOf(A)},isSame:function(P,A){return"millisecond"===(A=normalizeUnits(A||"millisecond"))?+this==+(P=E.isMoment(P)?P:E(P)):+this.clone().startOf(A)==+makeAs(P,this).startOf(A)},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(P){return(P=E.apply(null,arguments))<this?this:P})),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(P){return(P=E.apply(null,arguments))>this?this:P})),zone:function(P,A){var L,et=this._offset||0;return null==P?this._isUTC?et:this._dateTzOffset():("string"==typeof P&&(P=timezoneMinutesFromString(P)),Math.abs(P)<16&&(P*=60),!this._isUTC&&A&&(L=this._dateTzOffset()),this._offset=P,this._isUTC=!0,null!=L&&this.subtract(L,"m"),et!==P&&(!A||this._changeInProgress?addOrSubtractDurationFromMoment(this,E.duration(et-P,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,E.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(P){return P=P?E(P).zone():0,(this.zone()-P)%60==0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(P){var A=nt((E(this).startOf("day")-E(this).startOf("year"))/864e5)+1;return null==P?A:this.add(P-A,"d")},quarter:function(P){return null==P?Math.ceil((this.month()+1)/3):this.month(3*(P-1)+this.month()%3)},weekYear:function(P){var A=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==P?A:this.add(P-A,"y")},isoWeekYear:function(P){var A=weekOfYear(this,1,4).year;return null==P?A:this.add(P-A,"y")},week:function(P){var A=this.localeData().week(this);return null==P?A:this.add(7*(P-A),"d")},isoWeek:function(P){var A=weekOfYear(this,1,4).week;return null==P?A:this.add(7*(P-A),"d")},weekday:function(P){var A=(this.day()+7-this.localeData()._week.dow)%7;return null==P?A:this.add(P-A,"d")},isoWeekday:function(P){return null==P?this.day()||7:this.day(this.day()%7?P:P-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var P=this.localeData()._week;return weeksInYear(this.year(),P.dow,P.doy)},get:function(P){return this[P=normalizeUnits(P)]()},set:function(P,A){return"function"==typeof this[P=normalizeUnits(P)]&&this[P](A),this},locale:function(P){var L;return P===A?this._locale._abbr:(null!=(L=E.localeData(P))&&(this._locale=L),this)},lang:deprecate("moment().lang() is deprecated. Use moment().localeData() instead.",(function(P){return P===A?this.localeData():this.locale(P)})),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),E.fn.millisecond=E.fn.milliseconds=makeAccessor("Milliseconds",!1),E.fn.second=E.fn.seconds=makeAccessor("Seconds",!1),E.fn.minute=E.fn.minutes=makeAccessor("Minutes",!1),E.fn.hour=E.fn.hours=makeAccessor("Hours",!0),E.fn.date=makeAccessor("Date",!0),E.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),E.fn.year=makeAccessor("FullYear",!0),E.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),E.fn.days=E.fn.day,E.fn.months=E.fn.month,E.fn.weeks=E.fn.week,E.fn.isoWeeks=E.fn.isoWeek,E.fn.quarters=E.fn.quarter,E.fn.toJSON=E.fn.toISOString,extend(E.duration.fn=Duration.prototype,{_bubble:function(){var P,A,E,L=this._milliseconds,et=this._days,nt=this._months,dt=this._data,ut=0;dt.milliseconds=L%1e3,P=absRound(L/1e3),dt.seconds=P%60,A=absRound(P/60),dt.minutes=A%60,E=absRound(A/60),dt.hours=E%24,et+=absRound(E/24),ut=absRound(daysToYears(et)),et-=absRound(yearsToDays(ut)),nt+=absRound(et/30),et%=30,
ut+=absRound(nt/12),nt%=12,dt.days=et,dt.months=nt,dt.years=ut},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(P){var A=relativeTime(this,!P,this.localeData());return P&&(A=this.localeData().pastFuture(+this,A)),this.localeData().postformat(A)},add:function(P,A){var L=E.duration(P,A);return this._milliseconds+=L._milliseconds,this._days+=L._days,this._months+=L._months,this._bubble(),this},subtract:function(P,A){var L=E.duration(P,A);return this._milliseconds-=L._milliseconds,this._days-=L._days,this._months-=L._months,this._bubble(),this},get:function(P){return this[(P=normalizeUnits(P)).toLowerCase()+"s"]()},as:function(P){var A,E;if("month"===(P=normalizeUnits(P))||"year"===P)return A=this._days+this._milliseconds/864e5,E=this._months+12*daysToYears(A),"month"===P?E:E/12;switch(A=this._days+yearsToDays(this._months/12),P){case"week":return A/7+this._milliseconds/6048e5;case"day":return A+this._milliseconds/864e5;case"hour":return 24*A+this._milliseconds/36e5;case"minute":return 24*A*60+this._milliseconds/6e4;case"second":return 24*A*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*A*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+P)}},lang:E.fn.lang,locale:E.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",(function(){return this.toISOString()})),toISOString:function(){var P=Math.abs(this.years()),A=Math.abs(this.months()),E=Math.abs(this.days()),L=Math.abs(this.hours()),et=Math.abs(this.minutes()),nt=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(P?P+"Y":"")+(A?A+"M":"")+(E?E+"D":"")+(L||et||nt?"T":"")+(L?L+"H":"")+(et?et+"M":"")+(nt?nt+"S":""):"P0D"},localeData:function(){return this._locale}}),E.duration.fn.toString=E.duration.fn.toISOString,re)hasOwnProp(re,L)&&makeDurationGetter(L.toLowerCase());return E.duration.fn.asMilliseconds=function(){return this.as("ms")},E.duration.fn.asSeconds=function(){return this.as("s")},E.duration.fn.asMinutes=function(){return this.as("m")},E.duration.fn.asHours=function(){return this.as("h")},E.duration.fn.asDays=function(){return this.as("d")},E.duration.fn.asWeeks=function(){return this.as("weeks")},E.duration.fn.asMonths=function(){return this.as("M")},E.duration.fn.asYears=function(){return this.as("y")},E.locale("en",{ordinal:function(P){var A=P%10;return P+(1===toInt(P%100/10)?"th":1===A?"st":2===A?"nd":3===A?"rd":"th")}}),E}.call(this),A.Utils.moment=L,A.datepicker}(UIkit2)),dt.exports;var P}();var ut="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==ut&&ut,pt="URLSearchParams"in ut,mt="Symbol"in ut&&"iterator"in Symbol,gt="FileReader"in ut&&"Blob"in ut&&function(){try{return new Blob,!0}catch(P){return!1}}(),vt="FormData"in ut,wt="ArrayBuffer"in ut;if(wt)var _t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],yt=ArrayBuffer.isView||function(P){return P&&_t.indexOf(Object.prototype.toString.call(P))>-1};function normalizeName(P){if("string"!=typeof P&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||""===P)throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function normalizeValue(P){return"string"!=typeof P&&(P=String(P)),P}function iteratorFor(P){var A={next:function(){var A=P.shift();return{done:void 0===A,value:A}}};return mt&&(A[Symbol.iterator]=function(){return A}),A}function Headers(P){this.map={},P instanceof Headers?P.forEach((function(P,A){this.append(A,P)}),this):Array.isArray(P)?P.forEach((function(P){this.append(P[0],P[1])}),this):P&&Object.getOwnPropertyNames(P).forEach((function(A){this.append(A,P[A])}),this)}function consumed(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function fileReaderReady(P){return new Promise((function(A,E){P.onload=function(){A(P.result)},P.onerror=function(){E(P.error)}}))}function readBlobAsArrayBuffer(P){var A=new FileReader,E=fileReaderReady(A);return A.readAsArrayBuffer(P),E}function bufferClone(P){if(P.slice)return P.slice(0);var A=new Uint8Array(P.byteLength);return A.set(new Uint8Array(P)),A.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?"string"==typeof P?this._bodyText=P:gt&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:vt&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:pt&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():wt&&gt&&function isDataView(P){return P&&DataView.prototype.isPrototypeOf(P)}(P)?(this._bodyArrayBuffer=bufferClone(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):wt&&(ArrayBuffer.prototype.isPrototypeOf(P)||yt(P))?this._bodyArrayBuffer=bufferClone(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||("string"==typeof P?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):pt&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},gt&&(this.blob=function(){var P=consumed(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=consumed(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var P=consumed(this);if(P)return P;if(this._bodyBlob)return function readBlobAsText(P){var A=new FileReader,E=fileReaderReady(A);return A.readAsText(P),E}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(P){for(var A=new Uint8Array(P),E=new Array(A.length),L=0;L<A.length;L++)E[L]=String.fromCharCode(A[L]);return E.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},vt&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(P,A){P=normalizeName(P),A=normalizeValue(A);var E=this.map[P];this.map[P]=E?E+", "+A:A},Headers.prototype.delete=function(P){delete this.map[normalizeName(P)]},Headers.prototype.get=function(P){return P=normalizeName(P),this.has(P)?this.map[P]:null},Headers.prototype.has=function(P){return this.map.hasOwnProperty(normalizeName(P))},Headers.prototype.set=function(P,A){this.map[normalizeName(P)]=normalizeValue(A)},Headers.prototype.forEach=function(P,A){for(var E in this.map)this.map.hasOwnProperty(E)&&P.call(A,this.map[E],E,this)},Headers.prototype.keys=function(){var P=[];return this.forEach((function(A,E){P.push(E)})),iteratorFor(P)},Headers.prototype.values=function(){var P=[];return this.forEach((function(A){P.push(A)})),iteratorFor(P)},Headers.prototype.entries=function(){var P=[];return this.forEach((function(A,E){P.push([E,A])})),iteratorFor(P)},mt&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var bt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(P,A){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var E=(A=A||{}).body;if(P instanceof Request){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,A.headers||(this.headers=new Headers(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,E||null==P._bodyInit||(E=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=A.credentials||this.credentials||"same-origin",!A.headers&&this.headers||(this.headers=new Headers(A.headers)),this.method=function normalizeMethod(P){var A=P.toUpperCase();return bt.indexOf(A)>-1?A:P}(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&E)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(E),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==A.cache&&"no-cache"!==A.cache)){var L=/([?&])_=[^&]*/;L.test(this.url)?this.url=this.url.replace(L,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function decode(P){var A=new FormData;return P.trim().split("&").forEach((function(P){if(P){var E=P.split("="),L=E.shift().replace(/\+/g," "),et=E.join("=").replace(/\+/g," ");A.append(decodeURIComponent(L),decodeURIComponent(et))}})),A}function Response(P,A){if(!(this instanceof Response))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A||(A={}),this.type="default",this.status=void 0===A.status?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===A.statusText?"":""+A.statusText,this.headers=new Headers(A.headers),this.url=A.url||"",this._initBody(P)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var P=new Response(null,{status:0,statusText:""});return P.type="error",P};var $t=[301,302,303,307,308];Response.redirect=function(P,A){if(-1===$t.indexOf(A))throw new RangeError("Invalid status code");return new Response(null,{status:A,headers:{location:P}})};var Dt=ut.DOMException;try{new Dt}catch(qt){(Dt=function(P,A){this.message=P,this.name=A;var E=Error(P);this.stack=E.stack}).prototype=Object.create(Error.prototype),Dt.prototype.constructor=Dt}function fetch$1(P,A){return new Promise((function(E,L){var et=new Request(P,A);if(et.signal&&et.signal.aborted)return L(new Dt("Aborted","AbortError"));var nt=new XMLHttpRequest;function abortXhr(){nt.abort()}nt.onload=function(){var P,A,L={status:nt.status,statusText:nt.statusText,headers:(P=nt.getAllResponseHeaders()||"",A=new Headers,P.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(P){return 0===P.indexOf("\n")?P.substr(1,P.length):P})).forEach((function(P){var E=P.split(":"),L=E.shift().trim();if(L){var et=E.join(":").trim();A.append(L,et)}})),A)};L.url="responseURL"in nt?nt.responseURL:L.headers.get("X-Request-URL");var et="response"in nt?nt.response:nt.responseText;setTimeout((function(){E(new Response(et,L))}),0)},nt.onerror=function(){setTimeout((function(){L(new TypeError("Network request failed"))}),0)},nt.ontimeout=function(){setTimeout((function(){L(new TypeError("Network request failed"))}),0)},nt.onabort=function(){setTimeout((function(){L(new Dt("Aborted","AbortError"))}),0)},nt.open(et.method,function fixUrl(P){try{return""===P&&ut.location.href?ut.location.href:P}catch(A){return P}}(et.url),!0),"include"===et.credentials?nt.withCredentials=!0:"omit"===et.credentials&&(nt.withCredentials=!1),"responseType"in nt&&(gt?nt.responseType="blob":wt&&et.headers.get("Content-Type")&&-1!==et.headers.get("Content-Type").indexOf("application/octet-stream")&&(nt.responseType="arraybuffer")),!A||"object"!=typeof A.headers||A.headers instanceof Headers?et.headers.forEach((function(P,A){nt.setRequestHeader(A,P)})):Object.getOwnPropertyNames(A.headers).forEach((function(P){nt.setRequestHeader(P,normalizeValue(A.headers[P]))})),et.signal&&(et.signal.addEventListener("abort",abortXhr),nt.onreadystatechange=function(){4===nt.readyState&&et.signal.removeEventListener("abort",abortXhr)}),nt.send(void 0===et._bodyInit?null:et._bodyInit)}))}fetch$1.polyfill=!0,ut.fetch||(ut.fetch=fetch$1,ut.Headers=Headers,ut.Request=Request,ut.Response=Response);let St,It=!1,Pt=$("#textContainer"),Mt=parseInt(Pt.data("caller-id")),At=parseInt(Pt.data("project-id")),Ot=rootURL+"caller-api/";function updateGameState(){window.updatetimerPaused=!0;let P=new FormData;P.append("idCaller",Mt),P.append("csrf_tk_bingomaker",csrf_token),fetch(Ot+"update-game-state",{method:"POST",body:P}).then((function(P){if(P.ok)return P.json();console.log("erreur")})).then((function(P){if("success"==P.state){let A,E=!1;void 0!==P.csrf_token&&null!==P.csrf_token&&""!==P.csrf_token&&(csrf_token=P.csrf_token),A=function updateTimer(P){switch(P.state){case"active":return $("#remainingTime").text(P.remaining),!0===P.critic&&$("#remainingTime").addClass("critic"),!0;case"expired":return $("#remainingTime").addClass("critic"),localStorage.removeItem("showInterval"),clearInterval(window.updatetimerlet),UIkit.modal.alert(Pt.data("expired-text"),{center:!0,labels:{Ok:Pt.data("return-home")}}).on("hide.uk.modal",(function(){window.location=rootURL})),!1;case"error":return localStorage.removeItem("showInterval"),clearInterval(window.updatetimerlet),UIkit.modal.alert(P.message,(function(){window.location=rootURL})),!1;case"expired_auth":return expired_auth_popup(P.message),!1}}(P.remainingTime),A&&(E=function getCardsInUse(P){return window.cardInUse!==P&&($("#cardInUse").text(P),window.cardInUse=P,!0)}(P.cardsInUse),E?function search_for_winning_cards(){var P=Ot+"refresh-winning-cards/";$.ajax({type:"post",url:P,dataType:"text",data:{idCaller:Mt,idProject:At,csrf_tk_bingomaker:csrf_token},success:function(P){P=sanitizeJsonResponse(P),P=JSON.parse(P)},complete:function(P){1==JSON.parse(P.responseText).result&&getWinningList(0)}})}():P.winningCardsList.winningCard!==[]&&($("#drawWinner ul li").length!=P.winningCardsList.winningCard.length&&$("#drawWinner ul").empty(),drawWinningList(P.winningCardsList.winningCard))),window.updatetimerPaused=!1}else expired_auth_popup(P.message)}))}function makeADraw(P){let A=!1;Pt.data("window-open");let E=1e3*localStorage.getItem("showInterval"),L=parseInt(localStorage.getItem("audio-enabled")),et=parseInt(Pt.data("project-type")),nt=!1;window.name="parent",window.secondWindow&&!window.secondWindow.document.hidden&&(A=!0),$("#manualPick").prop("disabled",!0),$("#makeAdraw").addClass("draw-in-progress"),$(".button-winners-list").toggleClass("new-winners",!1),$.ajax({type:"POST",url:Ot+"make-a-draw/",data:{idCaller:Mt,idProject:parseInt(Pt.data("project-id")),valueToPlay:null!=P?P:"",csrf_tk_bingomaker:csrf_token},dataType:"text",success:function(P){P=(P=sanitizeJsonResponse(P)).replace(/[\u0000-\u0019]+/g,"");let dt=(P=JSON.parse(P)).result,ut=P.pick;if(parseInt($(".nbWinner").text()),"success"===dt){let P=!1!==ut.html;if(P?$("#drawList ul").prepend("<li>"+ut.letter+" - "+ut.html.full+"</li>"):$("#drawList ul").prepend("<li>"+ut.letter+" - "+ut.text+"</li>"),""!==$("#currentPick .letter").text()&&($("#previousPick .letter").fadeOut(500,(function(){$("#previousPick .letter").text($("#currentPick .letter").text()),$("#previousPick .letter").fadeIn()})),$("#previousPick .value").fadeOut(500,(function(){P?$("#previousPick .value").html($("#currentPick .value").html()):$("#previousPick .value").text($("#currentPick .value").text()),$("#previousPick .value").fadeIn()})),A&&($("#previousPick .letter",window.secondWindow.document).fadeOut(500,(function(){$("#previousPick .letter",window.secondWindow.document).text($("#currentPick .letter").text()),$("#previousPick .letter",window.secondWindow.document).fadeIn()})),$("#previousPick .value",window.secondWindow.document).fadeOut(500,(function(){P?$("#previousPick .value",window.secondWindow.document).html($("#currentPick .value").html()):$("#previousPick .value",window.secondWindow.document).text($("#currentPick .value").text()),$("#previousPick .value",window.secondWindow.document).fadeIn()})))),1===L){let P=ut.letter.toLowerCase();if(1==et){let A=rootURL+"audio/draw/"+site_lang.substr(0,2)+"/"+P+"/"+P+ut.text+".mp3";window.callerVoice.src=A,window.callerVoice.play()}else{let A=rootURL+"audio/letter/"+site_lang.substr(0,2)+"/",E=rootURL+"audio/emoji/"+site_lang.substr(0,2)+"/",L=!1;window.callerVoice.src=A+P+".mp3",window.callerVoice.play(),window.callerVoice.onended=function(){L||(window.callerVoice.src=E+ut.text+".mp3",window.callerVoice.play(),L=!0)}}}A&&($("#currentPick .letter",window.secondWindow.document).fadeOut(500,(function(){$("#currentPick .letter",window.secondWindow.document).text(ut.letter),$("#currentPick .letter",window.secondWindow.document).fadeIn()})),$("#currentPick .value",window.secondWindow.document).fadeOut(500,(function(){P?$("#currentPick .value",window.secondWindow.document).html(ut.html.icon):$("#currentPick .value",window.secondWindow.document).text(ut.text),setTimeout((function(){$("#currentPick .value",window.secondWindow.document).fadeIn()}),E)}))),$("#currentPick .letter").fadeOut(500,(function(){$("#currentPick .letter").text(ut.letter),$("#currentPick .letter").fadeIn()})),$("#currentPick .value").fadeOut(500,(function(){P?$("#currentPick .value").html(ut.html.icon):$("#currentPick .value").text(ut.text),setTimeout((function(){$("#currentPick .value").fadeIn()}),E)})),$(".nbDraw").text($("#drawList ul li").length),A&&($("#drawTable",window.secondWindow.document).find(".lastPick").removeClass("lastPick"),$(".current-active",window.secondWindow.document).removeClass("current-active"),$(".spanOneLetter",window.secondWindow.document).removeClass("spanOneLetter"),$("#drawTable",window.secondWindow.document).find("#drawVal_"+ut.id).addClass("active lastPick"),$("#drawTable",window.secondWindow.document).find("#drawVal_"+ut.id+" span").addClass("current-active"),1==$(".current-active").text().length&&$(".current-active").addClass("spanOneLetter"),$("#drawTable",window.secondWindow.document).parent().animate({scrollLeft:$("#drawVal_"+ut.id,window.secondWindow.document).position().left-45},150)),$("#drawTable").find(".lastPick").removeClass("lastPick"),$(".current-active").removeClass("current-active"),$("#drawVal_"+ut.id).addClass("active lastPick"),$("#drawVal_"+ut.id+" .manualDrawCheck").addClass("hide played"),$("#drawVal_"+ut.id+" span").addClass("current-active"),void 0!==$("#drawVal_"+ut.id).position()&&$("#drawTable").parent().animate({scrollLeft:$("#drawVal_"+ut.id).position().left-45},150),getWinningList(0)}else"ended"==dt?(window.drawTimer&&disableTimer(),$("#makeAdraw, #activateTimer, #disableTimer, #manualPick").prop("disabled",!0),nt=!0,UIkit.modal.alert(P.message,(function(){}))):"expired_auth"==dt?expired_auth_popup(P.message):UIkit.modal.alert(P.message,(function(){window.location=rootURL}))},complete:function(P,A){1==$("#activateTimer").hasClass("uk-active")?$("#activateTimer, #disableTimer").prop("disabled",!1):setTimeout((function(){$("#makeAdraw").removeClass("draw-in-progress"),$("#manualPick").hasClass("turnedOn")?$(".manualDrawCheck, #manualPick").prop("disabled",!1):nt||$("#makeAdraw, #activateTimer, #disableTimer, #manualPick").prop("disabled",!1),window.updatetimerPaused=!1}),5e3)},error:function(P,A,E){console.log(P+":"+A+":"+E)}}),A&&window.open("",window.secondWindow.opener.name)}function disableFunctions(P){manualPick(0),$('#makeAdraw, #activateTimer, #disableTimer, #drawInterval, input[name="stop_when_winner, #manualPick"]').prop("disabled",!0),$("#drawWinner ul").off("click","a"),$("#pickAWinner").prop("disabled",!0).hide(),$("#manualPick").prop("disabled",!0).hide(),$("#winnersList").prop("disabled",!1).show()}function checkIntervalValidity(){return isNaN(window.drawInterval)||window.drawInterval<3||""===window.drawInterval||void 0===typeof window.drawInterval?(window.drawInterval=5,$("#drawInterval").val(window.drawInterval)):window.drawInterval>300&&(window.drawInterval=300,$("#drawInterval").val(window.drawInterval)),!0}function activateTimer(){checkIntervalValidity()&&(1===parseInt(localStorage.getItem("audio-enabled"))&&""==window.callerVoice.src&&window.callerVoice.play(),$("#activateTimer").parent().find(".uk-active").removeClass("uk-active"),$("#activateTimer").addClass("uk-active"),manualPick(0),$("#manualPick").prop("disabled",!0),$("#makeAdraw").prop("disabled",!0),window.drawTimer=setInterval(makeADraw,1e3*window.drawInterval))}function disableTimer(){$("#disableTimer").parent().find(".uk-active").removeClass("uk-active"),$("#disableTimer").addClass("uk-active"),$("#manualPick").hasClass("turnedOn")||($("#makeAdraw").prop("disabled",!1),$("#makeAdraw").removeClass("draw-in-progress")),$("#manualPick").prop("disabled",!1),$("#makeAdraw").removeClass("draw-in-progress"),clearInterval(window.drawTimer),window.drawTimer=!1}function manualPick(P){let A=$("#manualPick");1===P?(A.removeClass("turnedOff uk-button-default"),A.addClass("turnedOn uk-button-primary"),$(".drawTable").find(".manualDrawCheck").removeClass("hide").prop("disabled",!1),$("#makeAdraw").removeClass("draw-in-progress"),$("#makeAdraw, #activateTimer, #disableTimer").prop("disabled",!0)):(A.removeClass("turnedOn uk-button-primary"),A.addClass("turnedOff uk-button-default"),$(".drawTable").find(".manualDrawCheck").addClass("hide").prop("disabled",!0),$("#makeAdraw, #activateTimer, #disableTimer").prop("disabled",!1),$("#makeAdraw").removeClass("draw-in-progress"))}function askRestartPopup(){St=$("#restart_form").html(),$("#restart_form").empty();var P=UIkit.modal.blockUI(St,{center:!0});$(document).on("click",".restart-form .button-restart",(function(A){A.preventDefault();let E=$(this).closest("form"),L=E.find(".waytowin:checked").map((function(){return $(this).val()}));L.length>=1?($(document).off("click",".restart-form .button-restart"),$(document).off("click",".restart-form .button-cancel"),function restartGame(P,A){showHide($(this));let E=!1;window.secondWindow&&!window.secondWindow.document.hidden&&(E=!0),$.ajax({type:"POST",url:Ot+"restart-game/",data:{idCaller:Mt,new_winning_ways:"undefined"!=P&&P,show_draw:A.find('input[name="show_draw"]:checked').val(),show_clickAll:A.find('input[name="show_clickAllBtn"]:checked').val(),csrf_tk_bingomaker:csrf_token},dataType:"text",success:function(P){clearInterval(window.updatetimerlet),"success"===(P=JSON.parse(P)).result?($('#makeAdraw, #activateTimer, #disableTimer, #drawInterval, input[name="stop_when_winner"]').prop("disabled",!1),$("#makeAdraw").removeClass("draw-in-progress"),$("#pickAWinner").prop("disabled",!1).show(),$("#winnersList").prop("disabled",!0).hide(),$("#drawList ul, #drawWinner ul").empty(),$(".nbDraw, .nbWinner").text("0"),$("#currentPick, #previousPick").text(""),$("#drawTable td.uk-text-bold").removeClass("uk-text-bold"),E&&($("#drawTable td.uk-text-bold",window.secondWindow.document).removeClass("uk-text-bold"),$("#currentPick, #previousPick",window.secondWindow.document).text(""),window.secondWindow.location.reload()),localStorage.removeItem("showInterval"),location.reload()):UIkit.modal.alert(P.message,(function(){}))},error:function(P,A,E){console.log(P+":"+A+":"+E)}})}(L.get(),E),$("#restart_form").append(St),St=null,P.hide()):UIkit.modal.alert(Pt.data("error-at-least-one"),{center:!0})})),$(document).on("click",".restart-form .button-cancel",(function(A){A.preventDefault(),$(document).off("click",".restart-form .button-restart"),$(document).off("click",".restart-form .button-cancel"),$("#restart_form").append(St),St=null,P.hide()}))}function pickAWinner(P){let A=Pt.data("free-game");$.ajax({type:"POST",url:Ot+"pick-a-winner/",data:{idCaller:Mt,number:P,idProject:At,isFreeGame:A,csrf_tk_bingomaker:csrf_token},dataType:"text",success:function(P){P=sanitizeJsonResponse(P);let A=(P=JSON.parse(P)).result;passwordText=Pt.data("password-text"),password=Pt.data("interactive-mode"),"success"===A?(disableFunctions(),drawWinningList(P.winningCard),showWinnersList(Pt.data("caller-iteration"),!1),$("#WinnersList").removeClass("hide"),$("#previousWinnersList").addClass("hide")):UIkit.modal.alert(P.message,(function(){}))}})}function getWinningList(P){window.updatetimerPaused=!0;let A=new FormData,E=Ot+"ajax-get-winning-card/";return A.append("idCaller",Mt),A.append("idProject",At),A.append("getOnly",P),A.append("csrf_tk_bingomaker",csrf_token),fetch(E,{method:"POST",body:A}).then((function(P){if(P.ok)return P.json();console.log("erreur")})).then((function(P){window.updatetimerPaused=!1,"success"===P.result&&Array.isArray(P.winningCard)&&drawWinningList(P.winningCard)})),!1}function drawWinningList(P,A){if(P){let A=$("#drawWinner ul"),E=!1,L="";P.forEach((function(P,et){var nt=A.find("#"+P.idWin),dt=P.player_name??Pt.data("player-txt")+" #"+P.numCard;nt.length>0?(Pt.data("new-winner",0),1==P.validated&&nt.find(":first-child").is("a")&&($("#pickAWinner").prop("disabled",!1),$("#spanInfoSmallipop").remove(),L="",1!=P.hideTooltip&&(L+='<span class="uk-icon uk-icon-info-circle uk-margin-small-right smallipopTooltip" title="'+(void 0!==dt?"Name: <strong>"+dt+"</strong><br>":"")+'"></span>'),L+='<span class="uk-text-strike">'+P.text+"</span>",1==P.hideTooltip&&(L+=' - <span class="uk-text-small uk-text-bold">'+dt+"</span>"),nt.html(L),E=!0),nt.css("order",P.order)):(Pt.data("new-winner",1),0==P.validated?(A.append('<li id="'+P.idWin+'" style="order: '+P.order+'" data-card-num="'+P.numCard+'"><a href="#" data-card-id="'+P.idCard+'" data-card-num="'+P.numCard+'" data-virtual="'+P.virtual+'" data-type="'+P.type+'" data-type="'+P.type+'">'+P.text+(1==P.hideTooltip?' - <span class="uk-text-small uk-text-bold">'+dt+"</span>":"")+"</a></li>"),E=!0):($("#pickAWinner").prop("disabled",!1),$("#spanInfoSmallipop").remove(),L='<li id="'+P.idWin+'" style="order: '+P.order+'">',1!=P.hideTooltip&&(L+='<span class="uk-icon uk-icon-info-circle uk-margin-small-right smallipopTooltip" title="Name: <strong>'+dt+'</strong><br>"></span>'),L+='<span class="uk-text-strike">'+P.text+"</span>",1==P.hideTooltip&&(L+=' - <span class="uk-text-small uk-text-bold">'+dt+"</span>"),L+="</li>",A.append(L)))})),!0===E&&(A.find(".smallipopTooltip").smallipop({theme:"black bingomaker",hideOnTriggerClick:!1,hideOnPopupClick:!1}),$(".button-winners-list").toggleClass("new-winners",!0)),Pt.data("new-winner"),$(".nbWinner").text($("#drawWinner ul li").length),window.drawTimer&&1==Pt.data("new-winner")&&"1"===$('input[name="stop_when_winner"]:checked').val()&&disableTimer()}}function expired_auth_popup(P){!1===It&&(It=!0,localStorage.removeItem("showInterval"),disableTimer(),clearInterval(window.updatetimerlet),UIkit.modal.alert(P,{center:!0}).on("hide.uk.modal",(function(){window.location=rootURL})))}function showWinnersList(P,A){void 0===P&&(P=1),void 0===A&&(A=!1);let E=Pt.data("free-game");$.ajax({type:"POST",url:Ot+"get-winners/",data:{idCaller:Mt,gameIteration:P,previousList:A?1:0,isFreeGame:E,csrf_tk_bingomaker:csrf_token},dataType:"text",success:function(P){P=sanitizeJsonResponse(P),P=JSON.parse(P);let E=!1;Pt.data("window-open"),window.name="parent",window.secondWindow&&!window.secondWindow.document.hidden&&(E=!0),"success"===P.result?(!1===A&&disableFunctions(),E&&(secondWindowDialog=window.secondWindow.liteWinningPopup(P.secondWindowMsg)),function winningPopup(P,A){void 0===A&&(A=!1);let E=Pt.data("free-game");if(0==E)!1===A?UIkit.modal.confirm(P,(function(){null!=secondWindowDialog&&null!=secondWindowDialog&&secondWindowDialog.hide(),askRestartPopup()}),(function(){null!=secondWindowDialog&&null!=secondWindowDialog&&secondWindowDialog.hide()}),{center:!0,labels:{Cancel:Pt.data("cancel"),Ok:Pt.data("restart-button")}}):UIkit.modal.alert(P,{center:!0});else{let A=Pt.data("btn-exit");UIkit.modal.alert(P,{center:!0,labels:{Ok:A}}).on("hide.uk.modal",(function(){null!=secondWindowDialog&&null!=secondWindowDialog&&secondWindowDialog.hide(),$.post(rootURL+"caller-api/close-game/",{idCaller:Mt,csrf_tk_bingomaker:csrf_token}).then((function(P){"success"==P.result&&(isSubmit=!0,Pt.data("confirmation-quitter"),Pt.data("cancel "),localStorage.removeItem("audio-enabled"),window.location.href=rootURL)}))}))}}(P.message,A)):UIkit.modal.alert(P.message,(function(){}))}})}function send_message_to_players(P,A){$.ajax({type:"post",url:Ot+"send-message-to-players/",dataType:"text",data:{idCaller:Mt,message:P,send_to_cards:A,csrf_tk_bingomaker:csrf_token},success:function(P){P=sanitizeJsonResponse(P),pJson=JSON.parse(P),"success"==pJson.result?ui_blocked_by_a_message(pJson.data.message,pJson.data.send_to_cards):(window.blockedByMessage="",UIkit.modal.alert(Pt.data("error-common")))}})}function kick_out_cards(P){$.ajax({type:"post",url:Ot+"kick-out-cards/",dataType:"text",data:{idCaller:Mt,cards_to_kick_out:P,csrf_tk_bingomaker:csrf_token},success:function(A){A=sanitizeJsonResponse(A),pJson=JSON.parse(A),$("#kickOutPlayerForm").find('input[name="card_nos"]').val(P),"success"==pJson.result?UIkit.modal.alert(pJson.data.message,{center:!0,labels:{Ok:Pt.data("popup-blocked-button")}}):UIkit.modal.alert(Pt.data("error-common"),{center:!0})}})}function ui_blocked_by_a_message(P,A){UIkit.modal.alert("<p>"+Pt.data("popup-blocked-intro")+'</p><p>"'+P+'"</p>'+(null!==A&&""!==A?"<p>"+Pt.data("popup-blocked-some-cards")+A+"</p>":"<p>"+Pt.data("popup-blocked-all-cards")+"</p>"),{center:!0,labels:{Ok:Pt.data("popup-blocked-button")}}).on("hide.uk.modal",(function(){$.ajax({type:"post",url:Ot+"remove-message-to-players/",dataType:"text",data:{idCaller:Mt,csrf_tk_bingomaker:csrf_token},success:function(E){E=sanitizeJsonResponse(E),"success"!=(E=JSON.parse(E)).result?UIkit.modal.alert(Pt.data("error-common"),(function(){ui_blocked_by_a_message(P,A)})):window.blockedByMessage=!1}})}))}function disableVoice(){$("#toggleVoice").data("state",0).removeClass("uk-button-primary").find("i").removeClass("uk-icon-volume-up").addClass("uk-icon-volume-off"),Pt.data("audio-enabled",0),localStorage.setItem("audio-enabled",0)}function enableVoice(){$("#toggleVoice").data("state",1).addClass("uk-button-primary").find("i").removeClass("uk-icon-volume-off").addClass("uk-icon-volume-up"),Pt.data("audio-enabled",1),localStorage.setItem("audio-enabled",1)}function toggleCallerLock(P){let A=Ot+"lock-caller/",E=$("#lockCaller");$.ajax({type:"post",url:A,dataType:"text",data:{idCaller:Mt,state:1===P?0:1,csrf_tk_bingomaker:csrf_token},success:function(P){P=sanitizeJsonResponse(P),"success"===(P=JSON.parse(P)).result&&(!0===P.value?function visuallyLockCaller(P){void 0===P&&(P=$("#lockCaller")),P.data("state",1).attr("title",P.data("unlock-text")).find("i").removeClass(P.data("unlock-icon")).removeClass(P.data("unlock-color")).addClass(P.data("lock-icon")).addClass(P.data("lock-color")),$("#cardInUse").prev().removeClass("uk-icon-user-plus").removeClass("icon-green").addClass("uk-icon-user-times").addClass("icon-red")}(E):function visuallyUnlockCaller(P){void 0===P&&(P=$("#lockCaller")),P.data("state",0).attr("title",P.data("lock-text")).find("i").removeClass(P.data("lock-icon")).removeClass(P.data("lock-color")).addClass(P.data("unlock-icon")).addClass(P.data("unlock-color")),$("#cardInUse").prev().removeClass("uk-icon-user-times").removeClass("icon-red").addClass("uk-icon-user-plus").addClass("icon-green")}(E))}})}
function adaptTopBarPosition(){let P=$("#callerTopBar"),A=$(window).scrollTop(),E=$("#mainmenu").outerHeight(),L=P.height();A<=E?($("#caller").css("margin-top",L+15),P.css("top",E-A)):P.css("top",0)}if($.extend({replaceTag:function(P,A,E){let L=$(P),et=$(A).clone();return E&&(newTag=et[0],newTag.className=P.className,$.extend(newTag.classList,P.classList),$.extend(newTag.attributes,P.attributes)),L.wrapAll(et),L.contents().unwrap(),this}}),$.fn.extend({replaceTag:function(P,A){return this.each((function(){jQuery.replaceTag(this,P,A)}))}}),"caller"===$("body").attr("id")&&($('input[name="kind"]').change((function(){"2"===$(this).val()?($('#statsContainer input[type="checkbox"]').prop("disabled",!0),$("#statsContainer label").css("cursor","auto"),$("#statsContainer").animate({opacity:.4},150),$("#simulationList").show(250),$('#simulationList input[type="radio"]').prop("disabled",!1)):($('#statsContainer input[type="checkbox"]').prop("disabled",!1),$("#statsContainer label").css("cursor","pointer"),$("#statsContainer").animate({opacity:1},150),$("#simulationList").hide(250),$('#simulationList input[type="radio"]').prop("disabled",!0))})),$("#playBtn").on("click touch",(function(P){$(this).hasClass("notenoughcredit")?(P.preventDefault(),UIkit.modal("#modalCreditEdit").show()):validForm($(this).closest("form").attr("id"),$(this))}))),"callerPlay"===$("body").attr("id")){localStorage.setItem("interval",1e4),window.drawTimer=!1,window.updatetimerPaused=!1,window.blockMakeADraw=!1,window.callerVoice=new Audio,window.secondWindow=null,window.name="parent",null!==localStorage.getItem("drawInterval")&&$("#drawInterval").val(localStorage.getItem("drawInterval")).change(),window.drawInterval=parseInt($("#drawInterval").val());let Gt=localStorage.getItem("showInterval"),Vt=$("#textContainer");if(null!==localStorage.getItem("audio-enabled")&&1!==parseInt(localStorage.getItem("audio-enabled"))||(1!==Vt.data("project-type")||75!==parseInt(Vt.data("project-nvalues")))&&2!==Vt.data("project-type")||0!==parseInt(Vt.data("project-custom-header"))?disableVoice():enableVoice(),window.blockedByMessage&&ui_blocked_by_a_message(window.blockedByMessage,window.blockedByMessageCards),$("#openWindowGame").click((function(){let P=Vt.attr("data-caller-id"),A=$(this).data("window-url");""!==A&&!1!==A&&null!==A||(A=rootURL+"caller/play-in-window/"+parseInt(P)+"/"),!window.secondWindow||window.secondWindow.document.hidden?window.secondWindow=window.open(A,"BINGO MAKER","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no"):window.secondWindow.focus(),window.addEventListener("beforeunload",(function(P){window.secondWindow.close()}),!1)})),$('#showInterval option[value="'+Gt+'"]').attr("selected",!0),adaptTopBarPosition(),$(window).scroll((function(){adaptTopBarPosition()})),$(".opendrawlist").click((function(P){P.preventDefault(),$("#drawList").fadeToggle(250)})),$(".openNextPanel").click((function(P){P.preventDefault(),$(this).next().fadeToggle(250)})),0===$(".windowMode").length){let Jt=3e3;updateGameState(),window.updatetimerlet=setInterval((function(){!1===window.updatetimerPaused&&updateGameState()}),Jt)}$("#makeAdraw").on("click",(function(P){P.preventDefault(),window.updatetimerPaused=!0,manualPick(0),$("#makeAdraw, #activateTimer, #disableTimer, #manualPick").prop("disabled",!0),makeADraw()})),window.blockUIModal=null,$("#sendMsg").on("click",(function(P){let A;P.preventDefault(),A=$("#sendMsgForm").html(),window.blockUIModal=UIkit.modal.blockUI(A,{center:!0})})),$(document).on("submit",".send-msg-form",(function(P){P.preventDefault(),$(this).find(".error-msg").remove(),$(this).find(".uk-form-danger").removeClass("uk-form-danger");let A=!1,E="error error-msg uk-form-width-large",L=/^[0-9]+(?:(?:\s*,\s*|-)[0-9]+)*$/gm,et=$(this).find("textarea[name=msg]"),nt=et.val(),dt=$(this).find("input[name=card_nos]");field_card_nos_val=dt.val()??"",/^[A-zÀ-ú0-9\?\!\,\.\'\-\s\*\@\#\$\%\:\(\)]*$/gm.test(nt)||(et.addClass("uk-form-danger"),et.after('<div class="'+E+'">'+Vt.data("popup-blocked-error-format")+"</div>"),A=!0),nt.length>1e3&&(et.addClass("uk-form-danger"),et.after('<div class="'+E+'">'+Vt.data("popup-blocked-error-length-msg")+"</div>"),A=!0),""!==field_card_nos_val&&(L.test(field_card_nos_val)||(dt.addClass("uk-form-danger"),dt.after('<div class="'+E+'">'+Vt.data("popup-blocked-error-format")+"</div>"),A=!0),field_card_nos_val.length>50&&(dt.addClass("uk-form-danger"),dt.after('<div class="'+E+'">'+Vt.data("popup-blocked-error-length-cards")+"</div>"),A=!0)),A||(et.val(""),dt.val(""),window.blockUIModal.hide(),disableTimer(),send_message_to_players(nt,field_card_nos_val))})),window.blockUIModal=null,$("#kickOutPlayer").on("click",(function(P){P.preventDefault();let A,E=$("#kickOutPlayerForm");A=E.html(),window.blockUIModal=UIkit.modal.blockUI(A,{center:!0});let L=window.blockUIModal.find('input[name="card_nos"]');if(null!=L){L.val(E.find('input[name="card_nos"]').val()),L.focus();const P=L.val().length;L[0].setSelectionRange(P,P)}})),$(document).on("submit",".kick-out-player-form",(function(P){P.preventDefault(),$(this).find(".error-msg").remove(),$(this).find(".uk-form-danger").removeClass("uk-form-danger");let A=!1,E="error error-msg uk-form-width-large",L=/^[0-9]+(?:(?:\s*,\s*|-)[0-9]+)*$/gm,et=$(this).find("input[name=card_nos]");field_card_nos_val=et.val(),""!==field_card_nos_val&&(L.test(field_card_nos_val)||(et.addClass("uk-form-danger"),et.after('<div class="'+E+'">'+Vt.data("popup-blocked-error-format")+"</div>"),A=!0),field_card_nos_val.length>50&&(et.addClass("uk-form-danger"),et.after('<div class="'+E+'">'+Vt.data("popup-blocked-error-length-cards")+"</div>"),A=!0)),A||(et.val(""),window.blockUIModal.hide(),disableTimer(),kick_out_cards(field_card_nos_val))})),$("#activateTimer").click((function(P){P.preventDefault(),window.drawTimer||activateTimer()})),$("#disableTimer").click((function(P){P.preventDefault(),window.drawTimer&&disableTimer()})),$("#drawInterval").on("change",(function(P){window.drawInterval=parseInt($(this).val()),localStorage.setItem("drawInterval",window.drawInterval),checkIntervalValidity(),window.drawTimer&&(clearInterval(window.drawTimer),window.drawTimer=setInterval(makeADraw,1e3*window.drawInterval))})),$("#showInterval").change((function(){let P=$(this).val();localStorage.setItem("showInterval",parseInt(P))})),$("#restartGame").click((function(P){P.preventDefault(),$(this).attr("data-question"),askRestartPopup()})),$("#manualPick").click((function(P){P.preventDefault(),$(this).hasClass("turnedOff")?manualPick(1):manualPick(0)})),$(".drawTable").on("change",".manualDrawCheck",(function(){let P=$(this),A=P.attr("data-question");UIkit.modal.confirm(A,(function(){$(".manualDrawCheck").prop("disabled",!0),makeADraw(P.val())}),(function(){P.prop("checked",!1)}),{center:!0,labels:{Ok:Vt.data("common-yes"),Cancel:Vt.data("common-no")}})})),$(document).on("click","#closeGame",(function(P){P.preventDefault(),UIkit.modal.confirm($(this).attr("data-question"),(function(){window.location=rootURL+"caller/close-game/"+parseInt(Vt.attr("data-caller-id"))+"/"}),(function(){}),{center:!0,labels:{Cancel:Vt.data("common-no"),Ok:Vt.data("common-yes")}})})),$("#pickAWinner").click((function(P){P.preventDefault();let A=!1,E=parseInt($("#drawWinner").find(".uk-text-strike").length);if(window.drawTimer&&(disableTimer(),A=!0),E>0){let P=null,A=Vt.attr("data-window-open"),L=Vt.attr("data-explication-winning");window.name="parent",1==A&&(P=window.open("","BINGO MAKER"),P.UIkit.modal.blockUI(L,{center:!0}));let et=Vt.data("draw-a-winner");UIkit.modal.prompt($(this).attr("data-question"),1,(function(P){number=parseInt(P),number>E&&(number=E),number<=0&&(number=1),pickAWinner(number)}),{center:!0,labels:{Ok:et}})}else UIkit.modal.alert(Vt.attr("data-error-valid-a-card")).on({"hide.uk.modal":function(){A&&activateTimer()}})})),$("#drawWinner ul").on("click","a:not(.validateLink)",(function(P){if(P.preventDefault(),0==$(this).next().is("span")){let P,A=$("#drawWinner"),E=$(this),L=E.attr("data-virtual");if(A.attr("data-text-confirm-validated"),E.attr("data-card-num"),1==L){let A=Vt.attr("data-virtual-message");P=$('<span class="validationBlock">'+A+"</span>")}else P=$('<span class="validationBlock"><a data-action="validate" class="validateLink uk-button uk-button-default uk-button-small">'+Vt.attr("data-validate")+'</a> <a data-action="cancel" class="validateLink cancel uk-button uk-button-default uk-button-link">'+Vt.attr("data-cancel")+"</a></span>");$(this).closest("li").append(P),P.hide().fadeIn(250)}else $(this).closest("li").find(".validationBlock").remove()})),$("#drawWinner ul").on("click","li .validationBlock a",(function(P){P.preventDefault();let A=$(this).parent().prev("a");"validate"==$(this).attr("data-action")&&($("#pickAWinner").prop("disabled",!1),$("#spanInfoSmallipop").remove(),function validateCard(P,A,E){$.ajax({type:"POST",url:Ot+"validate-card/",data:{idCard:parseInt(A),idCaller:Mt,type:E,csrf_tk_bingomaker:csrf_token},dataType:"text",success:function(A){A=sanitizeJsonResponse(A),"success"===(A=JSON.parse(A)).result?P.replaceTag('<span class="uk-text-strike">',!1):UIkit.modal.alert(A.message,(function(){}))}})}(A,A.attr("data-card-id"),A.attr("data-type"))),$(this).parent().fadeOut(150,(function(){$(this).remove()}))})),$("#winnersList").click((function(P){P.preventDefault(),showWinnersList(parseInt(Vt.data("caller-iteration")),!1)})),$("#previousWinnersList").click((function(P){P.preventDefault();let A,E=parseInt(Vt.data("caller-iteration"));A=E>1?E-1:1,showWinnersList(A,!0)})),$("#toggleVoice").click((function(){!function toggleVoice(P){1===P?disableVoice():enableVoice()}(parseInt($(this).data("state")))})),$("#lockCaller").click((function(){toggleCallerLock(parseInt($(this).data("state")))}))}var Ut,Ft;"customURL"==$("body").attr("id")&&($("#alias").focus((function(){$(this).next(".result-msg").removeClass("error").removeClass("success").delay(350).text(""),$(this).removeClass("error").removeClass("success")})),$("#alias").blur((function(){if(""!=$(this).val()){let P=new FormData,A=$(this);P.append("slug",A.val()),P.append("csrf_tk_bingomaker",csrf_token),fetch(rootURL+"custom-url/check-page-slug-availability/",{method:"POST",body:P}).then((function(P){if(P.ok)return P.json();console.log("erreur")})).then((function(P){1==P.result?(A.next(".result-msg").removeClass("error").addClass("success").text($("#textContainer").data("alias-available")),A.val(P.alias).removeClass("error").addClass("success"),A.closest("#modifyCustomUrl").length>0&&$("#updateCustomUrl").prop("disabled",!1)):(A.next(".result-msg").removeClass("success").addClass("error").text($("#textContainer").data("alias-unavailable")),A.val(P.alias).removeClass("success").addClass("error"),A.closest("#modifyCustomUrl").length>0&&$("#updateCustomUrl").prop("disabled",!0))}))}}))),$(".slim-custom-url-image").each((function(){var P=$(this),A=!1,E=!1;""!=P.data("forced-size")&&(String(P.data("forced-size")).indexOf(",")>-1?(cropSizes=P.data("forced-size").split(","),A=cropSizes[0],E=cropSizes[1]):(A=P.data("forced-size"),E=P.data("forced-size"))),P.slim({forceSize:!(!A||!E)&&{width:A,height:E},didRemove:function(){P.next(".image-remove-hidden").val(1)},buttonEditLabel:$("#slimText").attr("data-button-edit-label"),buttonRemoveLabel:$("#slimText").attr("data-button-remove-label"),buttonDownloadLabel:$("#slimText").attr("data-button-download-label"),buttonUploadLabel:$("#slimText").attr("data-button-upload-label"),buttonCancelLabel:$("#slimText").attr("data-button-cancel-label"),buttonConfirmLabel:$("#slimText").attr("data-button-confirm-label"),statusFileType:$("#slimText").attr("data-status-file-type"),statusFileSize:$("#slimText").attr("data-status-file-size"),statusNoSupport:$("#slimText").attr("data-status-no-support"),statusImageTooSmall:$("#slimText").attr("data-status-image-too-small"),statusContentLength:$("#slimText").attr("data-status-content-length"),statusUnknownResponse:$("#slimText").attr("data-status-unknown-response"),statusUploadSuccess:$("#slimText").attr("data-status-upload-success")})})),$("input[name$=_display]").change((function(){1===parseInt($(this).val())?$(this).closest(".uk-form-row").next(".opacity-will-change").removeClass("fake-disabled"):$(this).closest(".uk-form-row").next(".opacity-will-change").addClass("fake-disabled")}));var Wt=function requireLoadGoogleMapsApi(){if(Ft)return Ut;Ft=1;const P="__googleMapsApiOnLoadCallback",A=["channel","client","key","language","region","v"];let E=null;return Ut=function(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E=E||new Promise((function(E,et){const nt=setTimeout((function(){window[P]=function(){},et(new Error("Could not load the Google Maps API"))}),L.timeout||1e4);window[P]=function(){null!==nt&&clearTimeout(nt),E(window.google.maps),delete window[P]};const dt=document.createElement("script"),ut=[`callback=${P}`];A.forEach((function(P){L[P]&&ut.push(`${P}=${L[P]}`)})),L.libraries&&L.libraries.length&&ut.push(`libraries=${L.libraries.join(",")}`),dt.src=`${L.apiUrl||"https://maps.googleapis.com/maps/api/js"}?${ut.join("&")}`,document.body.appendChild(dt)})),E},Ut}(),Yt=getDefaultExportFromCjs(Wt);function notEnoughCreditPopup(P,A){UIkit.modal.confirm(P.attr("data-question")?P.attr("data-question"):$("#notEnoughCredit").text(),(function(){"undefined"===A?window.location=rootURL+"credit/deposit/":A.submit()}),(function(){showHide(!1,!1)}),{center:!0,labels:{Ok:P.attr("data-confirm")?P.attr("data-confirm"):$("#messageContainer").data("label-add-credit"),Cancel:P.attr("data-cancel")?P.attr("data-cancel"):$("#messageContainer").data("label-cancel")}})}if($("#fbconnect").on("click touch",(function(P){P.preventDefault(),FB.Event.subscribe("auth.login",(function(P){FB.api("/me",(function(P){window.location.href=rootURL+"user/login/"}))}))})),$("#loginform").on("submit",(function(P){P.preventDefault();let A=$("#fblogin, #loginBtn"),E=$("#loginMessage");showHide($(this),!0),A.prop("disabled",!0),E.hide("150").text(""),$.post($(this).attr("action"),$(this).serialize()).done((function(P){"success"===P.result?($(".uk-modal").hide(),window.location=P.redirect):(showHide($(this),!1),E.text(P.message).show(150),A.prop("disabled",!1))})).fail((function(){showHide($(this),!1),UIkit.modal.alert($("#textContainer").data("error-five-hundred"),{center:!0}),A.prop("disabled",!1)}))})),$(".confirm").length>0&&$(".confirm").each((function(){$(this).unbind("click touch"),$(this).click((function(P){P.preventDefault();let A=null;"A"===$(this).prop("tagName")&&(A=$(this).attr("href")),UIkit.modal.confirm($(this).attr("data-confirm")?$(this).attr("data-confirm"):$("#actionDefault").text(),(function(){return null!=A&&(window.location=A),!0}),(function(){return!1}),{center:!0})}))})),$(document).on("click",".confirmCredit",(function(P){P.preventDefault(),notEnoughCreditPopup($(this))})),$(".validation").each((function(){$(this).on("click touch",(function(P){P.preventDefault();let A=!1,E=$(this).closest("form");A=validForm(E.attr("id"),$(this),!1),"deposit"==E.attr("id")&&($(".uk-form-danger").prop("readonly",!1),$(".uk-form-danger").first().prop("autofocus",!0)),A&&"editProject"!==E.attr("id")&&(showHide($(this)),$(this).hasClass("notenoughcredit")||$(this).hasClass("confirm-action")?notEnoughCreditPopup($(this),E):E.submit())}))})),$("#list").length>0&&$(".showGeneratedStuff").on("click touch",(function(){$(this).attr("data-version"),$(this).hasClass("closed")?($(this).closest(".action-button-container").find(".versionList").slideDown(250),$(this).find("i").removeClass("uk-icon-folder").addClass("uk-icon-folder-open")):($(this).closest(".action-button-container").find(".versionList").slideUp(250),$(this).find("i").removeClass("uk-icon-folder-open").addClass("uk-icon-folder")),$(this).toggleClass("closed")})),$(document).on("click",".mustDisable",(function(P){P.preventDefault();let A=$(this).attr("href");UIkit.modal.confirm($("#messageContainer").attr("data-already-active-game"),(function(){window.location=A}),(function(){}),{center:!0,labels:{Cancel:$("#messageContainer").attr("data-label-cancel")}})})),$("#pPlaylist").length>0&&(window.onbeforeunload=function confirmExit(P){let A=document.activeElement;if("undefined"==A||"saveAndMakeDesign"!==A.id&&"savePlaylist"!==A.id)return $("#jsQuitPlaylist").text()}),$("#editPlaylist").length>0){$('#editPlaylist input[type="text"]').length,document.addEventListener("paste",(function(P){let A=P.target.id;if(A.indexOf("song")>=0){let E,L=parseInt(A.replace("song",""));if(window.clipboardData&&window.clipboardData.getData?E=window.clipboardData.getData("text"):P.clipboardData&&P.clipboardData.getData&&(E=P.clipboardData.getData("text/plain")),-1!=E.search(/\r\n|\r|\n/g)){P.preventDefault();let A=E.split(/\r\n|\r|\n/g),et=L+A.length,nt=0;for(let P=L;P<=et&&0!=$("#song"+P).length;P++)$("#song"+P).val(A[nt]),nt++}}})),$('input[name="input_method"]').on("change",(function(){let P=function getUrlParameter(P){let A,E=decodeURIComponent(window.location.search.substring(1)).split("&");for(let L=0;L<E.length;L++)if(A=E[L].split("="),A[0]===P)return void 0===A[1]||A[1]}("action");window.location=window.location.pathname+"?method="+$(this).val()+(P?"&action="+P:"")}));let Xt=$("#actionBtn");$("#savePlaylist").on("click touch",(function(P){Xt.val(1),$(this).hasClass("notenoughcredit")?validForm($(this).closest("form").attr("id"),$(this),!1)&&(P.preventDefault(),UIkit.modal("#modalCreditEdit").show()):inputsHaveNoGoodValue()&&validForm($(this).closest("form").attr("id"),$(this))})),$("#saveAndMakeDesign").on("click touch",(function(P){Xt.val(0),$(this).hasClass("notenoughcreditPop")?validForm($(this).closest("form").attr("id"),$(this),!1)?(P.preventDefault(),UIkit.modal("#modalCreditEdit").show()):P.preventDefault():(P.preventDefault(),inputsHaveNoGoodValue()&&validForm($(this).closest("form").attr("id"),$(this)))}))}var changeTypeBingoValue=function(){let P=$("#nCards").find(":selected").data("credits"),A=$("#contentEditPage"),E=A.attr("data-title-btn-design"),L=A.attr("data-title-btn-project"),et="",nt=$("#nextstepToProject"),dt=$("#nextstep");$("#endnumber").text(parseInt($("#start").val())+parseInt($("#nCards").val())-1),et=P>0?"<small>"+P+" "+A.attr("data-string-credits")+"</small>":"<small>"+A.attr("data-string-free")+"</small>",dt.html(E+et).removeClass("nextstep").show(),nt.html(L+et)},changeTypeBingoText=function(){let P=$("#contentEditPage");$("#nextstep").hide(),P.data("notenoughcredit")&&$("#nextstepToProject").removeClass("notenoughcredit"),$("#nextstepToProject").text(P.data("nextstep")).addClass("nextstep"),$("#nValues option").prop("disabled",!1)};if($(".start-caller").click((function(){localStorage.removeItem("showInterval")})),$("#editProject").length>0){$("#nextstep").html();let Kt=$("#contentEditPage"),te=$("#nextstep"),ee=$("#nextstepToProject"),ie=0;function update_value_on_button(P){let A,E,L=new FormData;P>0?(E=P+ie,A=E+" "+Kt.attr("data-string-credits")):(E=parseInt($(this).find(":selected").attr("data-credits")),A=Kt.attr("data-string-free")),ee.children("small").html(A),te.children("small").html(A),$("#nCards ~ .creditMsg").text(""),L.append("datatype","json"),L.append("csrf_tk_bingomaker",csrf_token),fetch(rootURL+"credit/enough/"+E+"/1/",{method:"POST",body:L}).then((function(P){if(P.ok)return P.json();console.log("erreur")})).then((function(P){"ok"!==P.response?($("#nCards ~ .creditMsg").html(P.html),$(".action").addClass("notenoughcredit"),$("#missingCredits").length>0&&($("#missingCredits").val(P.lack),$("#modalCreditEdit p.content").html(P.html))):$(".action").removeClass("notenoughcredit")}))}$('input[name="type"]').on("change",(function(){1==$(this).val()||2==$(this).val()?(changeTypeBingoValue(),$("#model5").attr("disabled",!1),$("#model5").next("label").css("opacity",1),2==$(this).val()?$("#emojiName").removeClass("hide"):$("#emojiName").addClass("hide")):0==$(this).val()&&($("#model5").attr("disabled",!0),$("#model5").next("label").css("opacity",.5),5==$("input[name=model]").val()&&$("input[name=model]").val(1),changeTypeBingoText())})),$("#start").on("change",(function(){let P,A=$("#endnumber"),E=$("#start"),L=parseInt($("#nCards").val());(function isInteger(P){let A=~~Number(P);return String(A)===P&&A>=1})(E.val())||E.val(1),P=parseInt(E.val()),A.text(P+L-1)})),$("#nCards").on("change",(function(){let P=parseInt($(this).find(":selected").data("credits"));$("#hidePubYes").is(":checked")&&$("#hidePubYes").trigger("change"),$("#endnumber").text(parseInt($("#start").val())+parseInt($("#nCards").val())-1),update_value_on_button(P)})),$('input[name="hidePub"]').on("change",(function(){if(1==$(this).val()){let P,A=parseInt($(this).data("cost")),E=parseInt($(this).data("cost-card")),L=parseInt($("#nCards").val());P=Math.ceil(L/E),ie=A*P,$("#customUrlText").show(250,(function(){$(this).removeClass("hide")})),update_value_on_button(parseInt($("#nCards").find(":selected").data("credits")))}else ie=0,$("#customUrlText").hide(250,(function(){$(this).addClass("hide")})),update_value_on_button(parseInt($("#nCards").find(":selected").data("credits")))})),$(".action").on("click touch",(function(P){P.preventDefault(),$("#actionHidden").val($(this).val()),!$(this).hasClass("notenoughcredit")||$(this).hasClass("nextstep")?validForm($(this).closest("form").attr("id"),$(this),!1)&&(showHide($(this)),$(this).closest("form").submit()):UIkit.modal("#modalCreditEdit").show()}))}else $("a.notenoughcredit").on("click touch",(function(P){UIkit.modal("#modalCredit").show()}));function createSlimUploader(P,A,E,L){$("#"+P+' > input[type="file"]').slim({ratio:A+":"+E,size:{width:2*A-1,height:2*E-1},minSize:{width:A,height:E},crop:{x:0,y:0,width:2*A-1,height:2*E-1},defaultInputName:P,download:!1,instantEdit:!0,meta:{idProject:L},label:$("#slimText").attr("data-slim-label")+"<br>min. "+A+"px X "+E+"px",buttonEditLabel:$("#slimText").attr("data-button-edit-label"),buttonRemoveLabel:$("#slimText").attr("data-button-remove-label"),buttonDownloadLabel:$("#slimText").attr("data-button-download-label"),buttonUploadLabel:$("#slimText").attr("data-button-upload-label"),buttonCancelLabel:$("#slimText").attr("data-button-cancel-label"),buttonConfirmLabel:$("#slimText").attr("data-button-confirm-label"),statusFileType:$("#slimText").attr("data-status-file-type"),statusFileSize:$("#slimText").attr("data-status-file-size"),statusNoSupport:$("#slimText").attr("data-status-no-support"),statusImageTooSmall:$("#slimText").attr("data-status-image-too-small"),statusContentLength:$("#slimText").attr("data-status-content-length"),statusUnknownResponse:$("#slimText").attr("data-status-unknown-response"),statusUploadSuccess:$("#slimText").attr("data-status-upload-success")})}if($("body#createDesign").length>0&&($("#leftPubSm").length>0&&createSlimUploader("leftPubSm",226,687,$("#idProject").val()),$("#rightPubSm").length>0&&createSlimUploader("rightPubSm",226,687,$("#idProject").val()),$("#rightPubLg").length>0&&createSlimUploader("rightPubLg",466,687,$("#idProject").val()),$("#leftPubLg").length>0&&createSlimUploader("leftPubLg",466,687,$("#idProject").val()),$("#bottomPub").length>0&&createSlimUploader("bottomPub",432,90,$("#idProject").val()),$("#bottomPubLeft").length>0&&createSlimUploader("bottomPubLeft",432,90,$("#idProject").val()),$("#bottomPubRight").length>0&&createSlimUploader("bottomPubRight",432,90,$("#idProject").val()),$("#topPub").length>0&&createSlimUploader("topPub",432,90,$("#idProject").val()),$("#topPubLeft").length>0&&createSlimUploader("topPubLeft",432,90,$("#idProject").val()),$("#topPubRight").length>0&&createSlimUploader("topPubRight",432,90,$("#idProject").val()),$("#bottomPubVertical").length>0&&createSlimUploader("bottomPubVertical",323,67,$("#idProject").val()),$("#bottomPubLeftVertical").length>0&&createSlimUploader("bottomPubLeftVertical",323,67,$("#idProject").val()),$("#bottomPubRightVertical").length>0&&createSlimUploader("bottomPubRightVertical",323,67,$("#idProject").val()),$("#topPubVertical").length>0&&createSlimUploader("topPubVertical",323,67,$("#idProject").val()),$("#topPubLeftVertical").length>0&&createSlimUploader("topPubLeftVertical",323,67,$("#idProject").val()),$("#topPubRightVertical").length>0&&createSlimUploader("topPubRightVertical",323,67,$("#idProject").val()),$("#saveDesign").on("click touch",(function(P){let A=0,E=$("#submitImages"),L=E.find(".pub:not(.disabled)"),et=L.length,nt=!0;L.each((function(){0==$.trim($(this).find('input[type="hidden"]').val()).length&&(A+=1)})),$(".contentHeader").each((function(){if(0==$(this).text().length)return nt=!1,!1})),et==A?(showHide($(this),!1),UIkit.modal.alert($("#noImage").text()),P.preventDefault()):0==nt?(showHide($(this),!1),UIkit.modal.alert($("#slimText").attr("data-text-no-header")),P.preventDefault()):0!=A?(P.preventDefault(),UIkit.modal.confirm($("#noAllImage").text(),(function(){E.hasClass("notenoughcredit")?(P.preventDefault(),UIkit.modal("#modalCreditEdit").show()):(showHide($(this),!0),E.submit())}))):E.hasClass("notenoughcredit")?(P.preventDefault(),UIkit.modal("#modalCreditEdit").show()):(showHide($(this),!0),E.submit())})),$('input[name="num4Coin"]').on("change",(function(){1==$(this).val()?$(".cornerNumber").fadeIn(150):$(".cornerNumber").fadeOut(150)})),$('input[name="showDate"]').on("change",(function(){1==$(this).val()?($("span.showDate").fadeIn(150),$("span.showDateOpt").fadeIn(150)):($("span.showDate").fadeOut(150),$("span.showDateOpt").fadeOut(150))})),$("#date_evenement").on("change",(function(){let P=$(this).val();$("span.showDate").text(P),$(".dateDesign").text(P)})),$('input[name="cardsTitle"]').keyup((function(){let P=$(this).val();$("h2.cardtitle").html(P||"&nbsp;")})),$('input[name="optimizeSpace"]').on("change",(function(){let P=$("#slimText").attr("data-card-modele"),A=parseInt($(this).closest(".uk-form-row").data("hidePub"));1==$(this).val()?($(this).hasClass("notenoughcredit")&&$(this).closest("form").addClass("notenoughcredit"),0===A&&$(".infos").hide(150),$(".topPub").show(150),$("h2").hide(150),$(".hsPub").removeClass("disabled"),$("#saveDesign small").text($("#costWithOptimize").text()),$("#modalCreditEdit .content strong").text(parseInt($("#costWithOptimize").text())),$(".infos").hide(150),$(".infos-small").show(150),5==P?(0===A&&$(".infos-small-top").fadeIn(150),$(".infoCardHide").show(150),$(".topCard").css("height",""),$(".bottomCard").css("height",""),$(".topLeft").css({"background-color":"white"}),$(".topRight").css({"background-color":"white"})):0===A&&$(".infos-small").fadeIn(150)):(0===A&&($(".infos").show(150),$(".infos-small:not(.infoCard)").fadeOut(150)),$(".topPub").hide(150),$("h2").show(150),$(".hsPub").addClass("disabled"),$("#saveDesign small").text($("#costStandard").text()),$("#modalCreditEdit .content strong").text(parseInt($("#costStandard").text())),$(".infos").show(150),$(".infos-small").hide(150),5==P&&(0===A&&$(".infoCardHide").hide(150),$(".topCard").css("height","52.5%"),$(".bottomCard").css("height","47.5%"),$(".topLeft").css({"background-color":""}),$(".topRight").css({"background-color":""})))}))),$("#pList").length>0&&$(".expose").length>0){let ne=$(".expose");ne.css("z-index","99999"),$("html, body").animate({scrollTop:ne.offset().top-75+"px"},"fast"),$(".expose .expose-tooltip").fadeIn("350"),$("#overlay").fadeIn(350,(function(){setTimeout((function(){$(".expose .expose-tooltip").fadeOut("250"),$("#overlay").fadeOut(250,(function(){$(".expose").css("z-index","1")})),ne.children(":not(.expose-tooltip)").first().insertAfter(".expose"),ne.remove()}),5e3)})),$("#overlay").click((function(){$(".expose .expose-tooltip").fadeOut("250"),$("#overlay").fadeOut(250,(function(){ne.css("z-index","1")})),let$children=ne.children(":not(.expose-tooltip)"),$children.first().insertAfter(".expose"),ne.remove()}))}function updateProvinceFromCountry(P,A){let E=$("#province-wrapper"),L=$("#province");void 0===A&&(A=$(this).val()),L.attr("disabled",!0),$.ajax({type:"post",url:rootURL+"json/get-province-list/",dataType:"json",data:{country:A,csrf_tk_bingomaker:csrf_token},success:function(A){"success"==A.status?!1!==A.result?(E.show(150),L.html(""),$.each(A.result,(function(A,E){L.append('<option value="'+E.iso2+'"'+(void 0!==P&&P==E.iso2?" selected":"")+">"+E.name+"</option>")})),L.attr("disabled",!1)):E.hide(150):console.log(A.message)},error:function(P,A,E){console.log(P+":"+A+":"+E)}})}function setDefaultValue(P){if(0==$.trim($(P).val()).length)P.val(0);else{let A=$.trim($(P).val());A.toString().replace(/\./g,","),$(P).val(A)}}function inputsHaveNoGoodValue(){let P=!1,A=$("body").hasClass("en")?"en":"fr",E=!0;return $('input[type^="text"]').each((function(){if($(this).val()){let L=$(this);$('input[type^="text"]').each((function(){if($(this).val()==L.val()&&$(this).attr("id")!=L.attr("id")&&2!=$(this).val()){let L="en"===A?"This value is already exist in the form.":"Cette valeure existe déjà.";removeError($(this)),P=addError($(this),$(this).attr("title")?$(this).attr("title"):L),1==E&&($(this).focus(),E=!1)}}))}else{let L="en"===A?"Enter text here.":"Entrez le texte ici";removeError($(this)),P=addError($(this),L),1==E&&($(this).focus(),E=!1)}})),!P}let jt;$(".tutorialTip .close").on("click touch",(function(P){P.preventDefault(),$(this).closest(".tutorialTip").fadeOut(250)})),$(".showTutorials").on("click touch",(function(P){let A=$(this);A.hasClass("tutorialsOpen")?$(".tutorialTip").fadeOut(250,(function(){A.removeClass("tutorialsOpen")})):$(".tutorialTip").fadeIn(250,(function(){A.addClass("tutorialsOpen")}))})),$("#admin").length>0&&($(".btnadd").on("click touch",(function(P){P.preventDefault(),$(".formContainer").hide(150),$(this).next(".formAdd").show(150)})),$(".btnwithdraw").on("click touch",(function(P){P.preventDefault(),$(".formContainer").hide(150),$(this).next(".formWithdraw").show(150)})),$(".cancel").on("click touch",(function(P){P.preventDefault(),$(this).closest(".formContainer").hide(150)})),$("select[name=updateRaydiantPackage").change((function(){let P=$(this);UIkit.modal.confirm("Voulez-vous vraiment changer le forfait Raydiant de cet utilisateur ? Un projet lié à ce forfait sera automatiquement créé dans le compte de cet utilisateur.",(function(){$.ajax({url:rootURL+"admin/change-raydiant-package/",async:!1,type:"POST",dataType:"json",cache:!1,data:{idUser:P.data("user-id"),package:P.val(),csrf_tk_bingomaker:csrf_token}}).done((function(P){"success"==P.state?UIkit.modal.alert(P.message):console.error(P.message)}))}),(function(){}),{center:!0})}))),$(".smallipopTooltip").smallipop({theme:"black bingomaker",hideOnTriggerClick:!1,hideOnPopupClick:!1,hideDelay:function is_touch_device(){return window.matchMedia("(pointer: coarse)").matches}()?8e3:500}),$(".smallipopClickTooltip").smallipop({theme:"black bingomaker",triggerOnClick:!0,preferredPosition:"bottom",hideDelay:8e3}),$(".smallipopClickTooltipLight").smallipop({theme:"white bingomaker",triggerOnClick:!0,preferredPosition:"top",hideDelay:8e3}),$(".select2").length>0&&$(".select2").select2({}),$(document).on("click touch","button[data-extra-tab], a[data-extra-tab], input[data-extra-tab]",(function(){!function openInNewTab(P){window.open(P,"_blank").focus()}($(this).attr("data-extra-tab"))})),window.autocomplete=null,$(document).on("focus",".autocomplete-field",(function(){var P=$(this).get(0);if(Yt({apiUrl:"https://maps.googleapis.com/maps/api/js",key:"AIzaSyCSViwukSnfeotwwcka4JJFL3l7gp_4F80",libraries:["places"],language:"en"}).then((function(A){null!=P&&(window.autocomplete=new A.places.Autocomplete(P,{types:["geocode"]}),window.autocomplete.addListener("place_changed",(function(){let P=window.autocomplete.getPlace();if(" undefined"!=typeof P){let A=null,E=null,L=null,et=null,nt=null;$("#province-wrapper"),$("#province"),P.address_components.forEach((function(P){switch(P.types[0]){case"street_number":A=P.short_name;break;case"route":E=P.long_name;break;case"administrative_area_level_1":
administrative_area=P.short_name;break;case"locality":L=P.long_name;break;case"country":et=P.long_name;break;case"postal_code":nt=P.long_name}})),(A||E)&&(A&&E?$("#route").val(A+" "+E):A?$("#route").val(A):$("#route").val(E)),L&&$("#locality").val(L),nt&&$("#postal_code").val(nt),et&&($("#country").off("change",updateProvinceFromCountry),$("#country").val(et).trigger("change"),updateProvinceFromCountry(administrative_area,et),$("#country").change(updateProvinceFromCountry))}})),window.autocomplete=autocomplete)})),navigator.geolocation){let P={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition((function(P){let A={lat:P.coords.latitude,lng:P.coords.longitude},E=new google.maps.Circle({center:A,radius:P.coords.accuracy});window.autocomplete.setBounds(E.getBounds())}),(function(P){console.warn(P)}),P)}})),$("#country").change(updateProvinceFromCountry),$("#deposit, #userActionBilling, #userActionAll, #userActionProfile").on("keyup keypress",(function(P){if(13===(P.keyCode||P.which))return P.preventDefault(),!1})),$("#editProfile").on("keyup keypress",(function(P){if(13===(P.keyCode||P.which))return P.preventDefault(),!1})),$("#userAction").on("click touch",(function(P){validForm($(this).closest("form").attr("id"),$(this))})),$("#taxe_fed,#taxe_pro").change((function(){setDefaultValue($(this))})),$("#taxe_fed,#taxe_pro").focusout((function(){setDefaultValue($(this))})),$("#taxe_fed,#taxe_pro").each((function(){setDefaultValue($(this))})),$("#bubble").change((function(){let P=$("#optionReset");document.getElementById("bubble").checked?P.removeAttr("disabled"):(P.prop("disabled",!0),P.removeAttr("checked"))})),$("#clearFilter").click((function(){$(".filterInvoice").val(""),$("#filterForm").submit()})),$("#endYear, #endMonth, #startYear, #startMonth").change((function(){let P=$("#endYear"),A=$("#endMonth"),E=$("#startYear"),L=$("#startMonth"),et=$("#searchbtn"),nt=$("#export"),dt=""==P.val()?-1:parseInt(P.val()),ut=""==E.val()?-1:parseInt(E.val()),pt=""==A.val()?-1:parseInt(A.val()),mt=""==A.val()?-1:parseInt(L.val());if(""!=P.val()||""!=A.val()||""!=E.val()||""!=L.val()){function enabledSubmitTransac(P){nt.attr("disabled",P),et.attr("disabled",P)}P.attr("required",!0),A.attr("required",!0),E.attr("required",!0),L.attr("required",!0),enabledSubmitTransac(ut>dt||ut==dt&&mt>pt)}else P.removeAttr("required"),A.removeAttr("required"),E.removeAttr("required"),L.removeAttr("required")})),$("#model5").change((function(){let P=$("#type0");changeTypeBingoValue(),$(this).is(":checked")&&($("#customTextCard").hide(),1==P.is(":checked")&&$("#type1").prop("checked",!0),$("#cardsTitle").attr("maxlength","24"),$("#num4Coin1").prop("checked",!1),$("#num4Coin2").prop("checked",!0),$("#cornersNumber").hide(150))})),$("#model1,#model2,#model3,#model4").change((function(){let P=$(this).is(":checked"),A=$("#customTextCard"),E=$("#type1"),L=$("#cardsTitle");P&&(A.show(),L.attr("maxlength","45"),$("#cornersNumber").show(150),E.is(":checked")||$("#type2").is(":checked")?changeTypeBingoValue():changeTypeBingoText())})),($("body#caller").length>0||$("body#callerPlay").length>0)&&($(document).on("change",".waytowin",(function(){var P=$(".waytowin:checked").length;P<6?$(".waytowin").attr("disabled",!1):$(".waytowin:not(:checked)").attr("disabled",!0),0==P?$("#nextstep").attr("disabled",!0):$("#nextstep").attr("disabled",!1)})),$(document).on("click",".unselect-all-winning-ways",(function(){$(".winning-ways .waytowin").prop("checked",!1),$("#nextstep").attr("disabled",!0)})),$(document).on("click",".pick-random-winning-ways",(function(){let P,A=parseInt($(this).prev(".random-pick-count").val()),E=$(".winning-ways .waytowin");E.prop("checked",!1),P=E.get().sort((function(){return Math.round(Math.random())-.5})).slice(0,A),$(P).prop("checked",!0)}))),$("#createCaller").length>0&&($("#virtualCards").change((function(){let P=$("#var-create-caller").data("start-number");$("#var-create-caller").data("end-number");let A=parseInt($(this).val()),E=parseInt($(this).attr("max")),L=$("#pwd"),et=$("#name"),nt=$("#gameNameContainer"),dt=$("#pwdContainer");parseInt($('input[name="private"]:checked').val()),$(this).val().length<=0?$(this).val(0):A>E&&($(this).val(E),A=E),A>0?(2!=$('input[name="access_option"]:checked').val()&&(dt.show(100),L.addClass("required"),L.prop("required",!0)),nt.show(100),et.addClass("required"),$("#msgVirtual").hide(),$("#prevNextDraw").show(100),$("#accessType").show(100),$(".message-box").show(100),$("#vrLabelCards").show(),$("#printEndNumber").text(P+E-1-A),A>=E?($("#msgPrint").show(),$("#printCards").hide()):($("#msgPrint").hide(),$("#printCards").show())):($("#msgVirtual").show(),$("#vrLabelCards").hide(),$("#prevNextDraw").hide(100),$("#accessType").hide(100),$(".message-box").hide(100),$("#msgPrint").hide(),$("#printCards").show(),$("#printEndNumber").text(P+E-1-A),2!=$('input[name="access_option"]:checked').val()&&(dt.hide(100),L.removeClass("required"),L.prop("required",!1)),nt.hide(100),et.removeClass("required"),$("#private_game_yes").length>0&&($("#private_game_yes").prop("checked",!0),L.removeClass("required"),L.prop("required",!1))),A===E?$("#print_reminder").hide(100):$("#print_reminder").is(":visible")||$("#print_reminder").show(100);let ut=parseInt($("#printEndNumber").text()),pt=$("#printStart"),mt=$("#vrEnd");$("#vrStart").text(ut+1),"0"==pt.text()&&pt.text(1),"0"==mt.text()&&mt.text(E)})),$("#caller_duration").on("change",(function(){parseInt($("#var-create-caller").data("duration-min"));var P=parseInt($(this).find("option:selected").data("duration-cost")),A=parseInt($("#var-create-caller").data("base-cost"))+P,E=$("button.start-caller");if(currentBalance<A){E.addClass("notenoughcredit");var L=A-currentBalance;$("#modalCreditEdit .content strong").text(L),$("#missingCredits").val(L)}currentBalance>=A&&E.removeClass("notenoughcredit"),A>0?E.find("small").text(A+" "+$("#var-create-caller").data("string-credits")):E.find("small").text($("#var-create-caller").data("free-text"))})),$(document).on("click","#setToMaxValue",(function(){let P=$("#virtualCards"),A=P.attr("max");$("#print_reminder").hide(100),P.val(A).trigger("change"),$(this).attr("id","setToMaxValuePrint").text($(this).data("text-print"))})),$(document).on("click","#setToMaxValuePrint",(function(){let P=$("#virtualCards");$("#print_reminder").show(100),P.val(0).trigger("change"),$(this).attr("id","setToMaxValue").text($(this).data("text-virtual"))})),$(".action").on("click touch",(function(P){P.preventDefault(),$("#actionHidden").val($(this).val()),validForm($(this).closest("form").attr("id"),$(this),!1)&&(!$(this).hasClass("notenoughcredit")||$(this).hasClass("nextstep")?(showHide($(this)),$(this).closest("form").submit()):UIkit.modal("#modalCreditEdit").show())})),$("input[type=radio][name=kind]").change((function(P){P.preventDefault(),2==this.value?($("#statsContainer").hide(),$("#simulationList").removeClass("hide"),$("input[type=radio][name=idPlaylist]").prop("disabled",!1)):($("#statsContainer").show(),$("#simulationList").addClass("hide"),$("input[type=radio][name=idPlaylist]").prop("disabled",!0))})),$("input[type=radio][name=access_option]").change((function(P){P.preventDefault(),2==this.value?($("#codesList").show(150),$("#pwdContainer").hide(150),$("#pwd").removeClass("required").prop("required",!1),$("input[type=radio][name=codes_list]").prop("disabled",!1),$("#virtualCards").val($("#virtualCards").attr("max")).prop("readonly",!0).trigger("change"),$("#cardsInGamePassword").hide(150),$("#cardsInGameCodeList").show(150)):($("#codesList").hide(150),$("#pwdContainer").show(150),$("#pwd").addClass("required").prop("required",!0),$("input[type=radio][name=codes_list]").prop("disabled",!0),$("#virtualCards").prop("readonly",!1),$("#cardsInGamePassword").show(150),$("#cardsInGameCodeList").hide(150))}))),$(".cancelenter").on("keyup keypress",(function(P){if(13===(P.keyCode||P.which))return P.preventDefault(),!1})),$(".hideTransaction").change((function(P){let A=0;$(this),idTransaction=parseInt($(this).attr("data-id-transaction")),A=$(this).is(":checked")?0:1,$.ajax({type:"POST",url:rootURL+"admin/hideTransaction/",data:{idTransaction:idTransaction,hide:A,csrf_tk_bingomaker:csrf_token},dataType:"text",success:function(P){"error"==P.status&&console.log("error request")},error:function(P,A,E){console.log(P+":"+A+":"+E)}})})),$(".nextFreeGameCountdown").length>0&&(jt=setInterval((function(){null!=window.updatetimerPaused&&0!=window.updatetimerPaused||null!=window.pauseInterval&&0!=window.pauseInterval||fetch(rootURL+"callerapi/getTimeToNextFreeGame/",{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"}).then((function(P){P.ok&&P.json().then((function(P){$(".nextFreeGameCountdown").each((function(){if(P.nextGame.hour>0||P.nextGame.minute>0)$(this).find(".minutes").text(P.nextGame.minute),$(this).find(".hours").text(P.nextGame.hour),0==P.nextGame.hour&&$(this).find("#hoursWrapper").hide();else{clearInterval(jt);let P=$(this).closest("a");P.addClass("openCaller"),P.attr("href",$("#nextFreeGameCountdown").closest("a").attr("data-href")),$("#activeGameBtn").length>0&&P.addClass("mustDisable"),$(this).html($("#nextFreeGameCountdown").attr("data-message")),P.removeClass("disabled-href"),P.parent().removeClass("smallipopTooltip")}}))}))}))}),6e4)),$(".nextFreeGameCountdown").each((function(){})),$(".label-effect").each((function(){let P=$(this);P.find("select, input, textarea").each((function(){""!==$(this).val()?P.addClass("has-value"):P.removeClass("has-value"),$(this).on("focusin",(function(){P.hasClass("has-value")||P.addClass("has-value")})),$(this).on("focusout",(function(){""!==$(this).val()?P.addClass("has-value"):P.removeClass("has-value")}))}))}));let Bt=0,Nt=setInterval((function(){$(".label-effect").each((function(){let P=$(this);P.find("select, input, textarea").each((function(){$(this).is(":-webkit-autofill")&&(P.hasClass("has-value")||P.addClass("has-value"))}))})),5==Bt?clearInterval(Nt):Bt++}),100);$(".nextLetter").on("keypress",(function(P){let A=String.fromCharCode(event.keyCode);/[a-zA-Z0-9-_ ]/.test(A)&&($(this).val(A),$(this).next().trigger("focus"))}))},"function"==typeof define&&define.amd?define(P):P();
//# sourceMappingURL=scripts.min.js.map